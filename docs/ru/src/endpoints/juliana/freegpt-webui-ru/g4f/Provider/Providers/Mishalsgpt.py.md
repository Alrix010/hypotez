# Модуль Mishalsgpt

## Обзор

Модуль `Mishalsgpt.py` предоставляет реализацию провайдера Mishalsgpt для работы с моделями GPT через API. 
Он позволяет отправлять запросы к моделям `gpt-3.5-turbo-16k-0613` и `gpt-3.5-turbo` и получать ответы.
Модуль поддерживает потоковую передачу данных и не требует аутентификации.

## Подробней

Модуль предназначен для интеграции с другими частями проекта, требующими доступа к моделям GPT через API Mishalsgpt.
Он определяет функцию `_create_completion`, которая формирует и отправляет запросы к API, а также обрабатывает ответы.
Модуль использует библиотеки `requests` для отправки HTTP-запросов и `typing` для аннотации типов.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """Функция отправляет запрос к API Mishalsgpt для генерации текста на основе предоставленных данных.

    Args:
        model (str): Идентификатор модели, которую нужно использовать (`gpt-3.5-turbo-16k-0613` или `gpt-3.5-turbo`).
        messages (list): Список сообщений для передачи в модель.
        stream (bool): Флаг, указывающий, нужно ли использовать потоковую передачу данных.
        **kwargs: Дополнительные параметры.

    Returns:
        Generator[str, None, None]: Генератор, возвращающий сгенерированный текст по частям.

    Raises:
        requests.exceptions.RequestException: Если возникает ошибка при отправке запроса к API.

    Как работает функция:
    - Функция формирует заголовок запроса, указывая тип контента как JSON.
    - Функция формирует тело запроса, включая идентификатор модели, температуру и список сообщений.
    - Функция отправляет POST-запрос к API Mishalsgpt с использованием библиотеки `requests`.
    - Если `stream` имеет значение `True`, функция возвращает генератор, который выдает части сгенерированного текста по мере их получения.
    - Функция обрабатывает ответ API и извлекает сгенерированный текст из поля `content`.

    Внутренние функции:
        Отсутствуют.

    Примеры:
        >>> model = 'gpt-3.5-turbo'
        >>> messages = [{'role': 'user', 'content': 'Hello, world!'}]
        >>> stream = True
        >>> generator = _create_completion(model, messages, stream)
        >>> for chunk in generator:
        ...     print(chunk)
        Привет, мир!
    """
```

## Переменные модуля

- `url` (str): URL-адрес API Mishalsgpt (`https://mishalsgpt.vercel.app`).
- `model` (list): Список поддерживаемых моделей (`gpt-3.5-turbo-16k-0613` и `gpt-3.5-turbo`).
- `supports_stream` (bool): Флаг, указывающий на поддержку потоковой передачи данных (`True`).
- `needs_auth` (bool): Флаг, указывающий на необходимость аутентификации (`False`).
- `params` (str): Строка, содержащая информацию о поддерживаемых типах данных для функции `_create_completion`.