# Модуль для создания простого Telegram-бота с использованием Pyrogram
==================================================================

Модуль содержит код для создания и запуска простого Telegram-бота с использованием библиотеки Pyrogram. Бот отвечает на команду `/start` приветственным сообщением и эхом повторяет все остальные текстовые сообщения.

## Обзор

Этот модуль предоставляет базовую структуру для создания Telegram-бота с использованием Pyrogram. Он включает в себя:

*   Инициализацию клиента Pyrogram с использованием API ID, API Hash и токена бота, полученных из переменных окружения.
*   Обработчик команды `/start`, который отправляет приветственное сообщение.
*   Обработчик всех текстовых сообщений (кроме команд), который повторяет текст сообщения в ответ.
*   Запуск бота с использованием `app.run()`.

## Подробней

Модуль использует библиотеку Pyrogram для взаимодействия с Telegram API. Переменные `API_ID`, `API_HASH` и `BOT_TOKEN` должны быть установлены в переменных окружения для успешной аутентификации бота.

При запуске скрипта создается экземпляр клиента Pyrogram, регистрируются обработчики сообщений и запускается бот. Бот будет прослушивать входящие сообщения и выполнять соответствующие действия на основе определенных фильтров.

## Функции

### `start_command`

```python
def start_command(client, message):
    """Обработчик команды /start. Отправляет приветственное сообщение в ответ.

    Args:
        client: Экземпляр клиента Pyrogram.
        message: Объект сообщения, представляющий входящее сообщение.

    Returns:
        None

    """
```

**Назначение**: Обрабатывает команду `/start`, отправляя приветственное сообщение пользователю.

**Параметры**:

*   `client`: Экземпляр клиента Pyrogram, используемый для взаимодействия с Telegram API.
*   `message`: Объект сообщения, содержащий информацию о входящем сообщении.

**Возвращает**:

*   `None`

**Как работает функция**:

1.  Функция `start_command` принимает два аргумента: `client` (экземпляр клиента Pyrogram) и `message` (объект сообщения).
2.  Когда бот получает сообщение, начинающееся с команды `/start`, Pyrogram вызывает эту функцию.
3.  Внутри функции используется метод `reply_text` объекта `message` для отправки ответа пользователю. Текст ответа - "Привет! Я простой бот на Pyrogram.".

**Примеры**:

```python
# Пример вызова команды /start пользователем
# Пользователь отправляет: /start
# Бот отвечает: Привет! Я простой бот на Pyrogram.
```

### `echo_message`

```python
def echo_message(client, message):
    """Обработчик всех текстовых сообщений (кроме команд). Повторяет текст сообщения в ответ.

    Args:
        client: Экземпляр клиента Pyrogram.
        message: Объект сообщения, представляющий входящее сообщение.

    Returns:
        None
    """
```

**Назначение**: Обрабатывает все текстовые сообщения, кроме команд, и отправляет эхо-ответ, повторяющий текст сообщения.

**Параметры**:

*   `client`: Экземпляр клиента Pyrogram, используемый для взаимодействия с Telegram API.
*   `message`: Объект сообщения, содержащий информацию о входящем сообщении.

**Возвращает**:

*   `None`

**Как работает функция**:

1.  Функция `echo_message` принимает два аргумента: `client` (экземпляр клиента Pyrogram) и `message` (объект сообщения).
2.  Когда бот получает текстовое сообщение, которое не является командой (т.е., не начинается с `/`), Pyrogram вызывает эту функцию.
3.  Внутри функции используется метод `reply_text` объекта `message` для отправки ответа пользователю. Текст ответа - это текст исходного сообщения (`message.text`).

**Примеры**:

```python
# Пример отправки текстового сообщения пользователем
# Пользователь отправляет: Hello!
# Бот отвечает: Hello!
```

## Запуск бота

```python
if __name__ == "__main__":
    print("Бот запущен...")
    app.run()
```

**Назначение**: Запускает Telegram-бота.

**Как работает**:

1.  Проверяет, является ли текущий скрипт основным запускаемым файлом (`if __name__ == "__main__":`).
2.  Выводит сообщение "Бот запущен..." в консоль.
3.  Вызывает метод `run()` экземпляра клиента Pyrogram (`app`), чтобы запустить бота и начать прослушивание входящих сообщений.