# Модуль миграции базы данных: `2fda6446e69f_initial_revision.py`

## Обзор

Этот модуль содержит Alembic-скрипт миграции базы данных, который создает таблицы `categories`, `users`, `products` и `purchases`. Он также включает функцию для отката этих изменений. Alembic используется для управления изменениями схемы базы данных в проекте.

## Подробнее

Файл содержит определение начальной ревизии базы данных, используемой Alembic для управления миграциями. В функциях `upgrade` и `downgrade` определены операции создания и удаления таблиц, соответственно. Этот файл важен для начальной настройки базы данных и управления её схемой.

## Классы

В этом файле классы отсутствуют.

## Функции

### `upgrade`

**Назначение**: Обновляет схему базы данных, создавая таблицы `categories`, `users`, `products` и `purchases`.

**Параметры**:
- Нет параметров.

**Возвращает**:
- `None`

**Вызывает исключения**:
- Нет явных исключений, но `alembic` может вызывать исключения при ошибках выполнения операций с базой данных.

**Как работает функция**:
- Функция `upgrade` использует объект `op` из библиотеки `alembic` для выполнения операций по созданию таблиц.
- Для каждой таблицы определяются столбцы с их типами, ограничениями и значениями по умолчанию.
- Создаются таблицы `categories`, `users`, `products` и `purchases` со всеми необходимыми столбцами и связями между ними.

**Примеры**:
```python
# Пример вызова функции upgrade (обычно вызывается Alembic автоматически)
upgrade()
```

### `downgrade`

**Назначение**: Откатывает изменения, внесенные функцией `upgrade`, удаляя таблицы `purchases`, `products`, `users` и `categories`.

**Параметры**:
- Нет параметров.

**Возвращает**:
- `None`

**Вызывает исключения**:
- Нет явных исключений, но `alembic` может вызывать исключения при ошибках выполнения операций с базой данных.

**Как работает функция**:
- Функция `downgrade` использует объект `op` из библиотеки `alembic` для выполнения операций по удалению таблиц.
- Удаляются таблицы в обратном порядке от их создания в функции `upgrade`, чтобы избежать проблем с зависимостями.

**Примеры**:
```python
# Пример вызова функции downgrade (обычно вызывается Alembic автоматически)
downgrade()