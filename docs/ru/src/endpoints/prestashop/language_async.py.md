# Модуль для асинхронного управления языками в PrestaShop

## Обзор

Модуль `language_async.py` предназначен для асинхронного управления языками в интернет-магазине PrestaShop. Он предоставляет функциональность для получения информации о языках, используя асинхронные запросы к API PrestaShop.

## Подробнее

Этот модуль является частью проекта `hypotez` и обеспечивает асинхронное взаимодействие с API PrestaShop для выполнения операций, связанных с языками. Он использует классы и методы, определенные в других модулях проекта, таких как `src.endpoints.prestashop.api` и `src.logger.logger`, для обеспечения функциональности и логирования.

## Классы

### `PrestaLanguageAync`

**Описание**: Класс `PrestaLanguageAync` предназначен для взаимодействия с языками в PrestaShop. Он предоставляет методы для получения информации о языках.

**Наследует**:

- `PrestaShopAsync`: Класс наследует функциональность для асинхронного взаимодействия с API PrestaShop.

**Методы**:

- `__init__(self, *args, **kwards)`: Метод инициализации класса.
- `get_lang_name_by_index(self, lang_index: int | str) -> str`: Метод для получения имени языка ISO по его индексу в PrestaShop.
- `get_languages_schema(self) -> dict`: Метод для получения схемы языков.

## Методы класса

### `__init__(self, *args, **kwards)`

```python
def __init__(self, *args, **kwards):
    """Класс интерфейс взаимодействия языками в Prestashop
    Важно помнить, что у каждого магазина своя нумерация языков
    :lang_string: ISO названия языка. Например: en, ru, he
    """
    ...
```

**Назначение**: Инициализирует экземпляр класса `PrestaLanguageAync`.

**Параметры**:

- `*args`: Произвольные позиционные аргументы.
- `**kwards`: Произвольные именованные аргументы.

**Как работает функция**:

Функция инициализирует класс `PrestaLanguageAync`, который предоставляет интерфейс для взаимодействия с языками в PrestaShop. Важно отметить, что каждый магазин PrestaShop имеет свою собственную нумерацию языков. Параметр `lang_string` предназначен для указания ISO-кода языка, например, `en`, `ru`, `he`.

### `get_lang_name_by_index(self, lang_index: int | str) -> str`

```python
async def get_lang_name_by_index(self, lang_index: int | str) -> str:
    """Возвращает имя языка ISO по его индексу в таблице Prestashop"""
    ...
```

**Назначение**: Возвращает имя языка в формате ISO по его индексу в таблице PrestaShop.

**Параметры**:

- `lang_index` (int | str): Индекс языка в таблице PrestaShop.

**Возвращает**:

- `str`: Имя языка в формате ISO или пустую строку в случае ошибки.

**Вызывает исключения**:

- `Exception`: В случае возникновения ошибки при получении данных о языке.

**Как работает функция**:

Функция пытается получить имя языка, используя индекс, переданный в качестве аргумента. Для этого она вызывает метод `get` базового класса `PrestaShopAsync`, передавая параметры для получения информации о языке в формате JSON. Если происходит ошибка, она логируется, и функция возвращает пустую строку.

**Примеры**:

```python
# Пример вызова функции
lang_class = PrestaLanguageAync()
lang_name = await lang_class.get_lang_name_by_index(1)
print(lang_name)
```

### `get_languages_schema(self) -> dict`

```python
async def get_languages_schema(self) -> dict:
    lang_dict = super().get_languages_schema()
    print(lang_dict)
```

**Назначение**: Получает схему языков из PrestaShop.

**Параметры**:

- Нет.

**Возвращает**:

- `dict`: Словарь, представляющий схему языков.

**Как работает функция**:

Функция вызывает метод `get_languages_schema` базового класса `PrestaShopAsync` для получения схемы языков. Полученная схема затем выводится в консоль с использованием функции `print`.

**Примеры**:

```python
# Пример вызова функции
lang_class = PrestaLanguageAync()
languages_schema = await lang_class.get_languages_schema()
print(languages_schema)
```

## Функции

### `main()`

```python
async def main():
    """"""
    ...
    lang_class = PrestaLanguageAync()
    languagas_schema = await  lang_class.get_languages_schema()
    print(languagas_schema)
```

**Назначение**: Асинхронная функция, демонстрирующая получение схемы языков.

**Параметры**:

- Нет.

**Как работает функция**:

Функция создает экземпляр класса `PrestaLanguageAync` и вызывает метод `get_languages_schema` для получения схемы языков. Полученная схема затем выводится в консоль с использованием функции `print`.

**Примеры**:

```python
# Пример вызова функции
asyncio.run(main())
```