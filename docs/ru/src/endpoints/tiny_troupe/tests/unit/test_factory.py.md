# Модуль тестирования фабрики TinyPersonFactory

## Обзор

Этот модуль содержит тесты для проверки корректности работы фабрики `TinyPersonFactory` при генерации объектов `TinyPerson`. Тесты проверяют, что сгенерированные описания соответствуют заданным спецификациям.

## Подробнее

Модуль тестирует функциональность создания персонажей с использованием фабрики `TinyPersonFactory`. В частности, проверяется, что сгенерированные персонажи имеют ожидаемые характеристики и соответствуют предоставленным спецификациям.

## Функции

### `test_generate_person`

```python
def test_generate_person(setup):
    """Функция тестирует генерацию персонажа с использованием TinyPersonFactory.

    Args:
        setup: Фикстура pytest для настройки тестовой среды (не используется в теле функции).

    Raises:
        AssertionError: Если сгенерированное описание не соответствует спецификации.

    Example:
        >>> # Для запуска теста требуется настроенная среда pytest
        >>> # Пример использования: pytest test_factory.py
    """
```

**Назначение**: Тестирование генерации персонажа с использованием `TinyPersonFactory`. Функция проверяет, что сгенерированное описание персонажа соответствует заданной спецификации.

**Параметры**:
- `setup`: Фикстура `pytest` для настройки тестовой среды. В данном тесте не используется непосредственно, но передается автоматически при запуске тестов `pytest`.

**Вызывает исключения**:
- `AssertionError`: Вызывается, если сгенерированное описание не соответствует спецификации.

**Как работает функция**:
1. **Определение спецификации банкира**: Задается текстовое описание (`banker_spec`) для банкира, включающее его должность, образование и текущие задачи.
2. **Создание фабрики персонажей**: Инициализируется `TinyPersonFactory` с предоставленной спецификацией банкира.
3. **Генерация персонажа**: Используется фабрика для генерации объекта `TinyPerson`.
4. **Получение краткой биографии**: Извлекается краткое описание (minibio) сгенерированного персонажа.
5. **Проверка соответствия спецификации**: Проверяется, что сгенерированное описание соответствует заданной спецификации с использованием функции `proposition_holds`. Если описание не соответствует спецификации, тест завершается с ошибкой `AssertionError`.

**ASCII flowchart**:

```
A: Определение спецификации банкира
|
B: Создание фабрики персонажей
|
C: Генерация персонажа
|
D: Получение краткой биографии
|
E: Проверка соответствия спецификации -> AssertionError (если не соответствует)
```

**Примеры**:

Для запуска теста требуется настроенная среда `pytest`.
```bash
pytest test_factory.py