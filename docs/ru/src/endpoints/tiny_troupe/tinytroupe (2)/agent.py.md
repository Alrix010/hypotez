# Модуль agent.py

## Обзор

Модуль предоставляет основные классы и функции для агентов TinyTroupe.
Агенты являются ключевой абстракцией, используемой в TinyTroupe. Агент — это имитируемый человек или сущность, которая может взаимодействовать с другими агентами и средой, получая стимулы и производя действия. У агентов есть когнитивные состояния, которые обновляются по мере их взаимодействия со средой и другими агентами. Агенты могут также хранить и извлекать информацию из памяти, а также выполнять действия в среде. В отличие от агентов, целью которых является оказание поддержки AI-ассистентам или другим подобным инструментам повышения производительности, **агенты TinyTroupe нацелены на представление человекоподобного поведения**, которое включает в себя идиосинкразии, эмоции и другие человеческие черты, которые не следует ожидать от инструмента повышения производительности.

Общий основополагающий дизайн вдохновлен в основном когнитивной психологией, поэтому агенты имеют различные внутренние когнитивные состояния, такие как внимание, эмоции и цели. Именно поэтому память агента, в отличие от других платформ агентов на основе LLM, имеет тонкие внутренние разделения, особенно между эпизодической и семантической памятью. Некоторые бихевиористские концепции также присутствуют, такие как идея «стимула» и «реакции» в методах `listen` и `act`, которые являются ключевыми абстракциями для понимания того, как агенты взаимодействуют со средой и другими агентами.

## Подробнее

Модуль содержит классы для представления агентов (`TinyPerson`), их ментальных способностей (`TinyMentalFaculty`), различных типов памяти (`EpisodicMemory`, `SemanticMemory`) и вспомогательные классы для работы с инструментами (`TinyToolUse`) и интеграции с внешними источниками информации (`FilesAndWebGroundingFaculty`).

## Классы

### `TinyPerson`

**Описание**: Класс представляет собой симуляцию личности в TinyTroupe. Он управляет когнитивными состояниями, памятью и взаимодействием с окружением.

**Наследует**: `JsonSerializableRegistry`

**Атрибуты**:
- `MAX_ACTIONS_BEFORE_DONE` (int): Максимальное количество действий, которое агент может выполнить до того, как будет считаться завершенным.
- `PP_TEXT_WIDTH` (int): Ширина текста для красивой печати.
- `serializable_attributes` (list): Список атрибутов, которые можно сериализовать в JSON.
- `all_agents` (dict): Словарь всех созданных агентов (имя -> агент).
- `communication_style` (str): Стиль общения для всех агентов ("simplified" или "full").
- `communication_display` (bool): Флаг, определяющий, отображать ли общение (True для интерактивных приложений).
- `name` (str): Имя агента.
- `episodic_memory` (EpisodicMemory): Эпизодическая память агента.
- `semantic_memory` (SemanticMemory): Семантическая память агента.
- `_mental_faculties` (list): Список ментальных способностей агента.
- `_configuration` (dict): Словарь конфигурации агента.
- `environment`: Среда, в которой действует агент.
- `_actions_buffer`: Буфер действий агента.
- `_accessible_agents`: Список агентов, с которыми данный агент может взаимодействовать.
- `_displayed_communications_buffer`: Буфер отображаемых сообщений.
- `current_messages`: Текущие сообщения агента.
- `simulation_id`: ID симуляции, в которой участвует агент.

**Принцип работы**:
Класс `TinyPerson` является основным строительным блоком для создания симуляций в TinyTroupe. Он управляет внутренним состоянием агента, включая его память, ментальные способности и конфигурацию. Агент может взаимодействовать с окружением, "слушая" стимулы, "действуя" в соответствии со своими целями и "думая" о происходящем. Класс также предоставляет методы для сохранения и загрузки состояния агента, что позволяет создавать сложные и продолжительные симуляции.

**Методы**:
- `__init__(self, name: str = None, episodic_memory = None, semantic_memory = None, mental_faculties: list = None)`: Инициализирует экземпляр класса `TinyPerson`.
- `_post_init(self, **kwargs)`: Выполняет постобработку после инициализации, устанавливает значения по умолчанию и регистрирует агента.
- `generate_agent_prompt(self)`: Генерирует промпт для агента на основе шаблона и конфигурации.
- `reset_prompt(self)`: Сбрасывает промпт агента к исходному состоянию.
- `get(self, key)`: Возвращает значение из конфигурации агента по ключу.
- `define(self, key, value, group=None)`: Определяет значение в конфигурации агента.
- `define_several(self, group, records)`: Определяет несколько значений в конфигурации агента, относящихся к одной группе.
- `define_relationships(self, relationships, replace=True)`: Определяет или обновляет отношения агента с другими агентами.
- `clear_relationships(self)`: Очищает отношения агента.
- `related_to(self, other_agent, description, symmetric_description=None)`: Определяет отношение между этим агентом и другим агентом.
- `add_mental_faculties(self, mental_faculties)`: Добавляет список ментальных способностей агенту.
- `add_mental_faculty(self, faculty)`: Добавляет ментальную способность агенту.
- `act(self, until_done=True, n=None, return_actions=False, max_content_length=default["max_content_display_length"])`: Агент действует в окружающей среде и обновляет свое внутреннее когнитивное состояние.
- `listen(self, speech, source: AgentOrWorld = None, max_content_length=default["max_content_display_length"])`: Слушает другого агента (искусственного или человека) и обновляет свое внутреннее когнитивное состояние.
- `socialize(self, social_description: str, source: AgentOrWorld = None, max_content_length=default["max_content_display_length"])`: Воспринимает социальный стимул через описание и обновляет свое внутреннее когнитивное состояние.
- `see(self, visual_description, source: AgentOrWorld = None, max_content_length=default["max_content_display_length"])`: Воспринимает визуальный стимул через описание и обновляет свое внутреннее когнитивное состояние.
- `think(self, thought, max_content_length=default["max_content_display_length"])`: Заставляет агента думать о чем-то и обновляет свое внутреннее когнитивное состояние.
- `internalize_goal(self, goal, max_content_length=default["max_content_display_length"])`: Интернализует цель и обновляет свое внутреннее когнитивное состояние.
- `_observe(self, stimulus, max_content_length=default["max_content_display_length"])`: Наблюдает за стимулом и обновляет внутреннее состояние агента.
- `listen_and_act(self, speech, return_actions=False, max_content_length=default["max_content_display_length"])`: Комбинирует методы `listen` и `act`.
- `see_and_act(self, visual_description, return_actions=False, max_content_length=default["max_content_display_length"])`: Комбинирует методы `see` и `act`.
- `think_and_act(self, thought, return_actions=False, max_content_length=default["max_content_display_length"])`: Комбинирует методы `think` и `act`.
- `read_documents_from_folder(self, documents_path: str)`: Считывает документы из папки и загружает их в семантическую память.
- `read_documents_from_web(self, web_urls: list)`: Считывает документы из веб-URL и загружает их в семантическую память.
- `move_to(self, location, context=[])`: Перемещается в новое местоположение и обновляет свое внутреннее когнитивное состояние.
- `change_context(self, context: list)`: Изменяет контекст и обновляет свое внутреннее когнитивное состояние.
- `make_agent_accessible(self, agent: Self, relation_description: str = "An agent I can currently interact with.")`: Делает агента доступным для взаимодействия.
- `make_agent_inaccessible(self, agent: Self)`: Делает агента недоступным для взаимодействия.
- `make_all_agents_inaccessible(self)`: Делает всех агентов недоступными для взаимодействия.
- `_produce_message(self)`: Генерирует сообщение для отправки в OpenAI API.
- `_update_cognitive_state(self, goals=None, context=None, attention=None, emotions=None)`: Обновляет когнитивное состояние агента.
- `_display_communication(self, role, content, kind, simplified=True, max_content_length=default["max_content_display_length"])`: Отображает текущее сообщение и сохраняет его в буфере.
- `_push_and_display_latest_communication(self, rendering)`: Помещает последнее сообщение в буфер агента.
- `pop_and_display_latest_communications(self)`: Извлекает последние сообщения из буфера и отображает их.
- `clear_communications_buffer(self)`: Очищает буфер сообщений.
- `pop_latest_actions(self) -> list`: Возвращает последние действия, выполненные этим агентом.
- `pop_actions_and_get_contents_for(self, action_type: str, only_last_action: bool = True) -> list`: Возвращает содержимое действий заданного типа, выполненных этим агентом.
- `__repr__(self)`: Возвращает строковое представление объекта `TinyPerson`.
- `minibio(self)`: Возвращает мини-биографию агента.
- `pp_current_interactions(self, simplified=True, skip_system=True, max_content_length=default["max_content_display_length"])`: Выводит текущие взаимодействия в удобочитаемом формате.
- `pretty_current_interactions(self, simplified=True, skip_system=True, max_content_length=default["max_content_display_length"], first_n=None, last_n=None, include_omission_info: bool = True)`: Возвращает строку с текущими сообщениями в удобочитаемом формате.
- `_pretty_stimuli(self, role, content, simplified=True, max_content_length=default["max_content_display_length"]) -> list`: Форматирует стимулы для отображения.
- `_pretty_action(self, role, content, simplified=True, max_content_length=default["max_content_display_length"]) -> str`: Форматирует действие для отображения.
- `_pretty_timestamp(self, role, timestamp) -> str`: Форматирует временную метку для отображения.
- `iso_datetime(self) -> str`: Возвращает текущую дату и время среды в формате ISO.
- `save_spec(self, path, include_mental_faculties=True, include_memory=False)`: Сохраняет текущую конфигурацию в файл JSON.
- `load_spec(path, suppress_mental_faculties=False, suppress_memory=False, auto_rename_agent=False, new_agent_name=None)`: Загружает спецификацию агента из файла JSON.
- `encode_complete_state(self) -> dict`: Кодирует полное состояние TinyPerson, включая текущие сообщения, доступных агентов и т. д.
- `decode_complete_state(self, state: dict) -> Self`: Загружает полное состояние TinyPerson, включая текущие сообщения, и создает новый экземпляр TinyPerson.
- `create_new_agent_from_current_spec(self, new_name: str) -> Self`: Создает нового агента на основе текущей спецификации агента.
- `add_agent(agent)`: Добавляет агента в глобальный список агентов.
- `has_agent(agent_name: str)`: Проверяет, зарегистрирован ли уже агент.
- `set_simulation_for_free_agents(simulation)`: Устанавливает симуляцию для свободных агентов.
- `get_agent_by_name(name)`: Получает агента по имени.
- `clear_agents()`: Очищает глобальный список агентов.

#### `__init__`

```python
def __init__(self, name: str = None, episodic_memory = None, semantic_memory = None, mental_faculties: list = None)
```

**Назначение**:
Инициализирует экземпляр класса `TinyPerson`.

**Параметры**:
- `name` (str, optional): Имя агента. Либо это, либо `spec_path` должны быть указаны.
- `episodic_memory` (EpisodicMemory, optional): Реализация памяти для использования. По умолчанию `EpisodicMemory()`.
- `semantic_memory` (SemanticMemory, optional): Реализация памяти для использования. По умолчанию `SemanticMemory()`.
- `mental_faculties` (list, optional): Список ментальных способностей, которые нужно добавить агенту. По умолчанию `None`.

**Как работает функция**:
- Функция принимает имя агента, объекты эпизодической и семантической памяти, а также список ментальных способностей.
- Если память и ментальные способности не переданы, они будут инициализированы позже в методе `_post_init`.
- Функция проверяет, что имя агента указано.
- Инициализирует атрибуты экземпляра класса переданными значениями.

#### `_post_init`

```python
def _post_init(self, **kwargs)
```

**Назначение**:
Выполняет постобработку после инициализации, устанавливает значения по умолчанию и регистрирует агента. Этот метод запускается после `__init__`, так как класс имеет декоратор `@post_init`. Удобно разделять некоторые процессы инициализации, чтобы упростить десериализацию.

**Параметры**:
- `**kwargs`: Произвольные ключевые аргументы. Может содержать `new_agent_name` для переименования агента и `auto_rename` для автоматического переименования при конфликте имен.

**Как работает функция**:
1. **Установка значений по умолчанию**:
   - Инициализирует `current_messages` как пустой список.
   - Устанавливает `environment` в `None`.
   - Инициализирует `_actions_buffer` как пустой список.
   - Инициализирует `_accessible_agents` как пустой список.
   - Инициализирует `_displayed_communications_buffer` как пустой список.
   - Если `episodic_memory` и `semantic_memory` не были установлены в `__init__`, создает их экземпляры.
   - Если `_mental_faculties` не были установлены в `__init__`, создает пустой список.
   - Создает словарь `_configuration` с различными атрибутами агента (имя, возраст, национальность, род занятий, интересы, цели, эмоции и т. д.).
   - Определяет путь к шаблону промпта (`_prompt_template_path`) и инициализирует `_init_system_message` в `None`.

2. **Обработка параметров десериализации**:
   - Если передан `new_agent_name`, переименовывает агента.
   - Если `auto_rename` имеет значение `True`, пытается переименовать агента, добавляя уникальный идентификатор к имени, пока не будет найдено незанятое имя.
   - В противном случае регистрирует агента в глобальном списке агентов (`TinyPerson.all_agents`).

3. **Инициализация промпта**:
   - Сбрасывает промпт агента с помощью `reset_prompt()`.

4. **Установка симуляции**:
   - Если агент создается в контексте симуляции (`current_simulation() is not None`), добавляет агента в симуляцию.

#### `generate_agent_prompt`

```python
def generate_agent_prompt(self)
```

**Назначение**:
Генерирует промпт для агента, используя шаблон Mustache и текущую конфигурацию агента.

**Как работает функция**:
1. **Чтение шаблона**:
   - Открывает файл шаблона промпта (`self._prompt_template_path`) и считывает его содержимое.
2. **Подготовка переменных шаблона**:
   - Создает копию словаря конфигурации агента (`self._configuration`).
   - Итерируется по списку ментальных способностей агента (`self._mental_faculties`) и собирает определения и ограничения действий из каждой способности.
   - Добавляет отступы к определениям и ограничениям действий для улучшения читаемости.
   - Добавляет переменные, связанные с ответственностью искусственного интеллекта (RAI), если это включено.
3. **Рендеринг шаблона**:
   - Использует библиотеку `chevron` для рендеринга шаблона с подготовленными переменными.
4. **Возврат промпта**:
   - Возвращает сгенерированный промпт агента.

#### `reset_prompt`

```python
def reset_prompt(self)
```

**Назначение**:
Сбрасывает промпт агента, генерируя его заново на основе текущей конфигурации и восстанавливая историю эпизодической памяти.

**Как работает функция**:
1. **Генерация промпта**:
   - Вызывает `self.generate_agent_prompt()` для создания нового промпта агента на основе текущей конфигурации.
2. **Обновление системного сообщения**:
   - Устанавливает `self._init_system_message` равным сгенерированному промпту.
3. **Сброс сообщений**:
   - Очищает текущие сообщения (`self.current_messages`) и добавляет системное сообщение с новым промптом.
4. **Восстановление эпизодической памяти**:
   - Добавляет последние сообщения из эпизодической памяти (`self.episodic_memory.retrieve_recent()`) к текущим сообщениям.

#### `get`

```python
def get(self, key)
```

**Назначение**:
Возвращает значение из конфигурации агента по указанному ключу.

**Параметры**:
- `key` (Any): Ключ для поиска значения в конфигурации.

**Возвращает**:
- Значение, связанное с ключом, или `None`, если ключ не найден.

#### `define`

```python
@transactional
def define(self, key, value, group=None)
```

**Назначение**:
Определяет значение в конфигурации агента.

**Параметры**:
- `key` (Any): Ключ для добавления или обновления значения.
- `value` (Any): Значение, которое нужно установить.
- `group` (Any, optional): Группа, к которой принадлежит значение. Если `None`, значение добавляется на верхний уровень конфигурации.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция определения значения в конфигурации агента выполняется как транзакция, гарантируя целостность данных.
2. **Удаление отступов**:
   - Если значение является строкой, удаляет начальные отступы с помощью `textwrap.dedent()`.
3. **Добавление значения**:
   - Если `group` не указана, добавляет значение непосредственно в конфигурацию агента (`self._configuration`).
   - Если `group` указана, добавляет значение в указанную группу в конфигурации.
4. **Сброс промпта**:
   - Вызывает `self.reset_prompt()` для перегенерации промпта агента с учетом новых значений конфигурации.

#### `define_several`

```python
def define_several(self, group, records)
```

**Назначение**:
Определяет несколько значений в конфигурации агента, все принадлежащие к одной группе.

**Параметры**:
- `group` (Any): Группа, к которой принадлежат значения.
- `records` (list): Список записей, которые нужно добавить в группу.

**Как работает функция**:
Итерируется по списку записей и вызывает `self.define()` для каждой записи, передавая `group` в качестве группы.

#### `define_relationships`

```python
@transactional
def define_relationships(self, relationships, replace=True)
```

**Назначение**:
Определяет или обновляет отношения агента с другими агентами.

**Параметры**:
- `relationships` (list или dict): Отношения, которые нужно добавить или заменить. Может быть списком словарей, сопоставляющих имена агентов с описаниями отношений, или одним словарем, сопоставляющим имя одного агента с описанием его отношений.
- `replace` (bool, optional): Определяет, следует ли заменять текущие отношения или просто добавлять к ним. По умолчанию `True`.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция определения отношений выполняется как транзакция.
2. **Обработка отношений**:
   - Если `replace` имеет значение `True` и `relationships` является списком, заменяет текущие отношения новыми отношениями.
   - Если `replace` имеет значение `False`, добавляет новые отношения к текущим отношениям.
3. **Обработка ошибок**:
   - Вызывает исключение, если аргументы недопустимы.

#### `clear_relationships`

```python
@transactional
def clear_relationships(self)
```

**Назначение**:
Очищает отношения агента.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция очистки отношений выполняется как транзакция.
2. **Очистка отношений**:
   - Устанавливает атрибут `relationships` в `[]` в словаре конфигурации агента (`self._configuration`).

#### `related_to`

```python
@transactional
def related_to(self, other_agent, description, symmetric_description=None)
```

**Назначение**:
Определяет отношение между этим агентом и другим агентом.

**Параметры**:
- `other_agent` (TinyPerson): Другой агент.
- `description` (str): Описание отношения.
- `symmetric_description` (str, optional): Описание симметричного отношения. Если указано, то отношение будет определено для обоих агентов.

**Как работает функция**:
1. **Определение отношений**:
   - Вызывает `self.define_relationships()` для определения отношения между этим агентом и `other_agent`.
   - Если указано `symmetric_description`, вызывает `other_agent.define_relationships()` для определения отношения между `other_agent` и этим агентом.

#### `add_mental_faculties`

```python
def add_mental_faculties(self, mental_faculties)
```

**Назначение**:
Добавляет список ментальных способностей агенту.

**Параметры**:
- `mental_faculties` (list): Список ментальных способностей, которые нужно добавить.

**Как работает функция**:
Итерируется по списку ментальных способностей и вызывает `self.add_mental_faculty()` для добавления каждой способности.

#### `add_mental_faculty`

```python
def add_mental_faculty(self, faculty)
```

**Назначение**:
Добавляет ментальную способность агенту.

**Параметры**:
- `faculty` (TinyMentalFaculty): Ментальная способность, которую нужно добавить.

**Как работает функция**:
1. **Проверка наличия**:
   - Проверяет, присутствует ли уже способность в списке ментальных способностей агента (`self._mental_faculties`).
2. **Добавление способности**:
   - Если способность отсутствует, добавляет ее в список.
3. **Обработка ошибок**:
   - Вызывает исключение, если способность уже присутствует.

#### `act`

```python
@transactional
def act(self, until_done=True, n=None, return_actions=False, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Выполняет действие в среде и обновляет внутреннее когнитивное состояние агента.

**Параметры**:
- `until_done` (bool, optional): Продолжать действовать, пока агент не будет завершен и не потребуются дополнительные стимулы. По умолчанию `True`.
- `n` (int, optional): Количество действий для выполнения. По умолчанию `None`.
- `return_actions` (bool, optional): Возвращать ли действия. По умолчанию `False`.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция действия выполняется как транзакция.
2. **Проверка аргументов**:
   - Проверяет, что указан либо `until_done`, либо `n`, но не оба.
   - Если указан `n`, проверяет, что он меньше `TinyPerson.MAX_ACTIONS_BEFORE_DONE`.
3. **Действие**:
   - Определяет внутреннюю функцию `aux_act_once()`, которая выполняет одно действие.
   - В зависимости от аргументов, выполняет действия либо до тех пор, пока агент не будет завершен, либо указанное количество раз.
   - Обновляет эпизодическую память, когнитивное состояние и отображает сообщения.
   - Обрабатывает побочные эффекты действий с помощью ментальных способностей.
4. **Возврат**:
   - Если `return_actions` имеет значение `True`, возвращает список действий.

#### `listen`

```python
@transactional
def listen(self, speech, source: AgentOrWorld = None, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Слушает другого агента (искусственного или человека) и обновляет внутреннее когнитивное состояние.

**Параметры**:
- `speech` (str): Речь, которую нужно прослушать.
- `source` (AgentOrWorld, optional): Источник речи. По умолчанию `None`.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция прослушивания выполняется как транзакция.
2. **Наблюдение за стимулом**:
   - Вызывает `self._observe()` для обработки стимула типа "CONVERSATION".

#### `socialize`

```python
def socialize(self, social_description: str, source: AgentOrWorld = None, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Воспринимает социальный стимул через описание и обновляет внутреннее когнитивное состояние.

**Параметры**:
- `social_description` (str): Описание социального стимула.
- `source` (AgentOrWorld, optional): Источник социального стимула. По умолчанию `None`.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
Вызывает `self._observe()` для обработки стимула типа "SOCIAL".

#### `see`

```python
def see(self, visual_description, source: AgentOrWorld = None, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Воспринимает визуальный стимул через описание и обновляет внутреннее когнитивное состояние.

**Параметры**:
- `visual_description` (str): Описание визуального стимула.
- `source` (AgentOrWorld, optional): Источник визуального стимула. По умолчанию `None`.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
Вызывает `self._observe()` для обработки стимула типа "VISUAL".

#### `think`

```python
def think(self, thought, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Заставляет агента думать о чем-то и обновляет внутреннее когнитивное состояние.

**Параметры**:
- `thought` (str): Мысль, о которой нужно подумать.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
Вызывает `self._observe()` для обработки стимула типа "THOUGHT".

#### `internalize_goal`

```python
def internalize_goal(self, goal, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Интернализует цель и обновляет внутреннее когнитивное состояние.

**Параметры**:
- `goal` (str): Цель, которую нужно интернализировать.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
Вызывает `self._observe()` для обработки стимула типа "INTERNAL_GOAL_FORMULATION".

#### `_observe`

```python
@transactional
def _observe(self, stimulus, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Наблюдает за стимулом и обновляет внутреннее состояние агента.

**Параметры**:
- `stimulus` (dict): Стимул для наблюдения.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция наблюдения выполняется как транзакция.
2. **Обработка стимула**:
   - Создает список стимулов.
   - Добавляет стимул в эпизодическую память.
   - Отображает сообщение.

#### `listen_and_act`

```python
@transactional
def listen_and_act(self, speech, return_actions=False, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Комбинирует методы `listen` и `act`.

**Параметры**:
- `speech` (str): Речь, которую нужно прослушать.
- `return_actions` (bool, optional): Возвращать ли действия. По умолчанию `False`.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция прослушивания и действия выполняется как транзакция.
2. **Вызов методов**:
   - Вызывает `self.listen()` для прослушивания речи.
   - Вызывает `self.act()` для выполнения действия.

#### `see_and_act`

```python
@transactional
def see_and_act(self, visual_description, return_actions=False, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Комбинирует методы `see` и `act`.

**Параметры**:
- `visual_description` (str): Описание визуального стимула.
- `return_actions` (bool, optional): Возвращать ли действия. По умолчанию `False`.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция просмотра и действия выполняется как транзакция.
2. **Вызов методов**:
   - Вызывает `self.see()` для просмотра визуального стимула.
   - Вызывает `self.act()` для выполнения действия.

#### `think_and_act`

```python
@transactional
def think_and_act(self, thought, return_actions=False, max_content_length=default["max_content_display_length"])
```

**Назначение**:
Комбинирует методы `think` и `act`.

**Параметры**:
- `thought` (str): Мысль, о которой нужно подумать.
- `return_actions` (bool, optional): Возвращать ли действия. По умолчанию `False`.
- `max_content_length` (int, optional): Максимальная длина контента для отображения. По умолчанию значение из конфигурации.

**Как работает функция**:
1. **Декоратор `@transactional`**:
   - Обеспечивает, что операция мышления и действия выполняется как транзакция.
2. **Вызов методов**:
   - Вызывает `self.think()` для мышления о мысли.
   - Вызывает `self.act()` для выполнения действия.

#### `read_documents_from_folder`

```python
def read_documents_from_folder(self, documents_path: str)
```

**Назначение**:
Считывает документы из папки и загружает их в семантическую память.

**Параметры**:
- `documents_path` (str): Путь к папке с документами.

**Как работает функция**:
1. **Логирование**:
   - Логирует информацию о загрузке документов.
2. **Загрузка документов**:
   - Вызывает `self.semantic_memory.add_documents_path()` для добавления документов в семантическую память.

#### `read_documents_from_web`

```python
def read_documents_from_web(self, web_urls: list)
```

**Назначение**:
Считывает документы из веб-URL и загружает их в семантическую память.

**Параметры**:
- `web_urls` (list): Список веб-URL.

**Как работает функция**:
1. **Логирование**:
   - Логирует информацию о загрузке документов.
2. **Загрузка документов**:
   - Вызывает `self.semantic_memory.add_web_urls()` для добавления документов в семантическую память.

#### `move_to`

```python
@transactional
def move_to(self, location, context=[])
```

**Назначение**:
Перемещается в новое местоположение и обновляет внутреннее когнитивное состояние.

**Параметры**: