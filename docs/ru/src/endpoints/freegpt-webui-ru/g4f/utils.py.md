# Модуль утилит для работы с куки браузеров
=================================================

Модуль содержит класс `Utils`, который предоставляет методы для получения куки из различных браузеров.

## Обзор

Этот модуль предназначен для извлечения куки из установленных в системе браузеров. Он использует библиотеку `browser_cookie3` для доступа к куки и предоставляет удобный интерфейс для получения куки по домену. Модуль поддерживает наиболее популярные браузеры, такие как Chrome, Safari, Firefox, Edge, Opera, Brave, Opera GX и Vivaldi.

## Подробнее

Модуль `utils.py` предоставляет класс `Utils` с методом `get_cookies`, который позволяет извлекать куки из различных браузеров. Это может быть полезно для автоматизации входа на сайты, обхода ограничений и выполнения других задач, требующих доступа к куки.

## Классы

### `Utils`

**Описание**: Класс, содержащий методы для получения куки из различных браузеров.

**Методы**:
- `get_cookies(domain: str, setName: str = None, setBrowser: str = False) -> dict`: Получает куки для указанного домена из установленных браузеров.

## Функции

### `get_cookies`

```python
def get_cookies(domain: str, setName: str = None, setBrowser: str = False) -> dict:
    """Получает куки для указанного домена из установленных браузеров.

    Args:
        domain (str): Домен, для которого требуется получить куки.
        setName (str, optional): Имя конкретной куки, которую нужно получить. По умолчанию `None`.
        setBrowser (str, optional): Имя браузера, из которого нужно получить куки. По умолчанию `False`.

    Returns:
        dict: Словарь, содержащий куки для указанного домена.

    Raises:
        ValueError: Если указанное имя куки не найдено ни в одном браузере.

    """
    ...
```

**Назначение**: Получение куки для указанного домена из установленных браузеров.

**Параметры**:
- `domain` (str): Домен, для которого требуется получить куки.
- `setName` (str, optional): Имя конкретной куки, которую нужно получить. По умолчанию `None`.
- `setBrowser` (str, optional): Имя браузера, из которого нужно получить куки. Если `False`, куки будут получены из всех поддерживаемых браузеров. По умолчанию `False`.

**Возвращает**:
- `dict`: Словарь, содержащий куки для указанного домена. Ключи словаря - имена куки, значения - значения куки.

**Вызывает исключения**:
- `ValueError`: Если указанное имя куки не найдено ни в одном браузере и параметр `setName` не равен `None`.

**Как работает функция**:

1. **Инициализация**: Функция начинает с инициализации пустого словаря `cookies`, который будет использоваться для хранения куки.
2. **Выбор браузеров**:
   - Если параметр `setBrowser` не равен `False`, функция пытается получить куки только из указанного браузера.
   - Если `setBrowser` равен `False`, функция перебирает все браузеры, определенные в списке `Utils.browsers`.
3. **Получение куки**:
   - Для каждого браузера функция пытается получить куки, используя библиотеку `browser_cookie3`.
   - Функция перебирает все куки, полученные из браузера, и добавляет их в словарь `cookies`, если их имена еще не присутствуют в словаре.
4. **Обработка ошибок**:
   - Если во время получения куки возникает исключение, функция игнорирует его и переходит к следующему браузеру.
5. **Фильтрация по имени**:
   - Если параметр `setName` не равен `None`, функция пытается вернуть только куки с указанным именем.
   - Если куки с указанным именем не найдена, функция выводит сообщение об ошибке и завершает работу.
6. **Возврат результата**:
   - Если параметр `setName` равен `None`, функция возвращает словарь со всеми полученными куки.
   - Если параметр `setName` не равен `None`, функция возвращает словарь, содержащий только куки с указанным именем.

**ASCII flowchart**:

```
A[Инициализация словаря cookies]
|
B[Проверка setBrowser]
|
C[setBrowser == False?] -- No --> D[Перебор браузеров из Utils.browsers, где browser.__name__ == setBrowser]
|                            Yes
|                            |
|                            --> E[Перебор браузеров из Utils.browsers]
|                                |
F[Для каждого браузера: попытка получить куки]
|
G[Успешно получены куки?] -- No --> H[Игнорировать исключение]
|                            Yes
|                            |
|                            --> I[Перебор куки и добавление в словарь cookies (если имя не существует)]
|
J[Проверка setName]
|
K[setName == None?] -- No --> L[Попытка вернуть куки с указанным именем]
|                        Yes
|                        |
|                        --> M[Возврат словаря cookies]
|
N[Куки с указанным именем найдена?] -- No --> O[Вывод сообщения об ошибке и завершение]
|                                  Yes
|                                  |
|                                  --> P[Возврат словаря с куки с указанным именем]
```

**Примеры**:

```python
# Получение всех куки для домена "example.com"
cookies = Utils.get_cookies("example.com")
print(cookies)

# Получение конкретной куки с именем "session_id" для домена "example.com"
session_cookie = Utils.get_cookies("example.com", setName="session_id")
print(session_cookie)

# Получение куки только из браузера Chrome для домена "example.com"
chrome_cookies = Utils.get_cookies("example.com", setBrowser="Chrome")
print(chrome_cookies)