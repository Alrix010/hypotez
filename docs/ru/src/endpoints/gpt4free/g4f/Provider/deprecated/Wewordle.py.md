# Документация модуля Wewordle

## Обзор

Модуль `Wewordle` предоставляет асинхронный класс `Wewordle`, который является провайдером для работы с определенной версией GPT (вероятно, GPT-3.5 Turbo) через API `wewordle.org`. Этот модуль предназначен для интеграции с другими частями проекта `hypotez`, где требуется взаимодействие с языковой моделью GPT через асинхронные запросы.

## Подробней

`Wewordle` использует библиотеку `aiohttp` для выполнения асинхронных HTTP-запросов. Он генерирует случайные идентификаторы пользователя и приложения, а также формирует данные запроса в определенном формате, ожидаемом API `wewordle.org`. Модуль предоставляет возможность использования прокси для запросов.

## Классы

### `Wewordle`

**Описание**: Асинхронный провайдер для взаимодействия с API `wewordle.org`.

**Наследует**: `AsyncProvider` (предположительно, базовый класс для асинхронных провайдеров в проекте `hypotez`).

**Атрибуты**:
- `url` (str): URL-адрес API `wewordle.org`.
- `working` (bool): Указывает, находится ли провайдер в рабочем состоянии. По умолчанию `False`.
- `supports_gpt_35_turbo` (bool): Указывает, поддерживает ли провайдер модель `gpt-3.5-turbo`. По умолчанию `True`.

## Методы класса

### `create_async`

```python
    async def create_async(
        cls,
        model: str,
        messages: list[dict[str, str]],
        proxy: str = None,
        **kwargs
    ) -> str:
        """ Асинхронно отправляет запрос к API wewordle.org и возвращает ответ.

        Args:
            cls (Wewordle): Класс, метод которого вызывается.
            model (str): Идентификатор модели, используемой для запроса.
            messages (list[dict[str, str]]): Список сообщений для отправки в запросе.
            proxy (str, optional): URL-адрес прокси-сервера для использования. По умолчанию `None`.
            **kwargs: Дополнительные аргументы.

        Returns:
            str: Содержимое ответа от API.

        Raises:
            aiohttp.ClientResponseError: Если HTTP-запрос завершается с ошибкой.
        """
```

**Назначение**: Отправляет асинхронный запрос к API `wewordle.org` и возвращает содержимое ответа.

**Параметры**:
- `cls` (Wewordle): Ссылка на класс `Wewordle`.
- `model` (str): Идентификатор модели, используемой для запроса.
- `messages` (list[dict[str, str]]): Список сообщений для отправки в запросе.
- `proxy` (str, optional): URL-адрес прокси-сервера для использования. По умолчанию `None`.
- `**kwargs`: Дополнительные аргументы.

**Как работает функция**:

1. **Формирование заголовков**: Определяются заголовки HTTP-запроса, включая `accept`, `pragma`, `Content-Type` и `Connection`.
2. **Генерация идентификаторов**: Генерируются случайные идентификаторы пользователя (`_user_id`) и приложения (`_app_id`) с использованием случайных символов и цифр.
3. **Формирование данных запроса**: Создается словарь `data`, содержащий идентификатор пользователя, сообщения, информацию о подписке и другие параметры, необходимые для запроса к API.
4. **Выполнение запроса**: Используется `aiohttp.ClientSession` для отправки POST-запроса к API `wewordle.org`. В случае успеха возвращается содержимое ответа в формате JSON. Если запрос завершается с ошибкой, вызывается исключение `aiohttp.ClientResponseError`.
5. **Обработка ответа**: Извлекается содержимое сообщения из JSON-ответа и возвращается.

**Примеры**:

```python
import asyncio
from aiohttp import ClientSession

# Пример использования (предположительно)
async def main():
    model = "gpt-3.5-turbo"
    messages = [{"role": "user", "content": "Hello, GPT!"}]
    proxy = "http://your-proxy-server:8080"

    async with ClientSession() as session:
        response = await Wewordle.create_async(
            model=model,
            messages=messages,
            proxy=proxy
        )
        print(response)

if __name__ == "__main__":
    asyncio.run(main())