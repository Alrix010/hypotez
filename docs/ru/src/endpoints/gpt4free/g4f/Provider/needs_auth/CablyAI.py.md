# Модуль `CablyAI`

## Обзор

Модуль `CablyAI` предоставляет класс для взаимодействия с API CablyAI, который является провайдером GPT4Free. Этот класс наследуется от `OpenaiTemplate` и предназначен для асинхронной генерации ответов на основе предоставленных сообщений. CablyAI требует аутентификации и поддерживает потоковую передачу данных, системные сообщения и историю сообщений.

## Подробнее

Модуль определяет параметры подключения к сервису CablyAI, такие как URL, базовый API URL, а также указывает на необходимость аутентификации для работы с сервисом. Он использует класс `OpenaiTemplate` как базовый для реализации логики взаимодействия с API CablyAI.

## Классы

### `CablyAI`

**Описание**: Класс `CablyAI` предназначен для взаимодействия с API CablyAI. Он наследует функциональность от класса `OpenaiTemplate` и переопределяет некоторые параметры для работы с CablyAI.

**Наследует**:
- `OpenaiTemplate`: Предоставляет базовую реализацию для взаимодействия с API OpenAI-подобных сервисов.

**Атрибуты**:
- `url` (str): URL для доступа к чату CablyAI.
- `login_url` (str): URL для входа в систему CablyAI.
- `api_base` (str): Базовый URL для API CablyAI.
- `working` (bool): Указывает, работает ли данный провайдер. Значение `True` означает, что провайдер работает.
- `needs_auth` (bool): Указывает, требуется ли аутентификация для работы с провайдером. Значение `True` означает, что аутентификация необходима.
- `supports_stream` (bool): Указывает, поддерживает ли провайдер потоковую передачу данных. Значение `True` означает, что поддержка есть.
- `supports_system_message` (bool): Указывает, поддерживает ли провайдер системные сообщения. Значение `True` означает, что поддержка есть.
- `supports_message_history` (bool): Указывает, поддерживает ли провайдер историю сообщений. Значение `True` означает, что поддержка есть.

**Принцип работы**:
Класс `CablyAI` использует атрибуты для настройки подключения к API CablyAI. Метод `create_async_generator` переопределяется для добавления специфичных заголовков, необходимых для аутентификации и взаимодействия с API CablyAI.

## Методы класса

### `create_async_generator`

```python
@classmethod
def create_async_generator(
    cls,
    model: str,
    messages: Messages,
    api_key: str = None,
    stream: bool = False,
    **kwargs
) -> AsyncResult:
    """Создает асинхронный генератор для взаимодействия с API CablyAI.

    Args:
        cls (CablyAI): Ссылка на класс `CablyAI`.
        model (str): Идентификатор модели, используемой для генерации ответов.
        messages (Messages): Список сообщений для отправки в API.
        api_key (str, optional): Ключ API для аутентификации. По умолчанию `None`.
        stream (bool, optional): Указывает, использовать ли потоковую передачу данных. По умолчанию `False`.
        **kwargs: Дополнительные аргументы, которые будут переданы в базовый метод.

    Returns:
        AsyncResult: Асинхронный результат, который можно использовать для получения сгенерированных данных.

    Raises:
        ModelNotSupportedError: Если указанная модель не поддерживается CablyAI.

    Как работает функция:
    - Функция устанавливает необходимые заголовки для аутентификации и взаимодействия с API CablyAI, включая токен авторизации.
    - Функция вызывает метод `create_async_generator` родительского класса `OpenaiTemplate`, передавая заголовки и другие параметры.

    """
```

**Параметры**:

- `cls` (CablyAI): Ссылка на класс.
- `model` (str): Идентификатор модели, используемой для генерации ответов.
- `messages` (Messages): Список сообщений для отправки в API.
- `api_key` (str, optional): Ключ API для аутентификации. По умолчанию `None`.
- `stream` (bool, optional): Указывает, использовать ли потоковую передачу данных. По умолчанию `False`.
- `**kwargs`: Дополнительные аргументы, которые будут переданы в базовый метод.

**Примеры**:

```python
from g4f.Provider import CablyAI
from g4f.models import gpt_35_turbo

# Пример использования create_async_generator
messages = [{"role": "user", "content": "Hello, CablyAI!"}]
api_key = "YOUR_API_KEY"  # Замените на ваш реальный API ключ
result = CablyAI.create_async_generator(model=gpt_35_turbo.name, messages=messages, api_key=api_key, stream=False)

# Для получения ответа потребуется асинхронный код
# Пример:
# async for message in result:
#     print(message)