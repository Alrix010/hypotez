# Модуль для работы с интернет-поиском

## Обзор

Модуль предоставляет функциональность для выполнения интернет-поиска и получения результатов. Включает в себя функции для поиска информации в интернете и форматирования результатов поиска в виде сообщений.

## Подробней

Этот модуль используется для интеграции поисковых запросов в другие части проекта, предоставляя удобный интерфейс для выполнения поиска и обработки его результатов. Он обеспечивает возможность получения релевантной информации из интернета и представления ее в структурированном виде.

## Функции

### `search`

```python
from ...tools.web_search import SearchResults, search, get_search_message
def search(query: str, num_results: int = 5) -> SearchResults:
    """
    Выполняет поисковый запрос в интернете.

    Args:
        query (str): Поисковый запрос.
        num_results (int): Количество возвращаемых результатов. По умолчанию 5.

    Returns:
        SearchResults: Результаты поиска.

    Raises:
        Exception: В случае ошибки при выполнении поиска.

    Example:
        >>> results = search("погода в Москве", num_results=3)
        >>> print(results)
        SearchResults(results=[...])
    """
```

**Назначение**: Выполняет поисковый запрос в интернете и возвращает результаты поиска.

**Параметры**:
- `query` (str): Строка поискового запроса.
- `num_results` (int): Количество результатов, которые необходимо вернуть. По умолчанию равно 5.

**Возвращает**:
- `SearchResults`: Объект, содержащий результаты поиска.

**Вызывает исключения**:
- `Exception`: Возникает, если в процессе выполнения поискового запроса происходит ошибка.

**Как работает функция**:

1. Функция принимает поисковый запрос и количество желаемых результатов.
2. Использует библиотеку для выполнения поиска в интернете.
3. Возвращает результаты поиска в виде объекта `SearchResults`.

**ASCII flowchart**:

```
Поисковый запрос и количество результатов
│
└──→ Выполнение поискового запроса
│
└──→ Возврат результатов в виде SearchResults
```

**Примеры**:

```python
from ...tools.web_search import SearchResults, search, get_search_message
# Пример 1: Поиск с использованием запроса и количества результатов по умолчанию
results1 = search("погода в Москве")
print(results1)

# Пример 2: Поиск с указанием количества результатов
results2 = search("новости спорта", num_results=3)
print(results2)
```

### `get_search_message`

```python
def get_search_message(query: str, results: SearchResults) -> str:
    """
    Форматирует результаты поиска в виде сообщения.

    Args:
        query (str): Исходный поисковый запрос.
        results (SearchResults): Результаты поиска.

    Returns:
        str: Отформатированное сообщение с результатами поиска.

    Raises:
        Exception: В случае ошибки при форматировании сообщения.

    Example:
        >>> results = search("погода в Москве", num_results=3)
        >>> message = get_search_message("погода в Москве", results)
        >>> print(message)
        Результаты поиска по запросу "погода в Москве":\n1. ...\n2. ...\n3. ...
    """
```

**Назначение**: Форматирует результаты поиска в виде текстового сообщения для удобного представления пользователю.

**Параметры**:
- `query` (str): Исходный поисковый запрос.
- `results` (SearchResults): Результаты поиска, которые необходимо отформатировать.

**Возвращает**:
- `str`: Отформатированное сообщение с результатами поиска.

**Вызывает исключения**:
- `Exception`: Возникает при ошибке во время форматирования сообщения.

**Как работает функция**:

1. Функция принимает поисковый запрос и результаты поиска.
2. Форматирует результаты в виде удобочитаемого текстового сообщения, включая исходный запрос и список найденных результатов.
3. Возвращает отформатированное сообщение.

**ASCII flowchart**:

```
Поисковый запрос и результаты поиска
│
└──→ Форматирование результатов в текстовое сообщение
│
└──→ Возврат отформатированного сообщения
```

**Примеры**:

```python
from ...tools.web_search import SearchResults, search, get_search_message
# Пример 1: Получение сообщения для результатов поиска
query = "новости спорта"
results = search(query, num_results=2)
message = get_search_message(query, results)
print(message)