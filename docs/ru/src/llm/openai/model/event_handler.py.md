# Модуль `event_handler`

## Обзор

Модуль `event_handler` предназначен для обработки событий, связанных с ассистентами OpenAI. Он содержит класс `EventHandler`, который определяет, как обрабатывать события в потоке ответов, полученных от ассистента OpenAI. Класс `EventHandler` наследуется от `AssistantEventHandler` и переопределяет несколько методов для обработки различных типов событий, таких как создание текста, изменение текста и вызовы инструментов.

## Подробней

Этот модуль позволяет организовать обработку событий в реальном времени при взаимодействии с ассистентами OpenAI. Он особенно полезен для приложений, требующих немедленной реакции на события, генерируемые ассистентом, такие как отображение промежуточных результатов или обработка вызовов инструментов.

## Классы

### `EventHandler`

**Описание**: Класс `EventHandler` предназначен для обработки событий, связанных с ассистентами OpenAI. Он переопределяет методы класса `AssistantEventHandler` для обработки различных типов событий.

**Наследует**: `AssistantEventHandler`

**Методы**:

- `on_text_created(self, text: Text) -> None`
- `on_text_delta(self, delta: TextDelta, snapshot: Text) -> None`
- `on_tool_call_created(self, tool_call: ToolCall) -> None`
- `on_tool_call_delta(self, delta: ToolCallDelta, snapshot: ToolCall) -> None`

## Методы класса

### `on_text_created`

```python
def on_text_created(self, text: Text) -> None:
    """
    Обработчик события создания текста.

    Args:
        text (Text): Объект `Text`, представляющий созданный текст.

    Returns:
        None

    
    - Функция вызывается, когда создается новый текстовый блок в ответе ассистента.
    - Она выводит символ новой строки и строку "assistant > " в консоль.
    """
```

### `on_text_delta`

```python
def on_text_delta(self, delta: TextDelta, snapshot: Text) -> None:
    """
    Обработчик события изменения текста.

    Args:
        delta (TextDelta): Объект `TextDelta`, представляющий изменение текста.
        snapshot (Text): Объект `Text`, представляющий текущее состояние текста.

    Returns:
        None

    
    - Функция вызывается, когда текстовый блок изменяется (например, добавляются новые символы).
    - Она выводит добавленное значение (`delta.value`) в консоль без символа новой строки.
    """
```

### `on_tool_call_created`

```python
def on_tool_call_created(self, tool_call: ToolCall) -> None:
    """
    Обработчик события создания вызова инструмента.

    Args:
        tool_call (ToolCall): Объект `ToolCall`, представляющий вызов инструмента.

    Returns:
        None

    
    - Функция вызывается, когда создается новый вызов инструмента в ответе ассистента.
    - Она выводит символ новой строки, строку "assistant > ", тип вызова инструмента (`tool_call.type`) и символ новой строки в консоль.
    """
```

### `on_tool_call_delta`

```python
def on_tool_call_delta(self, delta: ToolCallDelta, snapshot: ToolCall) -> None:
    """
    Обработчик события изменения вызова инструмента.

    Args:
        delta (ToolCallDelta): Объект `ToolCallDelta`, представляющий изменение вызова инструмента.
        snapshot (ToolCall): Объект `ToolCall`, представляющий текущее состояние вызова инструмента.

    Returns:
        None

    
    - Функция вызывается, когда вызов инструмента изменяется.
    - Если тип вызова инструмента - "code_interpreter" и есть изменения в `code_interpreter`, функция выводит входные данные и результаты выполнения кода в консоль.
    - В случае наличия выходных данных (`delta.code_interpreter.outputs`) она итерируется по ним и, если тип вывода "logs", выводит логи в консоль.
    """