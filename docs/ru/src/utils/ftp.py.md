# Модуль для работы с FTP серверами

## Обзор

Модуль `src.utils.ftp` предоставляет интерфейс для взаимодействия с FTP-серверами. Он включает в себя функции для отправки, получения и удаления файлов с FTP-сервера.

## Подробнее

Модуль позволяет отправлять медиафайлы (изображения, видео), электронные таблицы и другие файлы на FTP-сервер и получать их с него.

Модуль использует следующие библиотеки:
- `src.logger.logger`: для логирования операций.
- `typing`: для аннотации типов.
- `ftplib`: для работы с протоколом FTP.
- `pathlib`: для работы с путями к файлам.

## Функции

### `write`

**Назначение**: Отправляет файл на FTP-сервер.

**Параметры**:
- `source_file_path` (str): Путь к файлу, который нужно отправить.
- `dest_dir` (str): Путь к целевой директории на FTP-сервере.
- `dest_file_name` (str): Имя файла на FTP-сервере.

**Возвращает**:
- `bool`: `True`, если файл успешно отправлен, `False` в противном случае.

**Как работает функция**:

Функция `write` выполняет следующие действия:
1.  Устанавливает соединение с FTP-сервером, используя параметры из глобальной переменной `_connection`.
2.  Переходит в указанную директорию на FTP-сервере.
3.  Открывает исходный файл в бинарном режиме для чтения.
4.  Отправляет файл на FTP-сервер, используя команду `STOR`.
5.  Закрывает соединение с FTP-сервером.
6.  В случае возникновения исключений на любом этапе, функция логирует ошибку и возвращает `False`.

**Примеры**:

```python
success = write('local_path/to/file.txt', '/remote/directory', 'file.txt')
print(success)
```

### `read`

**Назначение**: Получает файл с FTP-сервера.

**Параметры**:
- `source_file_path` (str): Путь, по которому файл будет сохранен локально.
- `dest_dir` (str): Директория на FTP-сервере, где находится файл.
- `dest_file_name` (str): Имя файла на FTP-сервере.

**Возвращает**:
- `Union[str, bytes, None]`: Содержимое файла, если файл успешно получен, `None` в противном случае.

**Как работает функция**:

Функция `read` выполняет следующие действия:
1.  Устанавливает соединение с FTP-сервером, используя параметры из глобальной переменной `_connection`.
2.  Переходит в указанную директорию на FTP-сервере.
3.  Открывает локальный файл в бинарном режиме для записи.
4.  Получает файл с FTP-сервера, используя команду `RETR` и записывает его в локальный файл.
5.  Закрывает соединение с FTP-сервером.
6.  В случае возникновения исключений на любом этапе, функция логирует ошибку и возвращает `None`.

**Примеры**:

```python
content = read('local_path/to/file.txt', '/remote/directory', 'file.txt')
print(content)
```

### `delete`

**Назначение**: Удаляет файл с FTP-сервера.

**Параметры**:
- `source_file_path` (str): Локальный путь к файлу (не используется).
- `dest_dir` (str): Директория на FTP-сервере, где находится файл.
- `dest_file_name` (str): Имя файла на FTP-сервере.

**Возвращает**:
- `bool`: `True`, если файл успешно удален, `False` в противном случае.

**Как работает функция**:

Функция `delete` выполняет следующие действия:
1.  Устанавливает соединение с FTP-сервером, используя параметры из глобальной переменной `_connection`.
2.  Переходит в указанную директорию на FTP-сервере.
3.  Удаляет файл с FTP-сервера, используя команду `DELE`.
4.  Закрывает соединение с FTP-сервером.
5.  В случае возникновения исключений на любом этапе, функция логирует ошибку и возвращает `False`.

**Примеры**:

```python
success = delete('local_path/to/file.txt', '/remote/directory', 'file.txt')
print(success)
```