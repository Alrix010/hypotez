# Модуль для автоматического обновления docstring функции

## Обзор

Модуль содержит декоратор `autodoc`, который автоматически обновляет строку документации функции, добавляя информацию о времени последнего вызова. Это полезно для отслеживания времени выполнения функций и динамического документирования изменений.

## Подробнее

Этот модуль предоставляет декоратор для автоматического добавления информации о времени последнего вызова функции в её `docstring`. Он использует библиотеку `time` для получения текущего времени и обновляет `docstring` функции перед каждым её вызовом.

## Классы

В данном модуле нет классов.

## Функции

### `autodoc`

**Назначение**:
Декоратор `autodoc` используется для автоматического обновления `docstring` функции перед каждым её вызовом.

**Параметры**:
- `func` (function): Функция, для которой необходимо обновить `docstring`.

**Возвращает**:
- `wrapper` (function): Обернутая функция, которая вызывает исходную функцию после обновления её `docstring`.

**Как работает функция**:
1. Декоратор `autodoc` принимает функцию `func` в качестве аргумента.
2. Внутри декоратора определяется функция `wrapper`, которая оборачивает исходную функцию.
3. Функция `wrapper` перед вызовом исходной функции вызывает функцию `update_docstring`, которая добавляет информацию о времени последнего вызова в `docstring` функции.
4. После обновления `docstring`, функция `wrapper` вызывает исходную функцию `func` с переданными аргументами.
5. Возвращается функция `wrapper`.

**Примеры**:

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")
```

### `update_docstring`

**Назначение**:
Функция `update_docstring` добавляет информацию о времени последнего вызова функции в её `docstring`.

**Параметры**:
- `func` (function): Функция, чей `docstring` необходимо обновить.

**Как работает функция**:
1. Функция `update_docstring` принимает функцию `func` в качестве аргумента.
2. Получает текущее время с использованием `time.strftime("%Y-%m-%d %H:%M:%S")`.
3. Проверяет, существует ли `docstring` у функции.
4. Если `docstring` существует, добавляет в конец `docstring` строку с информацией о времени последнего вызова.
5. Если `docstring` не существует, создает новый `docstring` с информацией о времени последнего вызова.

**Примеры**:

```python
def update_docstring(func):
    """Обновляет docstring функции."""
    current_time = time.strftime("%Y-%m-%d %H:%M:%S")
    
    # Проверяем, существует ли docstring
    if func.__doc__:
        # Добавляем информацию о времени последнего вызова
        func.__doc__ += f"\n\nLast called at: {current_time}"
    else:
        func.__doc__ = f"Last called at: {current_time}"
```

### `example_function`

**Назначение**:
Пример функции, демонстрирующий использование декоратора `autodoc`.

**Параметры**:
- `param1` (int): Первое значение.
- `param2` (str): Второе значение.

**Как работает функция**:
1. Функция `example_function` принимает два аргумента: `param1` (целое число) и `param2` (строка).
2. Выводит сообщение, содержащее значения `param1` и `param2`.
3. Функция декорирована декоратором `autodoc`, который автоматически обновляет её `docstring` перед каждым вызовом.

**Примеры**:

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")
```

## Тестирование

В конце модуля происходит тестирование функции `example_function` путем её вызова несколько раз и вывода её `docstring` после каждого вызова. Это позволяет убедиться, что декоратор `autodoc` работает корректно и добавляет информацию о времени последнего вызова в `docstring` функции.