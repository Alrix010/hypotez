# Модуль `src.utils.printer`

## Обзор

Модуль `src.utils.printer` предоставляет утилиты для форматированного вывода данных в консоль с возможностью стилизации текста, включая изменение цвета, фона и шрифта. Он содержит функции для упрощения и улучшения читаемости выводимой информации. Модуль предназначен для использования в различных частях проекта `hypotez`, где требуется наглядное представление данных.

## Подробнее

Модуль предоставляет функцию `pprint` для форматированного вывода различных типов данных, таких как словари, списки и строки. Также модуль позволяет стилизовать текст с помощью ANSI escape кодов, что позволяет изменять цвет текста, фона и шрифт. Это особенно полезно для выделения важной информации или для улучшения читаемости выводимых сообщений.
Модуль содержит предопределенные цвета текста, фона и стили шрифта, что упрощает их использование.

## Константы

### `RESET`
```python
RESET = "\\033[0m"
```
Код ANSI escape, используемый для сброса всех стилей текста к значениям по умолчанию.

### `TEXT_COLORS`
```python
TEXT_COLORS = {
    "red": "\\033[31m",
    "green": "\\033[32m",
    "blue": "\\033[34m",
    "yellow": "\\033[33m",
    "white": "\\033[37m",
    "cyan": "\\033[36m",
    "magenta": "\\033[35m",
    "light_gray": "\\033[37m",
    "dark_gray": "\\033[90m",
    "light_red": "\\033[91m",
    "light_green": "\\033[92m",
    "light_blue": "\\033[94m",
    "light_yellow": "\\033[93m",
}
```
Словарь, содержащий коды ANSI escape для различных цветов текста. Ключи словаря представляют собой названия цветов (например, "red", "green"), а значения - соответствующие коды ANSI escape.

### `BG_COLORS`
```python
BG_COLORS = {
    "bg_red": "\\033[41m",
    "bg_green": "\\033[42m",
    "bg_blue": "\\033[44m",
    "bg_yellow": "\\033[43m",
    "bg_white": "\\033[47m",
    "bg_cyan": "\\033[46m",
    "bg_magenta": "\\033[45m",
    "bg_light_gray": "\\033[47m",
    "bg_dark_gray": "\\033[100m",
    "bg_light_red": "\\033[101m",
    "bg_light_green": "\\033[102m",
    "bg_light_blue": "\\033[104m",
    "bg_light_yellow": "\\033[103m",
}
```
Словарь, содержащий коды ANSI escape для различных цветов фона. Ключи словаря представляют собой названия цветов (например, "bg_red", "bg_green"), а значения - соответствующие коды ANSI escape.

### `FONT_STYLES`
```python
FONT_STYLES = {
    "bold": "\\033[1m",
    "underline": "\\033[4m",
}
```
Словарь, содержащий коды ANSI escape для различных стилей шрифта. Ключи словаря представляют собой названия стилей (например, "bold", "underline"), а значения - соответствующие коды ANSI escape.

## Функции

### `_color_text`

```python
def _color_text(text: str, text_color: str = "", bg_color: str = "", font_style: str = "") -> str:
```

Функция применяет стилизацию текста, используя ANSI escape коды для изменения цвета текста, фона и стиля шрифта.

**Параметры:**

- `text` (str): Текст, к которому необходимо применить стилизацию.
- `text_color` (str, optional): Цвет текста. По умолчанию "".
- `bg_color` (str, optional): Цвет фона. По умолчанию "".
- `font_style` (str, optional): Стиль шрифта. По умолчанию "".

**Возвращает:**

- `str`: Стилизованный текст.

**Как работает функция:**

Функция принимает текст и опциональные параметры для цвета текста, цвета фона и стиля шрифта. Затем она объединяет соответствующие ANSI escape коды с текстом и возвращает результирующую строку. Если параметры цвета или стиля не указаны, они не добавляются к тексту. В конце добавляется код сброса стилей `RESET`, чтобы не влиять на последующий вывод в консоль.

**Пример:**

```python
>>> _color_text("Hello, World!", text_color="green", font_style="bold")
'\033[1m\033[32mHello, World!\033[0m'
```

### `pprint`

```python
def pprint(print_data: Any = None, text_color: str = "white", bg_color: str = "", font_style: str = "") -> None:
```

Функция выполняет форматированный вывод данных в консоль с возможностью стилизации текста.

**Параметры:**

- `print_data` (Any, optional): Данные для вывода. Может быть `None`, словарем, списком, строкой или путем к файлу. По умолчанию `None`.
- `text_color` (str, optional): Цвет текста. По умолчанию "white".
- `bg_color` (str, optional): Цвет фона. По умолчанию "".
- `font_style` (str, optional): Стиль шрифта. По умолчанию "".

**Возвращает:**

- `None`

**Как работает функция:**

1.  **Проверка входных данных:** Если `print_data` равно `None`, функция завершается.
2.  **Преобразование цветов и стилей:** Функция преобразует строковые значения `text_color`, `bg_color` и `font_style` в соответствующие ANSI escape коды, используя словари `TEXT_COLORS`, `BG_COLORS` и `FONT_STYLES`. Если указанный цвет или стиль не найден в словаре, используется значение по умолчанию.
3.  **Вывод данных в консоль:**
    *   Если `print_data` является словарем, он преобразуется в JSON-строку с отступами и выводится с применением указанных стилей текста.
    *   Если `print_data` является списком, каждый элемент списка выводится на отдельной строке с применением указанных стилей текста.
    *   Если `print_data` является строкой или `Path` и указывает на существующий файл, проверяется расширение файла. Если расширение файла `.csv` или `.xls`, выводится сообщение о поддержке чтения файлов только для этих типов. В противном случае выводится сообщение о неподдерживаемом типе файла.
    *   Если `print_data` не относится ни к одному из вышеперечисленных типов, он преобразуется в строку и выводится с применением указанных стилей текста.
4.  **Обработка исключений:** Если в процессе вывода данных возникает исключение, оно перехватывается, и в консоль выводится сообщение об ошибке с красным цветом текста.

**Примеры:**

```python
>>> pprint({"name": "Alice", "age": 30}, text_color="green")
\033[32m{
    "name": "Alice",
    "age": 30
}\033[0m

>>> pprint(["apple", "banana", "cherry"], text_color="blue", font_style="bold")
\033[34m\033[1mapple\033[0m
\033[34m\033[1mbanana\033[0m
\033[34m\033[1mcherry\033[0m

>>> pprint("text example", text_color="yellow", bg_color="bg_red", font_style="underline")
\033[4m\033[33m\033[41mtext example\033[0m
```

## Примеры использования

```python
if __name__ == '__main__':
    pprint({"name": "Alice", "age": 30}, text_color="green")
```