# Модуль для отображения вращающегося курсора
## Обзор
Модуль `src.utils.cursor_spinner` предоставляет функциональность для отображения вращающегося курсора в консоли, что полезно для визуализации процессов загрузки или ожидания.

## Подробней
Модуль содержит функции для создания и отображения вращающегося курсора в консоли. Он использует символы `|`, `/`, `-` и `\` для анимации. Это может быть полезно для индикации выполнения длительных операций, чтобы пользователь понимал, что процесс все еще активен.

## Функции

### `spinning_cursor`

**Назначение**: Генератор вращающегося курсора, который циклически переключается между символами `|`, `/`, `-`, `\`.

```python
def spinning_cursor():
    """ Генератор для вращающегося курсора, который циклически переключается между |, /, -, \\ символами.
    
    Yields:
        str: Следующий символ в последовательности курсора.
    
    Example:
        >>> cursor = spinning_cursor()
        >>> next(cursor)  # '|'
        >>> next(cursor)  # '/'
        >>> next(cursor)  # '-'
        >>> next(cursor)  # '\\'
    """
    while True:
        for cursor in '|/-\\|':
            yield cursor
```

**Как работает функция**:
- Функция `spinning_cursor` является генератором, который бесконечно выдает символы `|`, `/`, `-`, `\` в цикле.
- Каждый вызов `next(spinning_cursor())` возвращает следующий символ в последовательности.

**Параметры**:
- Функция не принимает параметров.

**Возвращает**:
- Генератор, который при каждом вызове `next()` возвращает следующий символ из последовательности `|/-\\\`.

**Примеры**:

```python
cursor = spinning_cursor()
print(next(cursor))  # Вывод: |
print(next(cursor))  # Вывод: /
print(next(cursor))  # Вывод: -
print(next(cursor))  # Вывод: \
```

### `show_spinner`

**Назначение**: Отображает вращающийся курсор в консоли в течение заданного времени.

```python
def show_spinner(duration: float = 5.0, delay: float = 0.1):
    """ Отображает вращающийся курсор в консоли в течение заданного времени.
    
    Args:
        duration (float): Как долго должен работать спиннер (в секундах). По умолчанию 5.0.
        delay (float): Задержка между каждым вращением (в секундах). По умолчанию 0.1.
    
    Example:
        >>> show_spinner(duration=3.0, delay=0.2)  # Отображает спиннер в течение 3 секунд
    """
    spinner = spinning_cursor()
    end_time = time.time() + duration

    while time.time() < end_time:
        sys.stdout.write(next(spinner))   # Вывод следующего символа спиннера
        sys.stdout.flush()                # Немедленная отправка данных в консоль
        time.sleep(delay)                 # Пауза на время задержки
        sys.stdout.write('\b')            # Возврат на один символ для перезаписи
```

**Как работает функция**:
1. Функция `show_spinner` принимает два аргумента: `duration` (продолжительность отображения курсора в секундах) и `delay` (задержка между сменой символов курсора).
2. Создается генератор `spinning_cursor()`, который выдает символы для анимации.
3. Определяется время окончания анимации `end_time`.
4. В цикле, пока текущее время меньше `end_time`:
   - Выводится следующий символ курсора с помощью `sys.stdout.write()`.
   - `sys.stdout.flush()` используется для немедленного отображения символа в консоли.
   - Происходит задержка на время `delay` с помощью `time.sleep()`.
   - Символ стирается из консоли с помощью `sys.stdout.write('\b')`.

**Параметры**:
- `duration` (float): Продолжительность отображения вращающегося курсора в секундах. По умолчанию 5.0.
- `delay` (float): Задержка между сменой символов курсора в секундах. По умолчанию 0.1.

**Примеры**:

```python
# Отображение спиннера в течение 3 секунд с задержкой 0.2 секунды
show_spinner(duration=3.0, delay=0.2)