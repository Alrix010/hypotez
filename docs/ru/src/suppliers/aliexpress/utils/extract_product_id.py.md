# Модуль для извлечения ID продукта из URL-адресов AliExpress

## Обзор

Модуль `extract_product_id.py` предназначен для извлечения идентификаторов продуктов из URL-адресов AliExpress. Он предоставляет функцию `extract_prod_ids`, которая принимает URL-адрес или список URL-адресов и возвращает идентификатор продукта или список идентификаторов.

## Подробней

Модуль содержит функцию `extract_prod_ids`, которая использует регулярное выражение для поиска и извлечения идентификаторов продуктов из предоставленных URL-адресов. Функция обрабатывает как отдельные URL-адреса, так и списки URL-адресов, и возвращает либо один идентификатор продукта, либо список идентификаторов. Если в URL-адресе не найден допустимый идентификатор продукта, функция возвращает `None`.

## Функции

### `extract_prod_ids`

**Назначение**: Извлекает идентификаторы продуктов из URL-адресов AliExpress.

**Параметры**:
- `urls` (str | list[str]): URL-адрес, список URL-адресов или идентификаторы продуктов.

**Возвращает**:
- `str | list[str] | None`: Список извлеченных идентификаторов продуктов, один идентификатор или `None`, если не найдено допустимых идентификаторов.

**Как работает функция**:

1.  Функция `extract_prod_ids` принимает на вход строку или список строк, представляющих собой URL-адреса или идентификаторы продуктов.
2.  Определяется регулярное выражение `pattern` для поиска идентификаторов продуктов в URL-адресах.
3.  Определяется внутренняя функция `extract_id`, которая извлекает идентификатор продукта из одного URL-адреса или проверяет его, если предоставлен непосредственно идентификатор.
4.  Если входные данные являются списком, функция применяет `extract_id` к каждому URL-адресу в списке, исключая `None` значения.
5.  Если входные данные являются строкой, функция вызывает `extract_id` для извлечения идентификатора.
6.  Возвращается список извлеченных идентификаторов, если входные данные были списком, или один идентификатор, если входные данные были строкой. Если ни один идентификатор не был найден, возвращается `None`.

**Внутренние функции**:

#### `extract_id`

**Назначение**: Извлекает идентификатор продукта из заданного URL-адреса или проверяет идентификатор продукта.

**Параметры**:
- `url` (str): URL-адрес или идентификатор продукта.

**Возвращает**:
- `str | None`: Извлеченный идентификатор продукта или входные данные, если это допустимый идентификатор, или `None`, если не найден допустимый идентификатор.

**Как работает функция**:

1.  Функция `extract_id` принимает на вход строку, представляющую собой URL-адрес или идентификатор продукта.
2.  Проверяется, является ли входная строка числом (идентификатором продукта).
3.  Если входная строка является числом, она возвращается как идентификатор продукта.
4.  Если входная строка не является числом, производится попытка извлечь идентификатор продукта из URL-адреса с использованием регулярного выражения `pattern`.
5.  Если идентификатор продукта найден, он возвращается.
6.  Если идентификатор продукта не найден, возвращается `None`.

**Примеры**:

```python
>>> extract_prod_ids("https://www.aliexpress.com/item/123456.html")
'123456'

>>> extract_prod_ids(["https://www.aliexpress.com/item/123456.html", "7891011.html"])
['123456', '7891011']

>>> extract_prod_ids(["https://www.example.com/item/123456.html", "https://www.example.com/item/abcdef.html"])
['123456']

>>> extract_prod_ids("7891011")
'7891011'

>>> extract_prod_ids("https://www.example.com/item/abcdef.html")
None