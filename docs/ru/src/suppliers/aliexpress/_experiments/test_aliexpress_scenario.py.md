# Документация модуля `test_aliexpress_scenario.py`

## Обзор

Модуль `test_aliexpress_scenario.py` предназначен для проведения экспериментов и тестирования сценариев работы с поставщиком AliExpress в рамках проекта `hypotez`. Он включает в себя функции для инициализации поставщика, создания объектов продуктов и взаимодействия с веб-интерфейсом AliExpress для проверки и добавления товаров в PrestaShop.

## Подробней

Этот модуль содержит примеры настройки и запуска сценариев тестирования для поставщика AliExpress. Он демонстрирует, как можно использовать классы `Supplier` и `Product` для автоматизации процессов, связанных с получением данных о товарах и их интеграцией в платформу PrestaShop.

## Функции

### `start_supplier`

```python
def start_supplier(supplier_prefix: str) -> Supplier:
    """
    Инициализирует и возвращает объект поставщика (Supplier).

    Args:
        supplier_prefix (str): Префикс поставщика, например, 'aliexpress'.

    Returns:
        Supplier: Объект поставщика.

    Example:
        >>> s = start_supplier('aliexpress')
        >>> print(type(s))
        <class 'src.suppliers.Supplier'>
    """
    ...
```
**Назначение**: Функция создает и возвращает экземпляр класса `Supplier` с заданным префиксом.

**Параметры**:
- `supplier_prefix` (str): Префикс поставщика, используемый для конфигурации.

**Возвращает**:
- `Supplier`: Объект класса `Supplier`, представляющий поставщика.

**Как работает функция**:
Функция принимает префикс поставщика, создает словарь с этим префиксом и использует его для инициализации объекта `Supplier`.

### `start_product`

```python
def start_product() -> Product:
    """
    Инициализирует и возвращает объект продукта (Product) с заданными параметрами.

    Args:
        Нет аргументов.

    Returns:
        Product: Объект продукта.

    Example:
        >>> p = start_product()
        >>> print(type(p))
        <class 'src.product.Product'>
    """
    ...
```
**Назначение**: Функция создает и возвращает экземпляр класса `Product` с заданными параметрами, включая информацию о поставщике, локаторах веб-элементов и категориях продукта.

**Параметры**:
- Нет аргументов.

**Возвращает**:
- `Product`: Объект класса `Product`, представляющий продукт.

**Как работает функция**:
Функция использует глобальные переменные `s` (объект поставщика) и `test_scenario` для получения необходимых параметров, таких как локаторы веб-элементов и категории продукта. Затем она создает словарь `params` с этими параметрами и использует его для инициализации объекта `Product`.

### Переменные модуля

- `supplier_prefix` (str): Префикс поставщика ('aliexpress').
- `s` (Supplier): Объект поставщика, созданный с помощью `start_supplier`.
- `test_scenario` (dict): Словарь, содержащий информацию о тестовом сценарии для iPhone 13 & 13 MINI, включая ID категории на сайте, бренд, URL, активность, состояние, категории PrestaShop и комбинации продуктов.
- `test_products_list` (list): Список URL-адресов тестовых продуктов.
- `p` (Product): Объект продукта, созданный с помощью `start_product`.
- `d` (Driver): Объект драйвера, полученный из поставщика (`s.driver`).
- `_` (WebElement): алиас для `d.execute_locator`. Функция для выполнения локаторов веб-элементов через драйвер.
- `f` (Product.fields): атрибут класса `Product`, содержащий все поля продукта
- `l` (dict): атрибут класса `Product`, содержащий все локаторы веб-элементов

### Пример использования

```python
supplier_prefix = 'aliexpress'
s = start_supplier(supplier_prefix)
p = start_product()
d = s.driver
_ = d.execute_locator
f = p.fields
l = p.webelements_locators

d.get_url(test_products_list[0])
f.reference = d.current_url.split('/')[-1].split('.')[0]
f.price = _(l['price'])

if not p.check_if_product_in_presta_db(f.reference):
    p.add_2_PrestaShop(f)
...