# Модуль: Сокращение партнерских ссылок AliExpress

## Обзор

Модуль предназначен для сокращения партнерских ссылок AliExpress с использованием веб-драйвера. Он автоматизирует процесс получения короткой ссылки через веб-интерфейс AliExpress.

## Подробнее

Модуль содержит функцию `get_short_affiliate_link`, которая принимает полную URL ссылку и возвращает сокращенную партнерскую ссылку, полученную через веб-браузер. Он использует локаторы, загруженные из JSON-файла, для взаимодействия с элементами на странице AliExpress.

## Функции

### `get_short_affiliate_link`

```python
def get_short_affiliate_link(d:Driver, url: str) -> str:
    """ Script for generating a shortened affiliate link
    Args:
        url (str): Full URL
    Returns:
        str: Shortened URL
    """
```

**Назначение**: Получение сокращенной партнерской ссылки.

**Параметры**:
- `d` (`Driver`): Экземпляр веб-драйвера.
- `url` (`str`): Полная URL ссылка, которую необходимо сократить.

**Возвращает**:
- `str`: Сокращенная URL ссылка.

**Как работает функция**:

1.  Вставляет полную URL в поле ввода на странице.
2.  Нажимает кнопку для получения короткой ссылки.
3.  Ждет 1 секунду для обновления страницы.
4.  Извлекает короткую ссылку из соответствующего элемента на странице.
5.  Проверяет, что короткая ссылка не ведет на страницу ошибки. Если ведет, то закрывает вкладку с ошибкой и возвращается на основную вкладку.
6.  Закрывает дополнительную вкладку и возвращается на основную вкладку.
7.  Возвращает сокращенную URL ссылку.

**Внутренние функции**:

В данной функции внутренних функций нет.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.webdriver.chrome import Chrome

# Пример использования функции get_short_affiliate_link
driver = Driver(Chrome)
long_url = "https://aliexpress.com/some/long/affiliate/link"
short_url = get_short_affiliate_link(driver, long_url)
print(f"Сокращенная ссылка: {short_url}")