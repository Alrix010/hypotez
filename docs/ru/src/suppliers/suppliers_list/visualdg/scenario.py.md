# Модуль сбора товаров со страницы категорий поставщика kualastyle.il через вебдрайвер

## Обзор

Модуль предназначен для автоматизации процесса сбора данных о товарах с сайта поставщика kualastyle.il. Он содержит функции для получения списка категорий и товаров, а также для навигации по страницам категорий.

## Подробней

Модуль предоставляет следующие возможности:

- Сбор списка категорий с сайта поставщика (`get_list_categories_from_site`).
- Сбор списка товаров со страницы категории (`get_list_products_in_category`).
- Пагинация по страницам категорий для сбора всех товаров (`paginator`).

## Функции

### `get_list_products_in_category`

```python
def get_list_products_in_category (s: Supplier) -> list[str, str, None]:
    """ Returns list of products urls from category page
    Если надо пролистстать - страницы категорий - листаю ??????

    Attrs:
        s - Supplier
    @returns
        list or one of products urls or None
    """
```

**Назначение**: Функция извлекает список URL товаров со страницы категории.

**Параметры**:

- `s` (Supplier): Объект поставщика, содержащий информацию о драйвере и локаторах.

**Возвращает**:

- `list[str, str, None]`: Список URL товаров или `None`, если список пуст.

**Как работает функция**:

1.  Инициализация драйвера и локаторов из объекта поставщика.
2.  Ожидание загрузки страницы.
3.  Закрытие баннера, если он отображается.
4.  Прокрутка страницы для загрузки всех товаров.
5.  Извлечение списка ссылок на товары с использованием локатора `product_links`.
6.  Если список ссылок пуст, логируется предупреждение.
7.  Переход по страницам пагинации для сбора всех ссылок на товары.
8.  Формирование списка товаров.
9.  Логирование количества найденных товаров в категории.

**Внутренние функции**:

- Нет.

**Примеры**:

```python
# Пример вызова функции (требуется объект Supplier)
supplier = Supplier()  # Необходимо инициализировать объект Supplier с необходимыми данными
product_list = get_list_products_in_category(supplier)
if product_list:
    print(f"Найдено {len(product_list)} товаров")
else:
    print("Товары не найдены")
```

### `paginator`

```python
def paginator(d:Driver, locator: dict, list_products_in_category: list):
    """ Листалка """
```

**Назначение**: Функция осуществляет пагинацию по страницам категории.

**Параметры**:

-   `d` (Driver): Объект веб-драйвера.
-   `locator` (dict): Словарь с локаторами элементов страницы.
-   `list_products_in_category` (list): Список URL товаров в текущей категории.

**Возвращает**:

-   `True`: Если пагинация прошла успешно.
-   `None`: Если не удалось выполнить пагинацию.

**Как работает функция**:

1.  Выполняет клик на элементе пагинации `<—` с использованием локатора `locator['pagination']['<-']`.
2.  Если элемент не найден или список элементов пуст, функция возвращает `None`.
3.  В случае успеха возвращает `True`.

**Внутренние функции**:

- Нет.

**Примеры**:

```python
# Пример вызова функции (требуется объект Driver и словарь с локаторами)
driver = Driver()  # Необходимо инициализировать объект Driver
locator = {}  # Необходимо инициализировать словарь с локаторами
product_list = []  # Список товаров
result = paginator(driver, locator, product_list)
if result:
    print("Пагинация прошла успешно")
else:
    print("Пагинация не удалась")
```

### `get_list_categories_from_site`

```python
def get_list_categories_from_site(s):
    """ сборщик актуальных категорий с сайта """
```

**Назначение**: Функция собирает актуальные категории с сайта.

**Параметры**:

-   `s` (Supplier): Объект поставщика.

**Возвращает**:

-   `None`: Функция ничего не возвращает явно.

**Как работает функция**:

1.  Описание логики работы функции отсутствует.

**Внутренние функции**:

- Нет.

**Примеры**:

```python
# Пример вызова функции (требуется объект Supplier)
supplier = Supplier()  # Необходимо инициализировать объект Supplier с необходимыми данными
get_list_categories_from_site(supplier)