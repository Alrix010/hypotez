# Модуль для сбора данных с сайта visualdg.co.il

## Обзор

Модуль предназначен для сбора информации о товарах с сайта `visualdg.co.il`. Он наследует базовый класс `Graber` и переопределяет некоторые методы для адаптации к структуре конкретного сайта. Модуль также предоставляет возможность использования декоратора для выполнения предварительных действий перед отправкой запроса к веб-драйверу.

## Подробней

Этот модуль является частью системы сбора данных о товарах от различных поставщиков. Он специализируется на извлечении данных с сайта `visualdg.co.il`. Для каждого поля товара на странице сайта предусмотрена функция обработки. Если требуется нестандартная обработка, функция переопределяется в этом классе.

Перед отправкой запроса к веб-драйверу можно выполнить предварительные действия с помощью декоратора. Декоратор по умолчанию находится в родительском классе. Для того чтобы декоратор сработал, необходимо передать значение в `Context.locator`. Если требуется реализовать собственный декоратор, необходимо раскомментировать соответствующие строки кода и переопределить его поведение.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `visualdg.co.il`. Он наследует функциональность от базового класса `Graber` (который в коде обозначен как `Grbr`) и адаптирует ее к особенностям структуры сайта поставщика `visualdg.co.il`.

**Наследует**:
- `Graber` (обозначен как `Grbr`) - базовый класс для сбора данных о товарах.

**Атрибуты**:
- `supplier_prefix` (str): Префикс поставщика, устанавливается в значение `'visualdg'`.
- `driver` (Optional['Driver']): Экземпляр веб-драйвера для взаимодействия с сайтом.
- `lang_index` (Optional[int]): Индекс языка, используемого на сайте (если применимо).
- `Config.locator_for_decorator` (Any): Локатор для выполнения предварительных действий через декоратор.

**Параметры**:
- `driver` (Optional['Driver'], optional): Экземпляр веб-драйвера. По умолчанию `None`.
- `lang_index` (Optional[int], optional): Индекс языка. По умолчанию `None`.

**Принцип работы**:
Класс инициализируется с префиксом поставщика `'visualdg'`. Он наследует методы от базового класса `Graber` для выполнения стандартных операций сбора данных. При необходимости методы могут быть переопределены для адаптации к структуре сайта `visualdg.co.il`.

### `__init__`

```python
def __init__(self, driver: Optional['Driver'] = None, lang_index: Optional[int] = None) -> None:
    """Инициализация класса сбора полей товара."""
```

**Назначение**: Инициализация экземпляра класса `Graber`.

**Параметры**:
- `driver` (Optional['Driver'], optional): Экземпляр веб-драйвера для взаимодействия с сайтом. По умолчанию `None`.
- `lang_index` (Optional[int], optional): Индекс языка, используемого на сайте (если применимо). По умолчанию `None`.

**Возвращает**:
- `None`

**Как работает функция**:
1. Устанавливает атрибут `supplier_prefix` в значение `'visualdg'`.
2. Вызывает конструктор родительского класса `Graber` (обозначен как `Grbr`) с указанием префикса поставщика, экземпляра веб-драйвера и индекса языка.
3. Устанавливает `Config.locator_for_decorator` в `None`. Это означает, что декоратор `@close_pop_up` не будет выполнять никаких действий по умолчанию. Если необходимо, чтобы декоратор выполнял какие-либо действия, необходимо установить значение `Config.locator_for_decorator` на соответствующий локатор.

**Примеры**:

```python
# Создание экземпляра класса Graber без указания драйвера и индекса языка
graber = Graber()

# Создание экземпляра класса Graber с указанием драйвера и индекса языка
from src.webdriver.driver import Driver
driver = Driver()
graber = Graber(driver=driver, lang_index=1)
```
```python
   supplier_prefix: str

   def __init__(self, driver: Optional['Driver'] = None, lang_index:Optional[int] = None):
        """Инициализация класса сбора полей товара."""
        self.supplier_prefix = 'visualdg'
        super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)
        # Устанавливаем глобальные настройки через Context
        
        Config.locator_for_decorator = None # <- если будет уастановлено значение - то оно выполнится в декораторе `@close_pop_up`
```
## Параметры класса

- `driver` (Optional['Driver'], optional): Экземпляр веб-драйвера для взаимодействия с сайтом. По умолчанию `None`.
- `lang_index` (Optional[int], optional): Индекс языка, используемого на сайте (если применимо). По умолчанию `None`.
```python
class Graber(Grbr):\n    """Класс для операций захвата Morlevi."""\n    supplier_prefix: str\n\n    def __init__(self, driver: Optional[\'Driver\'] = None, lang_index:Optional[int] = None):\n        """Инициализация класса сбора полей товара."""\n        self.supplier_prefix = \'visualdg\'\n        super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)\n        # Устанавливаем глобальные настройки через Context\n        \n        Config.locator_for_decorator = None # <- если будет уастановлено значение - то оно выполнится в декораторе `@close_pop_up`\n