# Модуль `graber.py`

## Обзор

Модуль `graber.py` предназначен для сбора информации о товарах с сайта `hb.co.il`. Он содержит класс `Graber`, который наследует функциональность от базового класса `Graber` (`Grbr`) и адаптирует ее для специфических требований сайта `hb.co.il`. Модуль позволяет извлекать различные поля товаров, такие как короткое описание, URL изображения по умолчанию и цену, используя веб-драйвер и определенные локаторы элементов на странице.

## Подробней

Этот модуль является частью системы сбора данных о товарах от различных поставщиков. Он специализируется на сайте `hb.co.il` и использует веб-драйвер для взаимодействия с сайтом. Класс `Graber` переопределяет некоторые методы родительского класса для обработки специфических особенностей сайта `hb.co.il`.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора информации о товарах с сайта `hb.co.il`.

**Наследует**: `Graber` (`Grbr`)

**Атрибуты**:

-   `supplier_prefix` (str): Префикс поставщика, устанавливается как `'hb'`.

**Методы**:

-   `__init__(self, driver: Optional['Driver'] = None, lang_index: Optional[int] = None)`: Инициализирует экземпляр класса `Graber`.
-   `default_image_url(self, value: Optional[Any] = None) -> bool`: Заглушка для URL изображения по умолчанию.
-   `price(self, value: Optional[Any] = None) -> bool`: Заглушка для цены.

### `__init__`

```python
def __init__(self, driver: Optional['Driver'] = None, lang_index: Optional[int] = None) -> None:
    """Инициализация класса сбора полей товара.

    Args:
        driver (Optional['Driver'], optional): Экземпляр веб-драйвера. По умолчанию `None`.
        lang_index (Optional[int], optional): Индекс языка. По умолчанию `None`.

    """
    self.supplier_prefix = 'hb'
    super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)
    # Функция устанавливает глобальные настройки через Context
    Config.locator_for_decorator = None  # <- если будет установлено значение - то оно выполнится в декораторе `@close_pop_up`
```

**Назначение**: Инициализирует экземпляр класса `Graber`, устанавливая префикс поставщика и вызывая конструктор родительского класса.

**Параметры**:

-   `driver` (Optional['Driver'], optional): Экземпляр веб-драйвера. По умолчанию `None`.
-   `lang_index` (Optional[int], optional): Индекс языка. По умолчанию `None`.

**Как работает функция**:

1.  Устанавливает атрибут `supplier_prefix` в значение `'hb'`.
2.  Вызывает конструктор родительского класса `Graber` (`Grbr`) с установленным префиксом поставщика, драйвером и индексом языка.
3.  Устанавливает атрибут `locator_for_decorator` класса `Config` в значение `None`. Это необходимо для отключения декоратора `@close_pop_up`, если он не требуется.

### `default_image_url`

```python
async def default_image_url(self, value: Optional[Any] = None) -> bool:
    """Заглушка для URL изображения по умолчанию

    Args:
        value (Optional[Any], optional): Значение, которое можно передать в функцию. По умолчанию `None`.

    Returns:
        bool: Всегда возвращает `True`.
    """
    return True
```

**Назначение**: Метод-заглушка для получения URL изображения по умолчанию.

**Параметры**:

-   `value` (Optional[Any], optional): Значение, которое можно передать в функцию. По умолчанию `None`.

**Возвращает**:

-   `bool`: Всегда возвращает `True`.

**Как работает функция**:

1.  Всегда возвращает `True`.

### `price`

```python
async def price(self, value: Optional[Any] = None) -> bool:
    """Заглушка для цены

    Args:
        value (Optional[Any], optional): Значение, которое можно передать в функцию. По умолчанию `None`.

    Returns:
        bool: Всегда возвращает `True`.
    """
    self.fields.price = 150.00
    return True
```

**Назначение**: Метод-заглушка для получения цены товара.

**Параметры**:

-   `value` (Optional[Any], optional): Значение, которое можно передать в функцию. По умолчанию `None`.

**Возвращает**:

-   `bool`: Всегда возвращает `True`.

**Как работает функция**:

1.  Устанавливает атрибут `price` объекта `self.fields` в значение `150.00`.
2.  Всегда возвращает `True`.