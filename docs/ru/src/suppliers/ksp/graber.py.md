# Модуль `src.suppliers.ksp.graber`

## Обзор

Модуль `src.suppliers.ksp.graber` предназначен для сбора информации о товарах с сайта `ksp.co.il`. Он содержит класс `Graber`, который наследует функциональность от базового класса `Graber` (`Grbr`) и переопределяет некоторые методы для специфической обработки данных с сайта `ksp.co.il`.

## Подробнее

Основная задача модуля - автоматизированный сбор данных о товарах с сайта `ksp.co.il`. Он использует веб-драйвер для навигации по страницам и извлечения необходимой информации. Если требуется нестандартная обработка полей, соответствующие методы переопределяются в классе `Graber`. Модуль также предоставляет возможность выполнения предварительных действий перед отправкой запроса к веб-драйверу через декораторы.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `ksp.co.il`.

**Наследует**:
- `Graber` (`Grbr`): Базовый класс для сбора данных о товарах.

**Атрибуты**:
- `supplier_prefix` (str): Префикс поставщика, устанавливается как `'ksp'`.

**Методы**:
- `__init__`: Инициализирует класс `Graber`, устанавливает префикс поставщика, вызывает конструктор родительского класса и выполняет дополнительные действия, специфичные для сайта `ksp.co.il`.

## Методы класса

### `__init__`

```python
def __init__(self, driver: 'Driver', lang_index: int):
    """Инициализация класса сбора полей товара.

    Args:
        driver (Driver): Экземпляр веб-драйвера для управления браузером.
        lang_index (int): Индекс языка, используемый для локализации.

    Raises:
        ExecuteLocatorException: Если происходит ошибка при выполнении локатора.
    """
    ...
```

**Назначение**: Инициализирует экземпляр класса `Graber`.

**Параметры**:
- `driver` (`Driver`): Экземпляр веб-драйвера для управления браузером.
- `lang_index` (`int`): Индекс языка, используемый для локализации.

**Как работает функция**:
1. Устанавливает атрибут `supplier_prefix` равным `'ksp'`.
2. Вызывает конструктор родительского класса `Graber` (`Grbr`) с установленным префиксом поставщика, драйвером и индексом языка.
3. Приостанавливает выполнение на 3 секунды с помощью `time.sleep(3)`.
4. Проверяет, содержит ли текущий URL веб-драйвера подстроку `'/mob/'`. Если да, то загружает локаторы для мобильной версии сайта `KSP` из файла `product_mobile_site.json` и устанавливает их.
5. Устанавливает атрибут `Context.locator_for_decorator` равным `None`. Если для него будет установлено значение, то оно выполнится в декораторе `@close_pop_up`.

**Примеры**:

```python
from src.webdriver.driver import Driver, Chrome
from src.suppliers.ksp.graber import Graber

# Создание инстанса драйвера
driver = Driver(Chrome)

# Создание инстанса класса Graber
graber = Graber(driver, 0)