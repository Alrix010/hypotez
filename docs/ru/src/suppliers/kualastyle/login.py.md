# Модуль `login.py` для работы с авторизацией поставщика Kualastyle

## Обзор

Модуль `login.py` предназначен для обработки процесса авторизации поставщика Kualastyle. Он содержит функции для входа в систему и закрытия всплывающих окон, используя веб-драйвер для взаимодействия с веб-сайтом.

## Подробней

Этот модуль обеспечивает функциональность для автоматизации входа пользователя на сайт Kualastyle. Он использует драйвер веб-браузера для навигации по сайту, ожидания загрузки элементов и выполнения действий, таких как закрытие всплывающих окон. В проекте `hypotez` он используется для автоматического получения данных с сайта поставщика.

## Функции

### `login`

```python
def login(s) -> bool:
    """ Функция логин. 
   @param
        s - Supplier
    @returns
        True if login else False

   """
    close_pop_up(s)
    return True
```

**Назначение**: Осуществляет вход пользователя в систему.

**Параметры**:
- `s`: Объект `Supplier`, содержащий информацию о поставщике и необходимые параметры для авторизации.

**Возвращает**:
- `bool`: `True`, если вход выполнен успешно, иначе `False`.

**Как работает функция**:
1. Вызывает функцию `close_pop_up` для закрытия возможных всплывающих окон.
2. Всегда возвращает `True`, предполагая успешное выполнение входа.

**Примеры**:
```python
# Пример вызова функции login
supplier = Supplier()  # Предполагается, что класс Supplier определен в другом месте
result = login(supplier)
print(result)  # Вывод: True
```

### `close_pop_up`

```python
def close_pop_up(s) -> bool:
    """ Функция логин
   @param
        s - Supplier
    @returns
        True if login else False

   """
    _d = s.driver
    _l : dict = s.locators['close_pop_up_locator']
    
    _d.get_url('https://www.kualastyle.com')
    _d.window_focus(_d)
    _d.wait(5)
    #_d.page_refresh()
    try:
        _d.execute_locator(_l)
    except Exception as e:
        logger.warning(f"Не закрыл попап")
    
    ...
```

**Назначение**: Закрывает всплывающее окно на сайте Kualastyle.

**Параметры**:
- `s`: Объект `Supplier`, содержащий информацию о поставщике, драйвер веб-браузера и локаторы элементов.

**Возвращает**:
- `bool`: `True`, если всплывающее окно успешно закрыто, иначе `False`.

**Как работает функция**:
1. Извлекает драйвер веб-браузера `_d` и локатор `_l` для закрытия всплывающего окна из объекта `Supplier`.
2. Открывает URL `https://www.kualastyle.com` в браузере.
3. Устанавливает фокус на окно браузера.
4. Ожидает 5 секунд для загрузки страницы.
5. Пытается выполнить локатор `_l` для закрытия всплывающего окна.
6. В случае ошибки логирует предупреждение о неудачном закрытии всплывающего окна.

**Примеры**:
```python
# Пример вызова функции close_pop_up
supplier = Supplier()  # Предполагается, что класс Supplier определен в другом месте
result = close_pop_up(supplier)
print(result)  # Вывод: True или False в зависимости от успеха закрытия окна