# Модуль для работы с категориями поставщика Kualastyle

## Обзор

Модуль предназначен для сбора информации о категориях и товарах с сайта поставщика Kualastyle. Он включает в себя функции для получения списка категорий, списка товаров в каждой категории и итерации по страницам товаров. Модуль использует веб-драйвер для взаимодействия с сайтом.

## Подробней

Этот модуль играет важную роль в процессе сбора данных о товарах с сайта поставщика. Он автоматизирует навигацию по категориям и извлечение информации о товарах, что позволяет собирать данные эффективно и систематически. Модуль также включает в себя механизмы для обработки пагинации и ошибок, что делает процесс сбора данных более надежным.

## Функции

### `get_list_products_in_category`

```python
def get_list_products_in_category (s: Supplier) -> list[str, str, None]:
    """ Returns list of products urls from category page
    Если надо пролистстать - страницы категорий - листаю ??????

    Attrs:
        s - Supplier
    @returns
        list or one of products urls or None
    """
    ...
```

**Назначение**: Возвращает список URL-адресов товаров со страницы категории.

**Параметры**:

-   `s` (Supplier): Объект поставщика, содержащий информацию о конфигурации и драйвере.

**Возвращает**:

-   `list[str, str, None]`: Список URL-адресов товаров в категории.

**Как работает функция**:

1.  Извлекает драйвер и локаторы из объекта поставщика.
2.  Ожидает загрузки страницы.
3.  Закрывает баннер, если он есть.
4.  Прокручивает страницу для загрузки всех товаров.
5.  Извлекает список URL-адресов товаров с использованием локатора `product_links`.
6.  Если список пуст, логирует предупреждение и возвращает `None`.
7.  Обрабатывает пагинацию, переходя на следующие страницы, пока URL не изменится.
8.  Объединяет списки товаров со всех страниц.
9.  Логирует количество найденных товаров в категории.
10. Возвращает список URL-адресов товаров.

### `paginator`

```python
def paginator(d:Driver, locator: dict, list_products_in_category: list):
    """ Листалка """
    response = d.execute_locator(locator['pagination']['<-'])
    if not response or (isinstance(response, list) and len(response) == 0):
        ...
        return
    return True
```

**Назначение**: Осуществляет переход на следующую страницу пагинации.

**Параметры**:

-   `d` (Driver): Объект веб-драйвера.
-   `locator` (dict): Словарь с локаторами элементов страницы.
-   `list_products_in_category` (list): Список URL-адресов товаров в категории.

**Возвращает**:

-   `bool`: `True`, если переход на следующую страницу успешен, `None` в противном случае.

**Как работает функция**:

1.  Пытается выполнить клик по локатору кнопки пагинации "назад" (`<-`).
2.  Если кнопка не найдена или список результатов пуст, возвращает `None`.
3.  В противном случае возвращает `True`.

### `get_list_categories_from_site`

```python
def get_list_categories_from_site(s):
    """ сборщик актуальных категорий с сайта """
    ...
```

**Назначение**: Собирает актуальные категории с сайта.

**Параметры**:

-   `s`: Параметр s не документирован

**Как работает функция**:

1.  Функция не реализована.
2.  В теле функции `...`, что означает что код не реализован.