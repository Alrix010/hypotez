# Модуль `graber.py`

## Обзор

Модуль `graber.py` предназначен для сбора значений полей на странице товара `kualastyle.co.il`. Он содержит класс `Graber`, который наследует функциональность от родительского класса `Graber` (обозначенного как `Grbr`) и адаптирует её для конкретного поставщика - `kualastyle`. Класс предназначен для обработки полей страницы товара, и в случае нестандартной обработки, функции родительского класса могут быть перегружены.

## Подробнее

Этот модуль является частью системы сбора данных о товарах от различных поставщиков. Он использует веб-драйвер для взаимодействия с веб-страницами и извлечения необходимой информации. Перед отправкой запроса к веб-драйверу, модуль может выполнять предварительные действия, используя декораторы. Декоратор по умолчанию находится в родительском классе. Для активации декоратора, необходимо передать значение в `Context.locator`. При необходимости можно переопределить поведение декоратора.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для захвата данных с сайта `kualastyle.co.il`.

**Наследует**:
- `Graber` (обозначен как `Grbr`) из модуля `src.suppliers.graber`.

**Атрибуты**:
- `supplier_prefix` (str): Префикс поставщика, который используется для идентификации поставщика (`kualastyle`).

**Методы**:
- `__init__(self, driver: Driver, lang_index: int)`: Инициализирует экземпляр класса `Graber`.

**Принцип работы**:
Класс `Graber` наследует основную логику сбора данных от родительского класса `Graber` (`Grbr`) и адаптирует её для конкретного поставщика `kualastyle`. В конструкторе класса устанавливается префикс поставщика, инициализируется родительский класс и устанавливаются глобальные настройки через `Context`.

## Методы класса

### `__init__(self, driver: Driver, lang_index: int)`

```python
def __init__(self, driver: Driver, lang_index: int):
    """Инициализация класса сбора полей товара.

    Args:
        driver (Driver): Экземпляр веб-драйвера для взаимодействия с веб-страницами.
        lang_index (int): Индекс языка, используемый при сборе данных.

    Raises:
        Exception: Если возникает ошибка при инициализации класса.

    Example:
        >>> driver = Driver(webdriver_type='chrome')
        >>> graber = Graber(driver=driver, lang_index=0)
    """
    ...
```

**Назначение**: Инициализация экземпляра класса `Graber` для сбора данных о товарах с сайта `kualastyle.co.il`.

**Параметры**:
- `driver` (Driver): Экземпляр веб-драйвера, используемый для взаимодействия с веб-страницами.
- `lang_index` (int): Индекс языка, который будет использоваться при сборе данных.

**Как работает функция**:
1. Устанавливает атрибут `supplier_prefix` равным `'kualastyle'`, что идентифицирует текущего поставщика.
2. Вызывает конструктор родительского класса `Graber` (`Grbr`), передавая ему префикс поставщика, драйвер и индекс языка.
3. Устанавливает `Context.locator_for_decorator` в `None`. Это нужно для того, чтобы убедиться, что декоратор `@close_pop_up` не выполнится, если не установлено иное значение.

**Примеры**:
```python
from src.webdriver.driver import Driver, Chrome
from src.suppliers.kualastyle.graber import Graber

driver = Driver(Chrome)
graber = Graber(driver=driver, lang_index=0)
```

## Параметры класса

- `supplier_prefix` (str): Префикс поставщика, который используется для идентификации поставщика. В данном случае `'kualastyle'`.
- `driver` (Driver): Экземпляр веб-драйвера, используемый для взаимодействия с веб-страницами.
- `lang_index` (int): Индекс языка, используемый при сборе данных.
- `Context.locator_for_decorator` (Optional[dict]):  Если установлено значение, выполняется в декораторе `@close_pop_up`. Если значение не установлено, декоратор не выполняется.

## Пример использования

```python
from src.webdriver.driver import Driver, Chrome
from src.suppliers.kualastyle.graber import Graber

# Создание экземпляра драйвера
driver = Driver(Chrome)

# Создание экземпляра класса Graber
graber = Graber(driver=driver, lang_index=0)