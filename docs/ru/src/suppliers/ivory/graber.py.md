# Модуль `graber.py`

## Обзор

Модуль `graber.py` предназначен для сбора информации о товарах с сайта `ivory.co.il`. Он содержит класс `Graber`, который наследует функциональность от родительского класса `Graber` (Grbr). Основная задача класса – извлечение значений полей товаров на странице. Если требуется нестандартная обработка полей, соответствующие функции переопределяются в этом классе.

## Подробней

Этот модуль является частью системы сбора данных о товарах с различных онлайн-магазинов. Он использует веб-драйвер для взаимодействия с веб-страницами и извлечения необходимой информации. Для выполнения предварительных действий перед отправкой запроса к веб-драйверу предусмотрен механизм декораторов. Декоратор по умолчанию определен в родительском классе.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `ivory.co.il`. Он наследует функциональность от базового класса `Graber` и переопределяет методы для специфической обработки данных, если это необходимо.

**Наследует**: `Graber` (обозначенный как `Grbr`)

**Атрибуты**:
- `supplier_prefix` (str): Префикс поставщика, устанавливается как 'ivory'.

**Методы**:
- `__init__`: Инициализирует экземпляр класса `Graber`, устанавливает префикс поставщика и вызывает конструктор родительского класса.

### `Context`
Класс `Context` используется для хранения глобальных настроек, таких как локатор для декоратора.
### `close_pop_up`
Декоратор, используемый для закрытия всплывающих окон перед выполнением основной логики. В данном коде закомментирован, но предоставляется шаблон для возможной реализации.
## Методы класса

### `__init__`

```python
def __init__(self, driver: Driver, lang_index) -> None:
    """Инициализация класса сбора полей товара.

    Args:
        driver (Driver): Экземпляр веб-драйвера для взаимодействия с веб-страницами.
        lang_index (int): Индекс языка, используемый при сборе данных.

    Returns:
        None

    """
    ...
```

**Назначение**: Инициализирует экземпляр класса `Graber`, устанавливает префикс поставщика и вызывает конструктор родительского класса.

**Параметры**:
- `driver` (Driver): Экземпляр веб-драйвера, используемый для взаимодействия с веб-страницами.
- `lang_index` (int): Индекс языка, используемый при сборе данных.

**Как работает функция**:
1. Устанавливает атрибут `supplier_prefix` равным 'ivory'.
2. Вызывает конструктор родительского класса `Graber` (Grbr) с установленным префиксом поставщика, драйвером и индексом языка.
3. Устанавливает значение `Context.locator_for_decorator` в `None`, чтобы декоратор `@close_pop_up` не выполнялся, если не установлено другое значение.

**Примеры**:

```python
from src.webdriver.driver import Driver
from src.webdriver import Firefox
# Пример создания экземпляра класса Graber
driver_instance = Driver(Firefox)
graber_instance = Graber(driver=driver_instance, lang_index=0)
```

## Параметры класса

- `supplier_prefix` (str): Префикс поставщика, используется для идентификации поставщика как 'ivory'.
- `driver` (Driver): Экземпляр веб-драйвера, используемый для взаимодействия с веб-страницами.
- `lang_index` (int): Индекс языка, используемый при сборе данных.

**Примеры**:

```python
# Пример использования параметров класса
driver_instance = Driver(Firefox)
graber_instance = Graber(driver=driver_instance, lang_index=0)
print(graber_instance.supplier_prefix)  # Вывод: ivory