# Модуль `scenario.py`

## Обзор

Модуль `scenario.py` предназначен для сбора данных о товарах с сайта поставщика Banggood. Он включает в себя функции для получения списка категорий товаров, списка товаров в каждой категории и дальнейшей обработки информации о товарах. Модуль интегрирован с веб-драйвером для навигации и извлечения данных с сайта.

## Подробней

Этот модуль является частью системы сбора данных о товарах от различных поставщиков для проекта `hypotez`. Он содержит логику, специфичную для работы с сайтом Banggood, включая определение локаторов элементов на странице и обработку структуры данных сайта.

Основные задачи модуля:

1.  Получение списка категорий товаров с сайта (`get_list_categories_from_site`).
2.  Получение списка товаров в каждой категории (`get_list_products_in_category`).
3.  Передача URL страниц товаров в функцию `grab_product_page` (не реализована в предоставленном коде).

## Функции

### `get_list_products_in_category`

```python
def get_list_products_in_category (s) -> list[str, str, None]:
    """ Returns list of products urls from category page
    Если надо пролистстать - страницы категорий - листаю ??????

    Attrs:
        s - Supplier
    @returns
        list or one of products urls or None
    """
    ...
```

**Назначение**: Получает список URL товаров со страницы категории.

**Параметры**:

*   `s` (Supplier): Объект поставщика, содержащий информацию о конфигурации, драйвере веб-браузера и локаторах элементов на странице.

**Возвращает**:

*   `list[str, str, None]`: Список URL товаров или `None`, если список пуст или произошла ошибка.

**Как работает функция**:

1.  Извлекает драйвер веб-браузера из объекта поставщика `s`.
2.  Извлекает локаторы элементов для категории товаров из объекта поставщика `s`.
3.  Закрывает баннер, используя локатор `close_banner` (если он есть).
4.  Прокручивает страницу вниз для загрузки всех товаров.
5.  Извлекает ссылки на товары, используя локатор `product_links`.
6.  Обрабатывает полученные ссылки, преобразуя их в список, если это необходимо.
7.  Логирует количество найденных товаров.
8.  Возвращает список URL товаров.

**Примеры**:

```python
# Пример вызова функции (требуется объект Supplier)
# supplier = Supplier(...)
# product_urls = get_list_products_in_category(supplier)
# if product_urls:
#     print(f"Найдено {len(product_urls)} товаров.")
# else:
#     print("Товары не найдены.")
```

### `get_list_categories_from_site`

```python
def get_list_categories_from_site(s):
    ...
```

**Назначение**: Эта функция должна получать список категорий товаров с сайта поставщика. Однако, в предоставленном коде она не реализована (`...`).

**Параметры**:

*   `s`: Ожидается объект поставщика, содержащий необходимую информацию для доступа к сайту и извлечения категорий.

**Возвращает**:

*   Ожидается, что функция вернет список категорий с сайта поставщика.

**Как работает функция**:

*   В текущей версии функции отсутствует реализация.

**Примеры**:

```python
# Пример вызова функции (требуется объект Supplier)
# supplier = Supplier(...)
# categories = get_list_categories_from_site(supplier)
# if categories:
#     print(f"Найдено {len(categories)} категорий.")
# else:
#     print("Категории не найдены.")