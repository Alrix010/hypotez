# Модуль для сбора данных о товарах с Amazon

## Обзор

Модуль содержит класс `Graber`, предназначенный для сбора данных о товарах с веб-сайта `amazon.com`. Он наследуется от базового класса `src.suppliers.graber.Graber`. Класс `Graber` предоставляет методы для обработки различных полей товара на странице. В случае необходимости нестандартной обработки поля, метод может быть переопределен. Для каждого поля страницы товара сделана функция обработки поля в родительском `Graber`. Если нужна нестандартная обработка, можно перегрузить метод здесь, в этом классе.

Перед отправкой запроса к веб-драйверу можно совершить предварительные действия через декоратор. Декоратор по умолчанию находится в родительском классе. Для того, чтобы декоратор сработал надо передать значение в `Context.locator`. Если надо реализовать свой декоратор - раскомментируйте строки с декоратором и переопределите его поведение. Вы также можете реализовать свой собственный декоратор, раскомментировав соответствующие строки кода.

## Подробнее

Модуль предоставляет функциональность для автоматизированного сбора информации о товарах с сайта `amazon.com`. Он использует веб-драйвер для взаимодействия со страницей и извлечения необходимых данных. Модуль спроектирован таким образом, чтобы быть расширяемым и настраиваемым, позволяя переопределять методы обработки полей для адаптации к изменениям в структуре веб-страницы.

## Классы

### `Graber`

**Описание**: Класс для операций захвата данных о товарах с сайта `amazon.com`.
**Наследует**: `src.suppliers.graber.Graber`

**Атрибуты**:
- `supplier_prefix` (str): Префикс поставщика, используется для идентификации поставщика как 'amazon'.

**Принцип работы**:

Класс `Graber` инициализируется с веб-драйвером и индексом языка. Он устанавливает префикс поставщика и вызывает конструктор родительского класса `Graber` для выполнения основной инициализации. Также класс позволяет установить значение локатора для декоратора, который может выполнять предварительные действия перед запросом к веб-драйверу.

## Методы класса

### `__init__`

```python
def __init__(self, driver: Driver, lang_index: int):
    """Инициализация класса сбора полей товара."""
```

**Назначение**: Инициализация экземпляра класса `Graber`.

**Параметры**:
- `driver` (`Driver`): Экземпляр веб-драйвера, используемый для взаимодействия с веб-страницей.
- `lang_index` (`int`): Индекс языка, используемый для локализации контента.

**Возвращает**: `None`

**Как работает функция**:
1. Устанавливает атрибут `supplier_prefix` равным `'amazon'`.
2. Вызывает конструктор родительского класса `Grbr.__init__` с параметрами `supplier_prefix`, `driver` и `lang_index` для выполнения основной инициализации.
3. Устанавливает `Context.locator_for_decorator` в `None`. Если будет установлено значение, оно выполнится в декораторе `@close_pop_up`.

**Примеры**:
```python
from src.webdriver.driver import Driver, Firefox

driver = Driver(Firefox)
graber = Graber(driver, 0)
print(graber.supplier_prefix)  # Вывод: amazon