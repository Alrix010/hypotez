# Модуль рекламы на Facebook

## Обзор

Модуль `facebook.py` предназначен для автоматизации работы с Facebook, включая логин, размещение текстовых сообщений и загрузку медиафайлов. Он содержит класс `Facebook`, который использует веб-драйвер для взаимодействия с сайтом Facebook.

## Подробней

Модуль предоставляет функциональность для управления рекламными кампаниями в Facebook. Он включает в себя сценарии для входа в систему, переключения между аккаунтами, продвижения постов, загрузки медиафайлов и обновления подписей к изображениям. Основной класс `Facebook` инкапсулирует взаимодействие с веб-драйвером и предоставляет методы для выполнения различных задач.

## Классы

### `Facebook`

**Описание**: Класс для взаимодействия с Facebook через веб-драйвер.

**Атрибуты**:
- `d` (Driver): Инстанс драйвера веб-браузера.
- `start_page` (str): URL стартовой страницы Facebook. По умолчанию `https://www.facebook.com/hypotez.promocodes`.
- `promoter` (str): Имя пользователя, осуществляющего продвижение.

**Методы**:
- `__init__(self, driver: 'Driver', promoter: str, group_file_paths: list[str], *args, **kwards)`: Конструктор класса.
- `login(self) -> bool`: Выполняет вход в Facebook.
- `promote_post(self, item: SimpleNamespace) -> bool`: Отправляет текстовое сообщение в форму для публикации.
- `promote_event(self, event: SimpleNamespace)`: Пример функции для продвижения события.

#### `__init__`

```python
def __init__(self, driver: 'Driver', promoter: str, group_file_paths: list[str], *args, **kwards):
    """ Я могу передать уже запущенный инстанс драйвера. Например, из алиэкспресс
    @todo:
        - Добавить проверку на какой странице открылся фейсбук. Если открылась страница логина - выполнитл сценарий логина
    """
    self.d = driver
    self.promoter = promoter
    ...
    
    #self.driver.get_url (self.start_page)
    #switch_account(self.driver) # <- переключение профиля, если не на своей странице
```

**Назначение**: Инициализирует экземпляр класса `Facebook`.

**Параметры**:
- `driver` (Driver): Инстанс драйвера веб-браузера.
- `promoter` (str): Имя пользователя, осуществляющего продвижение.
- `group_file_paths` (list[str]): Список путей к файлам групп.
- `*args`: Произвольные позиционные аргументы.
- `**kwards`: Произвольные именованные аргументы.

**Как работает функция**:
- Функция сохраняет переданный инстанс драйвера и имя пользователя.
- Подразумевается, что в дальнейшем будет добавлена проверка текущей страницы Facebook и выполнение сценария входа, если открылась страница логина.

#### `login`

```python
def login(self) -> bool:
    """ """
    return login(self)
```

**Назначение**: Выполняет вход в Facebook.

**Возвращает**:
- `bool`: `True`, если вход выполнен успешно, иначе `False`.

**Как работает функция**:
- Функция вызывает функцию `login` из модуля `src.endpoints.advertisement.facebook.scenarios.login` и передает текущий экземпляр класса `Facebook`.

#### `promote_post`

```python
def promote_post(self, item: SimpleNamespace) -> bool:
    """ Функция отправляет текст в форму сообщения 
    @param message: сообщение текстом. Знаки `;` будут заменеы на `SHIFT+ENTER`
    @returns `True`, если успешно, иначе `False`
    """
    ...
    return promote_post(self.d, item)
```

**Назначение**: Отправляет текстовое сообщение в форму для публикации.

**Параметры**:
- `item` (SimpleNamespace): Объект, содержащий информацию о сообщении.

**Возвращает**:
- `bool`: `True`, если сообщение отправлено успешно, иначе `False`.

**Как работает функция**:
- Функция вызывает функцию `promote_post` из модуля `src.endpoints.advertisement.facebook.scenarios` и передает инстанс драйвера и объект `item`.

#### `promote_event`

```python
def promote_event(self, event: SimpleNamespace):
    """ Пример функции для продвижения события """
    ...
```

**Назначение**: Пример функции для продвижения события.

**Параметры**:
- `event` (SimpleNamespace): Объект, содержащий информацию о событии.

**Как работает функция**:
- Функция предполагает реализацию логики продвижения события в Facebook.

## Параметры класса

- `d` (Driver): Инстанс драйвера веб-браузера, используемый для взаимодействия с Facebook.
- `start_page` (str): URL стартовой страницы Facebook. По умолчанию используется `https://www.facebook.com/hypotez.promocodes`.
- `promoter` (str): Имя пользователя, осуществляющего продвижение. Используется для идентификации действий в Facebook.