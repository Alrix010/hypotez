# Модуль для взаимодействия с chatbot.theb.ai

## Обзор

Модуль предназначен для взаимодействия с API `chatbot.theb.ai`. Он отправляет запросы к API для получения ответов на заданные промпты и обрабатывает полученные данные. Модуль использует библиотеку `curl_cffi` для выполнения HTTP-запросов.

## Подробнее

Этот модуль отправляет запросы к API `chatbot.theb.ai` для получения ответов на заданные промпты. Он использует библиотеку `curl_cffi` для выполнения HTTP-запросов.
Модуль принимает конфигурацию в виде JSON-строки через аргументы командной строки, извлекает промпт из конфигурации и отправляет его в API.
Полученные ответы обрабатываются и выводятся в консоль.

## Функции

### `format`

```python
def format(chunk):
    """
    Обрабатывает полученный чанк данных от API, извлекая и печатая содержимое.

    Args:
        chunk (bytes): Чанк данных, полученный от API.

    Returns:
        None

    Raises:
        Exception: Если происходит ошибка при обработке чанка.

    Example:
        >>> chunk = b'{"content":"Example response"},"fin'
        >>> format(chunk)
        Example response
    """
    try:
        completion_chunk = findall(r'content":"(.*)"},"fin', chunk.decode())[0]
        print(completion_chunk, flush=True, end='')

    except Exception as ex:
        print(f'[ERROR] an error occured, retrying... | [[{chunk.decode()}]]', flush=True)
        # logger.error('Error while formatting chunk', ех, exc_info=True) #  Используй модуль logger из src.logger.logger
        return
```

**Назначение**: Обрабатывает полученный чанк данных от API, извлекая и печатая содержимое.

**Параметры**:
- `chunk` (bytes): Чанк данных, полученный от API.

**Возвращает**:
- `None`

**Вызывает исключения**:
- `Exception`: Если происходит ошибка при обработке чанка.

**Как работает функция**:
- Функция принимает чанк данных в виде байтовой строки.
- Использует регулярное выражение для извлечения содержимого из чанка.
- Выводит извлеченное содержимое в консоль.
- В случае ошибки выводит сообщение об ошибке и возвращается.

**Примеры**:

```python
chunk = b'{"content":"Example response"},"fin'
format(chunk)
```

## Переменные

- `config` (dict): Конфигурация, загруженная из JSON-строки, переданной через аргументы командной строки.
- `prompt` (str): Текст запроса, извлеченный из конфигурации.
- `headers` (dict): Заголовки HTTP-запроса.
- `json_data` (dict): Данные JSON, отправляемые в теле запроса.
- `response` : ответ от запроса post