# Модуль `Liaobots.py`

## Обзор

Модуль предоставляет функциональность для взаимодействия с сервисом Liaobots, который использует модели GPT-3.5 Turbo и GPT-4. Он позволяет отправлять запросы к API Liaobots и получать ответы в режиме реального времени. Модуль поддерживает потоковую передачу данных и требует аутентификации.

## Подробнее

Модуль предназначен для интеграции с сервисом Liaobots, предоставляющим доступ к моделям GPT-3.5 Turbo и GPT-4. Он содержит функции для формирования запросов к API и обработки ответов. Для работы с модулем требуется аутентификация. Модуль использует библиотеку `requests` для отправки HTTP-запросов и библиотеку `uuid` для генерации уникальных идентификаторов.

## Переменные модуля

- `url` (str): Базовый URL сервиса Liaobots (`https://liaobots.com`).
- `model` (list): Список поддерживаемых моделей (`['gpt-3.5-turbo', 'gpt-4']`).
- `supports_stream` (bool): Указывает, поддерживает ли провайдер потоковую передачу (`True`).
- `needs_auth` (bool): Указывает, требуется ли аутентификация (`True`).
- `models` (dict): Словарь, содержащий информацию о поддерживаемых моделях, такую как ID, имя, максимальная длина и лимит токенов.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """
    Создает запрос к API Liaobots и возвращает ответ в режиме реального времени.

    Args:
        model (str): Название модели для использования (например, 'gpt-3.5-turbo' или 'gpt-4').
        messages (list): Список сообщений для отправки в API.
        stream (bool): Указывает, использовать ли потоковую передачу данных.
        **kwargs: Дополнительные аргументы, такие как ключ аутентификации ('auth').

    Yields:
        str: Часть ответа от API, декодированная в UTF-8.

    Raises:
        requests.exceptions.RequestException: Если возникает ошибка при отправке запроса.

    Внутренние функции:
        Отсутствуют.

    Как работает функция:
    - Формирует заголовки запроса, включая ключ аутентификации, если он предоставлен.
    - Формирует JSON-данные для отправки в API, включая идентификатор разговора, модель, сообщения и промпт.
    - Отправляет POST-запрос к API Liaobots с использованием библиотеки `requests`.
    - Итерируется по содержимому ответа, декодирует каждый чанк в UTF-8 и возвращает его.

    Примеры:
        >>> for token in _create_completion(model='gpt-3.5-turbo', messages=[{'role': 'user', 'content': 'Hello'}], stream=True, auth='YOUR_AUTH_KEY'):
        ...     print(token, end='')
        ...
        Hello! How can I assist you today?
    """
    ...
```

### `params`

```python
params = f'g4f.Providers.{os.path.basename(__file__)[:-3]} supports: ' + \
    '({0})'.format(', '.join([f"{name}: {get_type_hints(_create_completion)[name].__name__}" for name in _create_completion.__code__.co_varnames[:_create_completion.__code__.co_argcount]]))
```

## Параметры

- `model` (str): Строка, представляющая имя модели.
- `messages` (list): Список сообщений, отправляемых в API.
- `stream` (bool): Булево значение, указывающее, использовать ли потоковую передачу.
- `**kwargs`: Произвольные ключевые аргументы.