# Модуль для взаимодействия с Gravityengine API

## Обзор

Модуль предоставляет класс для взаимодействия с API Gravityengine, позволяющий генерировать ответы на основе предоставленных сообщений. Модуль поддерживает потоковую передачу данных и не требует аутентификации.

## Подробней

Данный код является провайдером для проекта `hypotez` и предназначен для обеспечения взаимодействия с сервисом Gravityengine. Он определяет URL, поддерживаемые модели, возможность потоковой передачи и необходимость аутентификации. Также предоставляет функцию для создания запросов к API Gravityengine и получения ответов.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """
    Создает запрос к API Gravityengine для получения ответа на основе предоставленных сообщений.

    Args:
        model (str): Название модели, которую необходимо использовать.
        messages (list): Список сообщений для отправки в API.
        stream (bool): Флаг, указывающий, следует ли использовать потоковую передачу данных.
        **kwargs: Дополнительные параметры запроса.

    Returns:
        Generator[str, None, None]: Генератор, выдающий части ответа от API.

    Raises:
        Exception: Если при запросе к API возникла ошибка.

    Примеры:
        >>> model = 'gpt-3.5-turbo-16k'
        >>> messages = [{'role': 'user', 'content': 'Hello, how are you?'}]
        >>> stream = True
        >>> for chunk in _create_completion(model, messages, stream):
        ...     print(chunk)
        'I am doing well, thank you for asking.'
    """
    ...
```

**Назначение**: Функция `_create_completion` отправляет запрос к API Gravityengine и возвращает ответ в виде генератора.

**Параметры**:

-   `model` (str): Имя модели, используемой для генерации ответа.
-   `messages` (list): Список сообщений, отправляемых в API для получения ответа.
-   `stream` (bool): Флаг, указывающий, использовать ли потоковую передачу данных.
-   `**kwargs`: Дополнительные параметры, которые могут быть переданы в API.

**Возвращает**:

-   `Generator[str, None, None]`: Генератор, который выдает части сгенерированного ответа.

**Как работает функция**:

1.  Формируются заголовки запроса, указывающие на тип контента `application/json`.
2.  Формируются данные запроса, включающие модель, температуру, штраф за присутствие и сообщения.
3.  Отправляется POST-запрос к API Gravityengine с указанными заголовками и данными.
4.  Функция возвращает генератор, который выдает части ответа, полученные от API.

## Параметры модуля

-   `url` (str): URL-адрес API Gravityengine.
-   `model` (list): Список поддерживаемых моделей.
-   `supports_stream` (bool): Флаг, указывающий, поддерживает ли провайдер потоковую передачу данных.
-   `needs_auth` (bool): Флаг, указывающий, требуется ли аутентификация для доступа к API.

## Переменные

-   `params` (str): Строка, содержащая информацию о поддержке параметров провайдером, используется для логирования или отладки.