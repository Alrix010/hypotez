# Модуль `Aichat.py`

## Обзор

Модуль предоставляет класс `Aichat`, который является асинхронным провайдером для взаимодействия с сервисом `chat-gpt.org`. Он позволяет отправлять запросы к API и получать ответы. Модуль устарел и помечен как `deprecated`.

## Подробней

Этот модуль предназначен для асинхронного взаимодействия с API `chat-gpt.org`. Он использует `StreamSession` для отправки запросов и получения ответов, а также управляет cookies для аутентификации.

## Классы

### `Aichat`

**Описание**: Класс `Aichat` является асинхронным провайдером для взаимодействия с сервисом `chat-gpt.org`. Он поддерживает модель `gpt-3.5-turbo`.

**Наследует**: `AsyncProvider`

**Атрибуты**:
- `url` (str): URL сервиса `chat-gpt.org`.
- `working` (bool): Флаг, указывающий на работоспособность провайдера.
- `supports_gpt_35_turbo` (bool): Флаг, указывающий на поддержку модели `gpt-3.5-turbo`.

**Методы**:
- `create_async()`: Асинхронный метод для отправки запроса к API и получения ответа.

## Методы класса

### `create_async`

```python
    async def create_async(
        model: str,
        messages: Messages,
        proxy: str = None, **kwargs) -> str:
        """
        Отправляет асинхронный запрос к API `chat-gpt.org` и возвращает ответ.

        Args:
            model (str): Название модели.
            messages (Messages): Список сообщений для отправки.
            proxy (str, optional): Прокси-сервер для использования. По умолчанию `None`.
            **kwargs: Дополнительные аргументы, такие как `cookies`, `temperature`, `top_p`.

        Returns:
            str: Ответ от API.

        Raises:
            RuntimeError: Если не удалось получить cookies.
            Exception: Если API вернул ошибку.

        Принцип работы:
        - Получает или устанавливает cookies для `chat-gpt.org`.
        - Формирует заголовки запроса.
        - Создает сессию `StreamSession` с заданными параметрами.
        - Формирует JSON-данные для отправки в запросе, включая сообщения, температуру, `top_p` и штрафы.
        - Отправляет POST-запрос к API `chat-gpt.org/api/text`.
        - Обрабатывает ответ, извлекая сообщение или выбрасывая исключение в случае ошибки.

        """
```

## Параметры класса

- `model` (str): Название используемой модели.
- `messages` (Messages): Список сообщений, отправляемых в запросе.
- `proxy` (str, optional): Адрес прокси-сервера для использования. По умолчанию `None`.

**Примеры**:

```python
# Пример вызова функции create_async
# (Предполагается, что у вас есть настроенные messages и cookies)
# result = await Aichat.create_async(model="gpt-3.5-turbo", messages=messages, cookies=cookies)
# print(result)