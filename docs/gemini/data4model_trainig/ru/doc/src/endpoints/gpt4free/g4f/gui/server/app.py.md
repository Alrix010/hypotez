# Документация для модуля `app.py`

## Обзор

Модуль `app.py` содержит функцию `create_app`, которая создает и конфигурирует Flask-приложение. Этот модуль важен для инициализации веб-сервера, используемого в проекте. Он определяет, где находятся статические файлы и шаблоны, в зависимости от того, запущен ли код в замороженном состоянии (например, как исполняемый файл) или в режиме разработки.

## Подробней

Модуль создает Flask-приложение, указывая пути к шаблонам и статическим файлам. В зависимости от того, запущен ли код как часть замороженного приложения (например, с использованием PyInstaller) или в обычном режиме разработки, пути к этим ресурсам будут разными. Если приложение запущено в замороженном состоянии, пути указывают на директорию внутри временной папки, созданной PyInstaller. В противном случае, пути указывают на директорию `../client` относительно текущего файла.

## Функции

### `create_app`

**Назначение**: Создает и конфигурирует Flask-приложение.

**Параметры**:
- Нет параметров.

**Возвращает**:
- `Flask`: Сконфигурированный экземпляр Flask-приложения.

**Как работает функция**:
1. Проверяет, запущено ли приложение в замороженном состоянии (например, как исполняемый файл, созданный с помощью PyInstaller).
2. Если приложение заморожено, определяет путь к папке с шаблонами внутри временной директории, созданной PyInstaller (`sys._MEIPASS`).
3. Если приложение не заморожено, предполагает, что оно запущено в режиме разработки, и устанавливает путь к папке с шаблонами как `../client` относительно текущего файла.
4. Создает экземпляр Flask-приложения, указывая папку с шаблонами и папку со статическими файлами (находящуюся внутри папки с шаблонами).
5. Включает автоматическую перезагрузку шаблонов в режиме отладки, устанавливая `app.config["TEMPLATES_AUTO_RELOAD"] = True`.
6. Возвращает сконфигурированное Flask-приложение.

**Примеры**:

```python
from flask import Flask
import sys, os

def create_app() -> Flask:
    if getattr(sys, 'frozen', False):
        template_folder = os.path.join(sys._MEIPASS, "client")
    else:
        template_folder = "../client"
    app = Flask(__name__, template_folder=template_folder, static_folder=f"{template_folder}/static")
    app.config["TEMPLATES_AUTO_RELOAD"] = True  # Enable auto reload in debug mode
    return app

app = create_app()
print(type(app))