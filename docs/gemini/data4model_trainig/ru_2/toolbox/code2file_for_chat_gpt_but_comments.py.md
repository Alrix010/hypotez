# Модуль для объединения текстовых файлов с сохранением комментариев

## Обзор

Модуль предназначен для рекурсивного чтения текстовых и данных файлов в указанном каталоге и сохранения объединенного содержимого в один файл. В отличие от `code2file_for_chat_gpt.py`, этот скрипт сохраняет все комментарии и docstring'и.

## Подробнее

Модуль предоставляет функции для рекурсивного обхода директорий, чтения содержимого различных типов файлов (текстовые, код, данные), и объединения их в один выходной файл. Он также включает функциональность для удаления определенных файлов и директорий на основе заданных критериев (например, начинающихся с `_` или содержащих `(` и `)`).

## Функции

### `delete_directory_contents`

```python
def delete_directory_contents(directory: Path) -> None:
    """ Рекурсивно удаляет все содержимое указанной директории.

    Args:
        directory (Path): Путь к директории, содержимое которой нужно удалить.

    Returns:
        None

    Пример:
        >>> delete_directory_contents(Path('../tmp/chat_gpt/aliexpress'))
    """
    ...
```

**Назначение**:
Функция `delete_directory_contents` рекурсивно удаляет все файлы и поддиректории внутри указанной директории.

**Параметры**:
- `directory` (Path): Объект `Path`, представляющий путь к директории, содержимое которой нужно удалить.

**Возвращает**:
- `None`: Функция ничего не возвращает.

**Как работает функция**:
1. Итерируется по всем элементам (файлам и поддиректориям) внутри указанной директории.
2. Если элемент является директорией, рекурсивно вызывает `delete_directory_contents` для этой директории, а затем пытается удалить саму директорию.
3. Если элемент является файлом, пытается удалить файл.
4. Логирует успешные удаления файлов и директорий, а также ошибки при удалении.

### `read_text_files`

```python
def read_text_files(
    directory: str, output_file: str
) -> None:
    """ Читает все указанные текстовые и данные файлы в каталоге и сохраняет объединенный текст в один файл,
    одновременно удаляя файлы и директории, которые начинаются с `_` или содержат `(` и `)`.

    Args:
        directory (str): Каталог для поиска файлов.
        output_file (str): Файл, в который будет сохранен объединенный текст.

    Returns:
        None

    Пример:
        >>> read_text_files('src', 'output.txt')
    """
    ...
```

**Назначение**:
Функция `read_text_files` читает все указанные текстовые и данные файлы в каталоге и сохраняет объединенный текст в один файл, одновременно удаляя файлы и директории, которые начинаются с `_` или содержат `(` и `)`.

**Параметры**:
- `directory` (str): Каталог для поиска файлов.
- `output_file` (str): Файл, в который будет сохранен объединенный текст.

**Возвращает**:
- `None`

**Как работает функция**:

1.  Функция принимает путь к директории и путь к выходному файлу.
2.  Создает выходной файл, если он не существует.
3.  Рекурсивно обходит указанную директорию.
4.  Для каждой директории и файла:
    -   Если имя директории или файла начинается с `_` или содержит символы `(` и `)`, то директория или файл удаляется.
    -   Иначе содержимое файла добавляется в выходной файл.
5.  Поддерживает различные типы файлов (`.py`, `.txt`, `.css`, `.js`, `.dot`, `.mer`, `.md`, `.ps1`, `.json`, `.csv`, `.xml`, `.xls`, `.xlsx`, `.ipynb`, `.yaml`, `.yml`, `.tex`, `.ini`, `.rdf`, `.toml`, `.sqlite`, `.db`), обрабатывая каждый тип соответствующим образом (например, форматируя JSON, преобразуя CSV в текст, извлекая данные из Excel и SQLite баз данных).
6.  Логирует информацию об ошибках, возникающих при обработке файлов.

## Примеры

### Пример использования `read_text_files`

```python
from pathlib import Path
from dev_utils.code2file_for_chat_gpt_but_comments import read_text_files

# Указываем каталог для поиска и файл для сохранения вывода
directory_to_search = "../src/suppliers/kazarinov/react"
output_file_path = Path("../data/kazarinov_react.txt")

# Создаем директорию, если она не существует
output_file_path.parent.mkdir(parents=True, exist_ok=True)

# Создаем файл, если его не существует
output_file_path.touch(exist_ok=True)

read_text_files(directory_to_search, output_file_path)