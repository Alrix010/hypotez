# Модуль для управления веб-сайтом

## Обзор

Модуль `website.py` отвечает за настройку маршрутов и обработку запросов для веб-интерфейса приложения. Он использует Flask для определения различных эндпоинтов, отображающих соответствующие HTML-шаблоны.

## Подробней

Этот модуль предоставляет класс `Website`, который инициализирует Flask-приложение и определяет маршруты для различных страниц, таких как чат, настройки и фоновые изображения. Он также обрабатывает запросы к этим страницам, отображая соответствующие шаблоны.

## Классы

### `Website`

**Описание**: Класс для управления маршрутами и отображением веб-страниц.

**Атрибуты**:
- `app`: Flask-приложение, связанное с веб-сайтом.
- `routes`: Словарь, содержащий маршруты и соответствующие функции для обработки запросов.

**Методы**:
- `__init__(self, app)`: Инициализирует экземпляр класса `Website`, устанавливая Flask-приложение и определяя маршруты.
- `_chat(self, conversation_id)`: Отображает шаблон чата с указанным идентификатором беседы.
- `_share_id(self, share_id, conversation_id: str = "")`: Отображает шаблон общего доступа с указанным идентификатором общего доступа и идентификатором беседы.
- `_index(self)`: Отображает главную страницу с новым идентификатором беседы.
- `_settings(self)`: Отображает страницу настроек с новым идентификатором беседы.
- `_background(self)`: Отображает страницу с фоновым изображением.

**Принцип работы**:
Класс `Website` инициализируется Flask-приложением и определяет набор маршрутов, каждый из которых связан с определенной функцией. Когда поступает запрос к одному из этих маршрутов, вызывается соответствующая функция, которая отображает HTML-шаблон, используя `render_template` из Flask. Класс также предоставляет функции для обработки запросов к страницам чата, настроек и фоновых изображений, а также для работы с общими идентификаторами.

## Методы класса

### `__init__(self, app)`

```python
def __init__(self, app) -> None:
    """
    Инициализирует экземпляр класса Website, устанавливая Flask-приложение и определяя маршруты.

    Args:
        app: Flask-приложение, связанное с веб-сайтом.

    Returns:
        None
    """
```

### `_chat(self, conversation_id)`

```python
def _chat(self, conversation_id):
    """
    Отображает шаблон чата с указанным идентификатором беседы.

    Args:
        conversation_id: Идентификатор беседы.

    Returns:
        Результат вызова render_template с шаблоном 'index.html' и conversation_id.
    """
```

### `_share_id(self, share_id, conversation_id: str = "")`

```python
def _share_id(self, share_id, conversation_id: str = ""):
    """
    Отображает шаблон общего доступа с указанным идентификатором общего доступа и идентификатором беседы.

    Args:
        share_id: Идентификатор общего доступа.
        conversation_id (str, optional): Идентификатор беседы. По умолчанию "".

    Returns:
        Результат вызова render_template с шаблоном 'index.html' и параметрами share_url, share_id и conversation_id.
    """
```

### `_index(self)`

```python
def _index(self):
    """
    Отображает главную страницу с новым идентификатором беседы.

    Args:
        Нет

    Returns:
        Результат вызова render_template с шаблоном 'index.html' и новым conversation_id.
    """
```

### `_settings(self)`

```python
def _settings(self):
    """
    Отображает страницу настроек с новым идентификатором беседы.

    Args:
        Нет

    Returns:
        Результат вызова render_template с шаблоном 'index.html' и новым conversation_id.
    """
```

### `_background(self)`

```python
def _background(self):
    """
    Отображает страницу с фоновым изображением.

    Args:
        Нет

    Returns:
        Результат вызова render_template с шаблоном 'background.html'.
    """
```

## Функции

### `redirect_home()`

```python
def redirect_home():
    """
    Выполняет перенаправление на страницу '/chat'.

    Args:
        Нет

    Returns:
        Результат вызова redirect('/chat').
    """
```
**Как работает функция**:
Функция вызывает `redirect('/chat')`, что приводит к перенаправлению пользователя на страницу чата.

**Примеры**:
```python
redirect_home()  # Перенаправляет на страницу '/chat'
```
## Параметры класса

- `app`: Flask-приложение, связанное с веб-сайтом.
- `routes`: Словарь, содержащий маршруты и соответствующие функции для обработки запросов.

**Примеры**:

```python
from flask import Flask

app = Flask(__name__)
website = Website(app)
```