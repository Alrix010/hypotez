# Модуль для отладки `gpt4free`

## Обзор

Этот модуль предназначен для отладки и логирования в библиотеке `gpt4free`. Он предоставляет функции для логирования сообщений, ошибок и управления параметрами логирования и проверки версий.

## Подробнее

Модуль позволяет включать и отключать логирование, устанавливать обработчик логирования и хранить логи в списке. Он также предоставляет функцию для логирования ошибок в стандартный поток ошибок. Этот модуль важен для отладки и мониторинга работы библиотеки `gpt4free`.

## Переменные модуля

- `logging` (bool): Флаг, определяющий, включено ли логирование. По умолчанию `False`.
- `version_check` (bool): Флаг, определяющий, следует ли выполнять проверку версии. По умолчанию `True`.
- `version` (Optional[str]): Строка, представляющая версию библиотеки. По умолчанию `None`.
- `log_handler` (Callable): Функция, используемая для обработки логов. По умолчанию `print`.
- `logs` (List[str]): Список для хранения логов.

## Функции

### `log`

```python
def log(*text: Any, file: Optional[Any] = None) -> None:
    """
    Логирует сообщение, если включено логирование.

    Args:
        *text (Any): Переменное количество аргументов, которые будут преобразованы в строку и записаны в лог.
        file (Optional[Any], optional): Файловый объект, в который будет записан лог. По умолчанию `None`, что означает использование стандартного вывода.

    Returns:
        None

    """
```

**Назначение**: Логирует сообщение, если глобальная переменная `logging` имеет значение `True`.

**Параметры**:
- `*text` (Any): Неограниченное количество аргументов, которые будут выведены в лог.
- `file` (Optional[Any], optional): Файловый объект, в который будет записано сообщение. Если не указан, используется стандартный вывод. По умолчанию `None`.

**Как работает функция**:
- Проверяет, включено ли логирование (`if logging:`).
- Если логирование включено, вызывает функцию `log_handler` с переданными аргументами `*text` и `file=file`. Функция `log_handler` выполняет фактическую запись лога.

**Примеры**:

```python
logging = True
log("Сообщение для лога", 123)
# Вывод: Сообщение для лога 123

logging = False
log("Сообщение не будет залогировано")
# Ничего не выводится
```

### `error`

```python
def error(*error: Any, name: Optional[str] = None) -> None:
    """
    Логирует сообщение об ошибке в стандартный поток ошибок.

    Args:
        *error (Any): Переменное количество аргументов, представляющих сообщение об ошибке.
        name (Optional[str], optional): Имя объекта, вызвавшего ошибку. Используется в форматировании сообщения об ошибке. По умолчанию `None`.

    Returns:
        None

    """
```

**Назначение**: Логирует сообщение об ошибке в стандартный поток ошибок (`sys.stderr`).

**Параметры**:
- `*error` (Any): Переменное количество аргументов, которые будут преобразованы в сообщение об ошибке.
- `name` (Optional[str], optional): Имя объекта, вызвавшего ошибку. Используется для форматирования сообщения об ошибке. По умолчанию `None`.

**Как работает функция**:

1. Формирует сообщение об ошибке:
   - Преобразует каждый элемент `e` в `error` в строку.
   - Если элемент `e` не является строкой, формирует строку вида `"{type(e).__name__ if name is None else name}: {e}"`, которая включает имя типа ошибки или предоставленное имя (`name`), и само сообщение об ошибке `e`.
2. Вызывает функцию `log` с сформированным сообщением об ошибке и указанием `file=sys.stderr`, чтобы сообщение было записано в стандартный поток ошибок.

**Примеры**:

```python
error("Произошла ошибка", 123)
# Вывод в stderr: Произошла ошибка 123

error(ValueError("Некорректное значение"), name="MyFunction")
# Вывод в stderr: MyFunction: Некорректное значение

try:
    raise ValueError("Некорректное значение")
except ValueError as ex:
    error(ex)
# Вывод в stderr: ValueError: Некорректное значение