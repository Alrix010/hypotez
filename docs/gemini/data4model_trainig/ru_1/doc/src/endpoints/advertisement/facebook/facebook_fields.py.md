# Модуль для работы с полями Facebook

## Обзор

Модуль `facebook_fields.py` предназначен для определения и загрузки полей, используемых в рекламных объявлениях и событиях Facebook. Он содержит класс `FacebookFields`, который инициализирует эти поля из JSON-файла.

## Подробней

Этот модуль облегчает управление и использование различных полей, необходимых для работы с API Facebook Ads. Он загружает данные полей из файла `facebook_feilds.json` и делает их доступными как атрибуты класса `FacebookFields`.

## Классы

### `FacebookFields`

**Описание**: Класс для хранения и управления полями, используемыми в рекламных объявлениях и событиях Facebook.

**Атрибуты**:
- `self`: Экземпляр класса `FacebookFields`.

**Методы**:
- `__init__()`: Инициализирует экземпляр класса и вызывает метод `_payload()` для загрузки полей из файла.
- `_payload()`: Загружает данные полей из JSON-файла и устанавливает их как атрибуты класса.

#### Принцип работы:

Класс `FacebookFields` предназначен для централизованного управления полями, используемыми при работе с Facebook Ads API. При инициализации класса вызывается метод `_payload`, который загружает данные из JSON-файла, расположенного по пути `src/advertisement/facebok/facebook_feilds.json`. Эти данные затем устанавливаются как атрибуты экземпляра класса, что позволяет легко обращаться к ним в дальнейшем.

## Методы класса

### `__init__`

```python
def __init__(self):
    """Инициализирует экземпляр класса FacebookFields.
    Вызывает метод `_payload` для загрузки данных полей из JSON-файла.

    Args:
        self: Экземпляр класса `FacebookFields`.

    Returns:
        None

    Raises:
        None
    """
    ...
    self._payload()
```

**Назначение**: Инициализация экземпляра класса `FacebookFields`.

**Как работает функция**:
- Вызывает метод `_payload()` для загрузки данных полей из JSON-файла.

### `_payload`

```python
def _payload(self):
    """Загружает данные полей из JSON-файла и устанавливает их как атрибуты класса.

    Args:
        self: Экземпляр класса `FacebookFields`.

    Returns:
        bool | None: Возвращает `True` в случае успешной загрузки и установки полей,
                     `None` в случае ошибки загрузки файла.

    Raises:
        None
    """
    ...
    data = j_loads (Path (gs.path.src, 'advertisement', 'facebok', 'facebook_feilds.json'))
    if not data:
        logger.debug(f"Ошибка загрузки полей из файла {gs.path.src}/advertisement/facebok/facebook_feilds.json")
        return 
    for name, value in data.items():
        setattr(self, f'{name}', value)
    return True
```

**Назначение**: Загрузка данных полей из JSON-файла и установка их как атрибуты класса.

**Как работает функция**:
- Формирует путь к файлу `facebook_feilds.json`, используя `gs.path.src` (путь к исходному коду).
- Использует функцию `j_loads` для загрузки данных из JSON-файла. В случае ошибки логирует сообщение об ошибке и возвращает `None`.
- Если данные успешно загружены, итерируется по элементам словаря и устанавливает каждый элемент как атрибут экземпляра класса `FacebookFields` с помощью функции `setattr`.

**Пример**:

Предположим, что файл `facebook_feilds.json` содержит следующие данные:

```json
{
    "field1": "value1",
    "field2": "value2"
}
```

После вызова метода `_payload`, экземпляр класса `FacebookFields` будет иметь атрибуты `field1` и `field2` со значениями "value1" и "value2" соответственно.
```python
   instance = FacebookFields()
   print(instance.field1) # value1
   print(instance.field2) # value2
```
## Параметры класса

- `self`: Ссылка на экземпляр класса.
- `data` (dict): Словарь, содержащий данные полей, загруженные из JSON-файла.
- `name` (str): Ключ из словаря `data`, представляющий имя поля.
- `value` (any): Значение поля, соответствующее ключу `name` в словаре `data`.