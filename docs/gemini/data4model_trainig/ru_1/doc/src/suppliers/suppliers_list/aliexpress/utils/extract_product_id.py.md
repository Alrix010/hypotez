# Модуль для извлечения идентификаторов продуктов из URL-адресов AliExpress
## Обзор

Модуль предназначен для извлечения идентификаторов продуктов (product IDs) из URL-адресов, связанных с AliExpress. Он предоставляет функцию `extract_prod_ids`, которая может принимать как отдельные URL-адреса, так и списки URL-адресов, и возвращает соответствующие идентификаторы продуктов.

## Подробнее

Этот модуль полезен для автоматизации процессов, связанных с парсингом и анализом данных с AliExpress, позволяя извлекать product IDs для дальнейшего использования. `extract_prod_ids` использует регулярные выражения для поиска и извлечения идентификаторов из URL-адресов или возвращает их напрямую, если предоставлен валидный ID.

## Функции

### `extract_prod_ids`

```python
def extract_prod_ids(urls: str | list[str]) -> str | list[str] | None:
    """
    Извлекает идентификаторы товаров из списка URL-адресов или возвращает идентификаторы, если они предоставлены напрямую.

    Args:
        urls (str | list[str]): URL-адрес, список URL-адресов или идентификаторы продуктов.

    Returns:
        str | list[str] | None: Список извлеченных идентификаторов товаров, один идентификатор или `None`, если не найден допустимый идентификатор.

    Raises:
        Нет.

    Example:
        >>> extract_prod_ids("https://www.aliexpress.com/item/123456.html")
        '123456'

        >>> extract_prod_ids(["https://www.aliexpress.com/item/123456.html", "7891011.html"])
        ['123456', '7891011']

        >>> extract_prod_ids(["https://www.example.com/item/123456.html", "https://www.example.com/item/abcdef.html"])
        ['123456']

        >>> extract_prod_ids("7891011")
        '7891011'

        >>> extract_prod_ids("https://www.example.com/item/abcdef.html")
        None
    """
```

**Назначение**: Извлечение идентификаторов продуктов из предоставленных URL-адресов или списка URL-адресов. Если на вход передается строка, функция пытается извлечь ID из этой строки. Если на вход передается список строк, функция применяет логику извлечения ID к каждой строке в списке.

**Параметры**:

-   `urls` (str | list[str]): URL-адрес или список URL-адресов, из которых требуется извлечь идентификаторы продуктов.

**Возвращает**:

-   `str | list[str] | None`: Если на вход передана строка, функция возвращает строку с идентификатором продукта или `None`, если идентификатор не найден. Если на вход передан список строк, функция возвращает список идентификаторов продуктов, извлеченных из URL-адресов, или `None`, если ни один идентификатор не был найден.

**Как работает функция**:

1.  Определяется регулярное выражение `pattern` для поиска идентификаторов продуктов в URL-адресах.
2.  Определяется внутренняя функция `extract_id` для извлечения идентификатора из одного URL-адреса или проверки валидности предоставленного идентификатора.
3.  Проверяется тип входных данных `urls`:
    *   Если `urls` является списком, функция применяет `extract_id` к каждому элементу списка и возвращает список извлеченных идентификаторов.
    *   Если `urls` является строкой, функция вызывает `extract_id` для этой строки и возвращает результат.

**Внутренние функции**:

### `extract_id`

```python
def extract_id(url: str) -> str | None:
    """
    Извлекает идентификатор продукта из заданного URL-адреса или проверяет идентификатор продукта.

    Args:
        url (str): URL-адрес или идентификатор продукта.

    Returns:
        str | None: Извлеченный идентификатор продукта или входные данные, если это допустимый идентификатор, или `None`, если не найден допустимый идентификатор.

    Raises:
        Нет.

    Example:
        >>> extract_id("https://www.aliexpress.com/item/123456.html")
        '123456'

        >>> extract_id("7891011")
        '7891011'

        >>> extract_id("https://www.example.com/item/abcdef.html")
        None
    """
```

**Назначение**: Извлечение идентификатора продукта из URL-адреса или проверка предоставленного идентификатора.

**Параметры**:

-   `url` (str): URL-адрес или идентификатор продукта.

**Возвращает**:

-   `str | None`: Извлеченный идентификатор продукта или входные данные, если это допустимый идентификатор, или `None`, если не найден допустимый идентификатор.

**Как работает функция**:

1.  Проверяется, является ли входная строка `url` числом (то есть, валидным product ID). Если да, функция возвращает эту строку.
2.  Если `url` не является числом, функция пытается извлечь ID из URL с использованием регулярного выражения `pattern`.
3.  Если ID успешно извлечен, функция возвращает его. В противном случае функция возвращает `None`.

**Примеры**:

```python
# Пример 1: Извлечение ID из URL
url = "https://www.aliexpress.com/item/123456.html"
product_id = extract_prod_ids(url)
print(product_id)  # Вывод: 123456

# Пример 2: Извлечение ID из списка URL
urls = ["https://www.aliexpress.com/item/123456.html", "https://www.aliexpress.com/item/789012.html"]
product_ids = extract_prod_ids(urls)
print(product_ids)  # Вывод: ['123456', '789012']

# Пример 3: Передача ID напрямую
product_id = extract_prod_ids("987654")
print(product_id)  # Вывод: 987654

# Пример 4: URL без ID
url = "https://www.example.com/item/abcdef.html"
product_id = extract_prod_ids(url)
print(product_id)  # Вывод: None