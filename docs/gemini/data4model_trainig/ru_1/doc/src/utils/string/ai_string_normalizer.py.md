# Модуль для нормализации ответов AI-моделей

## Обзор

Модуль предоставляет функцию `normalize_answer`, предназначенную для очистки текстовых ответов, генерируемых AI-моделями. Он удаляет префиксы и суффиксы, часто используемые для обрамления кода в ответах моделей, такие как "```md", "```html" и т.д., чтобы получить "чистый" текст.

## Подробнее

Модуль содержит список `prefixes`, содержащий наиболее часто встречающиеся префиксы, используемые для выделения кода в ответах AI. Функция `normalize_answer` проверяет, начинается ли входной текст с одного из этих префиксов, и, если да, удаляет его, а также удаляет завершающий "```". Это позволяет извлекать полезное содержимое из ответов AI, не загрязненное синтаксическими элементами разметки.

## Функции

### `normalize_answer`

**Назначение**: Удаляет заданные префиксы и суффиксы из текстовой строки, чтобы нормализовать ответ AI.

```python
def normalize_answer(text: str) -> str:
    """Удаляет префиксы и суффиксы из текстовой строки.

    Args:
        text (str): Текст для нормализации.

    Returns:
        str: Нормализованный текст без префиксов и суффиксов.
    """
    ...
```

**Параметры**:

-   `text` (str): Входная строка, которую необходимо нормализовать.

**Возвращает**:

-   `str`: Строка, из которой удалены все заданные префиксы и суффиксы "```". Если ни один из префиксов не найден, возвращает исходную строку без изменений.

**Как работает функция**:

1.  Функция перебирает список `prefixes`.
2.  Для каждого префикса проверяется, начинается ли с него входной текст `text`.
3.  Если префикс найден, функция удаляет этот префикс из начала строки с помощью `text.removeprefix(prefix)`.
4.  После удаления префикса функция удаляет суффикс "```" из конца строки с помощью `removesuffix('```')`.
5.  Если ни один из префиксов не совпал с началом строки, функция возвращает исходный текст без изменений.

**Примеры**:

```python
from src.utils.string.ai_response_normalizer import normalize_answer

text1 = "```md\nПример строки```"
normalized_text1 = normalize_answer(text1)
print(normalized_text1)  # Пример строки

text2 = "```htmlПример строки <b>с HTML</b> ```"
normalized_text2 = normalize_answer(text2)
print(normalized_text2)  # Пример строки <b>с HTML</b>

text3 = "Просто текст без префиксов"
normalized_text3 = normalize_answer(text3)
print(normalized_text3)  # Просто текст без префиксов
```

## Переменные

-   `prefixes` (list): Список префиксов, которые будут удалены из начала строки.

```python
prefixes:list = [ 
    '```md\n',
    '```md',
    '```markdown\n',
    '```markdown',
    '```html\n',
    '```html',
    '```\n',
    '```',
    ]