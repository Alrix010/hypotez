# Модуль для генерации таблиц README

## Обзор

Модуль `src.endpoints.gpt4free/etc/tool/readme_table.py` предназначен для создания таблиц в формате Markdown для документации.

## Подробней

Модуль содержит функции для получения информации о провайдерах, моделях и их параметрах, а затем форматирует эту информацию в виде таблиц Markdown.

## Функции

### `get_api_parser`

```python
def get_api_parser():
```

**Назначение**:  Эта функция возвращает парсер аргументов API

### `test_async`

```python
async def test_async(provider: ProviderType):
```

**Назначение**: Асинхронно тестирует заданного провайдера.

**Параметры**:

*   `provider` (ProviderType): Провайдер для тестирования.

**Возвращает**:

*   `bool`: `True`, если провайдер работает, `False` в противном случае.

**Как работает функция**:

1.  Проверяет, является ли провайдер рабочим.
2.  Выполняет асинхронный запрос к API с использованием `ChatCompletion.create_async`.
3.  Возвращает `True`, если запрос выполнен успешно, `False` в противном случае.

### `test_async_list`

```python
def test_async_list(providers: list[ProviderType]):
```

**Назначение**: Тестирует список провайдеров асинхронно.

**Параметры**:

*   `providers` (list[ProviderType]): Список провайдеров для тестирования.

**Возвращает**:

*   `list`: Список результатов тестирования.

**Как работает функция**:

1.  Создает список задач для тестирования каждого провайдера, используя функцию `test_async`.
2.  Запускает все задачи асинхронно с помощью `asyncio.gather`.
3.  Возвращает список результатов тестирования.

### `print_providers`

```python
def print_providers():
```

**Назначение**: Форматирует информацию о провайдерах в виде таблицы Markdown.

**Возвращает**:

*   `list`: Список строк, представляющих таблицу Markdown.

**Как работает функция**:

1.  Получает список рабочих провайдеров с помощью `get_providers()`.
2.  Создает список строк для таблицы, включая заголовки и данные о каждом провайдере (название, веб-сайт, статус, аутентификация, потоковая передача, системные сообщения, история сообщений, модели).

### `print_models`

```python
def print_models():
```

**Назначение**: Форматирует информацию о моделях в виде таблицы Markdown.

**Возвращает**:

*   `list`: Список строк, представляющих таблицу Markdown.

**Как работает функция**:

1.  Итерируется по моделям в `models.ModelUtils.convert`.
2.  Для каждой модели формирует строку таблицы, включающую название, базового провайдера, провайдера и веб-сайт.

### `print_image_models`

```python
def print_image_models():
```

**Назначение**: Форматирует информацию о моделях изображений в виде таблицы Markdown.

**Возвращает**:

*   `list`: Список строк, представляющих таблицу Markdown.

**Как работает функция**:

1.  Итерируется по провайдерам, у которых есть атрибуты `image_models` или `vision_models`.
2.  Для каждого провайдера формирует строку таблицы, включающую метку, имя провайдера, список моделей изображений, поддержку vision и веб-сайт.

### `main`

```python
def main():
```

**Назначение**: Основная функция для запуска генерации таблиц Markdown.

**Как работает функция**:

1.  Открывает файл `docs/providers.md` для записи.
2.  Записывает таблицы с информацией о провайдерах, моделях и моделях изображений в файл.