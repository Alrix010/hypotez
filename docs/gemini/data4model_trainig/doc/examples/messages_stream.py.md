# Модуль для демонстрации потоковой передачи сообщений

## Обзор

Модуль `src.endpoints.gpt4free/etc/examples/messages_stream.py` демонстрирует использование API для получения сообщений в потоковом режиме.

## Подробней

Модуль показывает, как создавать экземпляр `AsyncClient`, отправлять запрос к модели и обрабатывать ответ в потоковом режиме.

## Функции

### `main`

```python
async def main():
```

**Назначение**: Демонстрирует использование API для получения сообщений в потоковом режиме.

**Как работает функция**:

1.  Создает экземпляр `AsyncClient`.
2.  Отправляет запрос к модели `gpt-4` с сообщением "Say hello there!", используя `client.chat.completions.create`.
3.  Итерируется по частям ответа, полученным в потоковом режиме:

    *   Если `chunk.choices` и `chunk.choices[0].delta.content` существуют, добавляет содержимое к аккумулированному тексту и выводит его в консоль.
4.  В случае ошибки выводит сообщение об ошибке.
5.  В любом случае выводит аккумулированный текст в консоль.