# Модуль провайдера Vercel

## Обзор

Модуль `src.endpoints.freegpt-webui-ru/g4f/Provider/Providers/Vercel.py` предоставляет реализацию провайдера Vercel для взаимодействия с языковыми моделями.

## Подробней

Модуль содержит функции для создания завершений (completions) с использованием API Vercel.

## Переменные

*   `url` (str): URL API Vercel (значение: `'https://play.vercel.ai'` ).
*   `model` (list): Список поддерживаемых моделей (значение: `['gpt-3.5-turbo']`).
*   `supports_stream` (bool): Указывает, поддерживает ли провайдер потоковую передачу (значение: `True`).
*   `needs_auth` (bool): Указывает, требует ли провайдер аутентификацию (значение: `False`).
*   `vercel_models` (dict): Словарь с информацией о моделях Vercel.

## Классы

### `optionsSets`

**Описание**: Класс, определяющий наборы опций.

**Атрибуты**:

*   `optionSet` (dict): Словарь для опций.
*   `jailbreak` (dict): Словарь для обхода ограничений.

### `Defaults`

**Описание**: Класс, определяющий значения по умолчанию.

**Атрибуты**:

*   `delimiter` (str): Разделитель (значение: `'\x1e'`).
*   `ip_address` (str): IP-адрес (генерируется случайным образом).
*   `allowedMessageTypes` (list): Список разрешенных типов сообщений.
*   `sliceIds` (list): Список идентификаторов слайсов.
*   `location` (dict): Информация о местоположении (локаль, рынок, регион, подсказки о местоположении).

### `Client`

**Описание**: Класс для управления сессией и запросами к API Vercel.

**Атрибуты**:

*   `session` (requests.Session): Объект сессии для выполнения HTTP-запросов.
*   `headers` (dict): Заголовки HTTP-запросов.

**Методы**:

*   `get_token(self)`: Получает токен.
*   `get_default_params(self, model_id)`: Получает параметры по умолчанию для заданной модели.
*   `generate(self, model_id: str, prompt: str, params: dict = {})`: Генерирует ответ на основе предоставленного запроса.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
```

**Назначение**: Функция для создания завершения (completion).

**Параметры**:

*   `model` (str): Имя модели.
*   `messages` (list): Список сообщений.
*   `stream` (bool): Указывает, использовать ли потоковую передачу.
*   `**kwargs`: Дополнительные аргументы.

**Как работает функция**:

1.  Формирует контекст разговора на основе сообщений.
2.  Создает экземпляр класса `Client`.
3.  Генерирует ответ с использованием метода `generate` класса `Client`.
4.  Возвращает токены из ответа.