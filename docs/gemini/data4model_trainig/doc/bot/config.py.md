# Модуль конфигурации Telegram-бота

## Обзор

Модуль `src.endpoints.bots.telegram.digital_market.bot.config` предназначен для хранения и управления конфигурацией Telegram-бота.

## Подробней

Модуль использует библиотеку `pydantic-settings` для загрузки параметров из переменных окружения и определения настроек бота, таких как токен, ID администраторов, URL сайта и т.д.

## Классы

### `Settings`

**Описание**: Класс для хранения настроек бота.

**Наследует**:

*   `BaseSettings`: Базовый класс для настроек Pydantic.

**Атрибуты**:

*   `BOT_TOKEN` (str): Токен Telegram-бота.
*   `ADMIN_IDS` (List[int]): Список ID администраторов.
*   `PROVIDER_TOKEN` (str): Токен провайдера платежей ЮKassa.
*   `FORMAT_LOG` (str): Формат логирования (значение: `"{time:YYYY-MM-DD at HH:mm:ss} | {level} | {message}"`).
*   `LOG_ROTATION` (str): Размер ротации логов (значение: `"10 MB"`).
*   `DB_URL` (str): URL базы данных (значение: `'sqlite+aiosqlite:///data/db.sqlite3'`).
*   `SITE_URL` (str): URL сайта для вебхуков.
*   `SITE_HOST` (str): Хост сайта (значение: `"0.0.0.0"`).
*   `SITE_PORT` (int): Порт сайта (значение: `8000`).
*   `MRH_LOGIN` (str): Логин с Робокассы.
*   `MRH_PASS_1` (str): Пароль 1 с Робокассы.
*   `MRH_PASS_2` (str): Пароль 2 с Робокассы.
*   `IN_TEST` (int): Параметр, указывающий на тестовый режим ROBOCASSA (1 или 0).

**Свойства**:

*   `get_webhook_url` (str): Динамически формирует путь для вебхука на основе токена и URL сайта.
*   `get_provider_hook_url` (str): Динамически формирует путь для вебхука на основе токена и URL сайта для Робокассы.

**Принцип работы**:

Класс `Settings` использует `pydantic-settings` для автоматической загрузки настроек из переменных окружения и файла `.env`. Это упрощает управление конфигурацией бота и позволяет легко изменять параметры без необходимости изменения кода.

## Переменные

*   `settings` (Settings): Экземпляр класса `Settings` с загруженными параметрами.
*   `bot` (Bot): Экземпляр класса `aiogram.Bot` с использованием токена из настроек.
*   `dp` (Dispatcher): Экземпляр класса `aiogram.Dispatcher` с использованием хранилища в памяти (MemoryStorage).
*   `admins` (List[int]): Список ID администраторов, полученный из настроек.
*   `log_file_path` (str): Путь к файлу лога.
*   `database_url` (str): URL базы данных.