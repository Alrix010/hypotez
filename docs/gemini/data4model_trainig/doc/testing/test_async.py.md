# Модуль для асинхронного тестирования

## Обзор

Модуль `src.endpoints.gpt4free/etc/testing/test_async.py` предназначен для асинхронного тестирования различных провайдеров.

## Подробней

Модуль содержит функции для тестирования провайдеров и измерения времени их выполнения.

## Функции

### `test`

```python
async def test(model: g4f.Model):
```

**Назначение**: Тестирует заданную модель асинхронно.

**Параметры**:

*   `model` (g4f.Model): Модель для тестирования.

**Как работает функция**:

1.  Пытается выполнить асинхронный запрос к модели, используя `provider.create_async`.
2.  Выводит ответ или сообщение об ошибке в консоль.
3.  Измеряет время выполнения запроса, используя `log_time_async`.

### `run_async`

```python
async def run_async():
```

**Назначение**: Запускает асинхронное тестирование всех рабочих провайдеров.

**Как работает функция**:

1.  Получает список рабочих провайдеров с помощью `get_providers()`.
2.  Создает список задач для тестирования каждого провайдера с помощью функции `test`.
3.  Запускает все задачи асинхронно с помощью `asyncio.gather`.

### `__main__`

```python
asyncio.run(start_test())
```

**Назначение**: Запускает асинхронное тестирование.

**Как работает функция**:

1.  Запускает асинхронную функцию `run_async` с использованием `asyncio.run`.
2.  Измеряет общее время выполнения тестов, используя `log_time_async`.