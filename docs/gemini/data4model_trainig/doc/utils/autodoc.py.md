### Анализ кода модуля `src/utils/autodoc.py`

## Обзор

Модуль `src.utils.autodoc` демонстрирует использование декоратора для автоматического обновления `docstring` функции, добавляя информацию о времени последнего вызова.

## Подробнее

Модуль содержит декоратор `autodoc`, который при каждом вызове функции, к которой он применен, автоматически добавляет в её `docstring` информацию о времени этого вызова. Это может быть полезно для отслеживания времени выполнения функций и для целей отладки.

## Функции

### `autodoc`

```python
def autodoc(func):
    """Декоратор для автоматического обновления docstring функции."""

    @functools.wraps(func)
    def wrapper(*args, **kwargs):
        # Обновляем docstring перед вызовом функции
        update_docstring(func)
        return func(*args, **kwargs)

    return wrapper
```

**Назначение**:
Декоратор `autodoc` предназначен для автоматического добавления информации о времени последнего вызова функции в её `docstring`.

**Параметры**:
- `func`: Функция, к которой применяется декоратор.

**Возвращает**:
- `wrapper`: Обернутая функция, которая выполняет обновление `docstring` перед каждым вызовом исходной функции.

**Как работает функция**:

1. Применяется к функции `func`.
2. Создает внутреннюю функцию `wrapper`, которая оборачивает исходную функцию.
3. При каждом вызове `wrapper` вызывает функцию `update_docstring(func)`, которая обновляет `docstring` функции `func`.
4. После обновления `docstring` вызывается исходная функция `func` с теми же аргументами, что и `wrapper`.
5.  Возвращает результат вызова `func`.

### `update_docstring`

```python
def update_docstring(func):
    """Обновляет docstring функции."""
    current_time = time.strftime("%Y-%m-%d %H:%M:%S")
    
    # Проверяем, существует ли docstring
    if func.__doc__:
        # Добавляем информацию о времени последнего вызова
        func.__doc__ += f"\n\nLast called at: {current_time}"
    else:
        func.__doc__ = f"Last called at: {current_time}"
```

**Назначение**:
Функция `update_docstring` добавляет информацию о времени последнего вызова функции в её `docstring`.

**Параметры**:
- `func`: Функция, `docstring` которой необходимо обновить.

**Возвращает**:
- None

**Как работает функция**:

1.  Получает текущее время в формате `YYYY-MM-DD HH:MM:SS`.
2.  Проверяет, существует ли `docstring` у функции `func`.
3.  Если `docstring` существует, добавляет в конец `docstring` строку с информацией о времени последнего вызова.
4.  Если `docstring` не существует, создает новый `docstring` с информацией о времени последнего вызова.

### `example_function`

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")
```

**Назначение**:
Пример функции, демонстрирующий использование декоратора `autodoc`.

**Параметры**:
- `param1` (int): Первое значение.
- `param2` (str): Второе значение.

**Возвращает**:
- None

**Как работает функция**:

1.  Выводит строку, содержащую значения `param1` и `param2`.
2.  Декорируется декоратором `autodoc`, что приводит к автоматическому обновлению её `docstring` при каждом вызове.

## Переменные

Отсутствуют

## Запуск

Модуль предназначен для использования в других модулях проекта. Для обновления `docstring` функций, необходимо применить к ним декоратор `@autodoc`.

```python
from src.utils.autodoc import autodoc

@autodoc
def my_function():
    """My function docstring."""
    pass