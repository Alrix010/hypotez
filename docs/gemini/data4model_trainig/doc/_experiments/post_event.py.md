## \\file /src/endpoints/advertisement/facebook/scenarios/_experiments/post_event.py

# Модуль для обработки и отправки данных о мероприятиях в Facebook

```rst
.. module:: src.endpoints.advertisement.facebook.scenarios._experiments
```

Этот модуль управляет получением и отправкой данных о мероприятиях на Facebook.

Он взаимодействует с JSON-файлами, содержащими данные о мероприятиях, обрабатывает их и отправляет соответствующие сообщения в группы Facebook.

## Функции

### `post_events`

```python
def post_events():
```

**Назначение**: Обрабатывает и отправляет мероприятия на Facebook.

**Как работает функция**:

1.  Получает данные о мероприятиях из указанной директории, загружает детали мероприятий из JSON-файлов и отправляет их на Facebook.
2.  Собирает события от AliExpress, используя `get_directory_names`.
3.  Получает список файлов групп с помощью `get_filenames`.
4.  Создает экземпляр `FacebookPromoter`.
5.  Итерируется по списку файлов событий и обрабатывает каждое событие, вызывая `promoter.process_groups`.

**Вызывает исключения**:

*   `FileNotFoundError`: Если JSON-файл с информацией о мероприятии отсутствует.

### `post_to_my_group`

```python
def post_to_my_group(event):
```

**Назначение**: Отправляет мероприятие в указанные группы Facebook.

**Параметры**:

*   `event`: Данные мероприятия, которые нужно отправить.

**Как работает функция**:

1.  Загружает данные о группах из JSON-файла `my_managed_groups.json`.
2.  Инициализирует веб-драйвер Chrome.
3.  Итерируется по группам и отправляет мероприятие в каждую группу, используя функцию `post_event`.

### `__main__`

```python
if __name__ == "__main__":
    event = j_loads_ns(gs.path.google_drive / 'aliexpress' / 'events'  / 'sep_11_2024_over60_pricedown' / 'sep_11_2024_over60_pricedown.json')
    #post_to_my_group(event)
    post_events()
    # Дополнительная обработка или логика, если потребуется
```

**Назначение**: Точка входа для запуска скрипта.

**Как работает функция**:

1.  Загружает данные о мероприятии из JSON-файла.
2.  Вызывает функцию `post_events` для обработки и отправки мероприятий на Facebook.

## Использование

Для использования этого скрипта необходимо:

1.  Настроить пути к файлам JSON с данными о группах и мероприятиях.
2.  Обеспечить наличие всех необходимых зависимостей, включая веб-драйвер Chrome и библиотеку `src`.
3.  Запустить скрипт, чтобы начать процесс отправки мероприятий в группы Facebook.