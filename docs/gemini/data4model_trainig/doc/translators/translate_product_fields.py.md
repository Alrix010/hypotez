# Модуль `translate_product_fields`

## Обзор

Модуль `translate_product_fields` предназначен для управления переводами полей товара PrestaShop. Он обеспечивает связь между словарем полей товара, таблицей переводов и переводчиками.

## Подробней

Модуль предоставляет функции для получения переводов из базы данных PrestaShop, вставки новых переводов, а также для перевода полей товара с использованием внешних сервисов.

## Функции

### `get_translations_from_presta_translations_table`

```python
def get_translations_from_presta_translations_table(product_reference: str, credentials: dict, i18n: str = None) -> list:
    """Функция возвращает словарь переводов полей товара."""
    ...
```

**Назначение**: Возвращает список переводов полей товара из таблицы переводов PrestaShop.

**Параметры**:
- `product_reference` (str): Артикул товара.
- `credentials` (dict): Параметры подключения к базе данных переводов PrestaShop.
- `i18n` (str, optional): Локаль (например, `'en_EN'`, `'he_HE'`, `'ru-RU'`). Defaults to None.

**Возвращает**:
- `list`: Список переводов полей товара.

**Как работает функция**:

1.  Использует класс `ProductTranslationsManager` для выполнения запроса к базе данных с использованием предоставленных учетных данных.
2.  Возвращает список найденных переводов.

### `insert_new_translation_to_presta_translations_table`

```python
def insert_new_translation_to_presta_translations_table(record, credentials):
    ...
```

**Назначение**: Вставляет новую запись перевода в таблицу переводов PrestaShop.

**Параметры**:
- `record` (dict): Запись для вставки.
- `credentials` (dict): Параметры подключения к базе данных переводов PrestaShop.

**Как работает функция**:

1.  Использует класс `ProductTranslationsManager` для вставки новой записи в таблицу переводов с использованием предоставленных учетных данных.

### `translate_record`

```python
def translate_record(record: dict, from_locale: str, to_locale: str) -> dict:
    """Функция для перевода полей товара."""
    ...
```

**Назначение**: Переводит поля товара с использованием внешнего сервиса перевода.

**Параметры**:
- `record` (dict): Запись для перевода.
- `from_locale` (str): Локаль исходного языка.
- `to_locale` (str): Локаль целевого языка.

**Возвращает**:
- `dict`: Переведенная запись.

**Как работает функция**:

1.  Использует функцию `translate` из модуля `src.llm` для перевода полей товара.
2.  Добавляет обработку переведенной записи (реализация не показана в предоставленном коде).