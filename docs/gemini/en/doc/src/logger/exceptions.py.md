# Модуль src.logger.exceptions

## Обзор

Модуль определяет пользовательские исключения, используемые в приложении.

Подробное описание. Содержит несколько пользовательских классов исключений для обработки ошибок, связанных с различными компонентами приложения, включая файловые операции, поля товаров, подключения к базам данных KeePass и ошибки веб-служб PrestaShop.

## Подробнее

В этом модуле определены пользовательские исключения для обработки различных ошибок, возникающих в приложении. Это позволяет более эффективно управлять исключительными ситуациями и предоставляет подробную информацию для отладки и обработки ошибок. Этот код используется для обеспечения стабильности и надежности работы приложения путем обработки потенциальных проблем.

## Классы

### `CustomException`

**Описание**: Базовый класс пользовательских исключений.

Этот класс является базовым для всех пользовательских исключений в приложении. Он обрабатывает логирование исключения и предоставляет механизм для работы с исходным исключением, если оно существует.

**Наследует**:

- `Exception`: Стандартный класс исключений Python.

**Атрибуты**:

- `original_exception` (Optional[Exception]): Исходное исключение, вызвавшее данное пользовательское исключение, если таковое имеется.
- `exc_info` (bool): Флаг, указывающий, следует ли логировать информацию об исключении.

**Методы**:

- `__init__(self, message: str, e: Optional[Exception] = None, exc_info: bool = True)`: Инициализирует `CustomException` с сообщением и необязательным исходным исключением.
- `handle_exception(self)`: Обрабатывает исключение, логируя ошибку и исходное исключение, если оно доступно.

#### `__init__`

```python
def __init__(self, message: str, e: Optional[Exception] = None, exc_info: bool = True):
    """Инициализирует CustomException с сообщением и необязательным исходным исключением."""
```

**Параметры**:

- `message` (str): Сообщение об ошибке.
- `e` (Optional[Exception], optional): Исходное исключение, вызвавшее данное исключение. По умолчанию `None`.
- `exc_info` (bool, optional): Флаг, указывающий, следует ли включать информацию об исключении в лог. По умолчанию `True`.

**Пример**:

```python
try:
    raise ValueError("Неверное значение")
except ValueError as ex:
    custom_exception = CustomException("Произошла ошибка", ex)
```

#### `handle_exception`

```python
def handle_exception(self):
    """Обрабатывает исключение, логируя ошибку и исходное исключение, если оно доступно."""
```

**Как работает**:

- Вызывает `logger.error` для записи сообщения об исключении.
- Если присутствует исходное исключение (`self.original_exception`), вызывает `logger.debug` для записи информации об исходном исключении.

**Пример**:

```python
try:
    raise ValueError("Неверное значение")
except ValueError as ex:
    custom_exception = CustomException("Произошла ошибка", ex)
    custom_exception.handle_exception()
```

### `FileNotFoundError`

**Описание**: Исключение, возникающее, когда файл не найден.

**Наследует**:

- `CustomException`: Базовый класс пользовательских исключений.
- `IOError`: Класс исключений для ошибок ввода-вывода.

### `ProductFieldException`

**Описание**: Исключение, возникающее при ошибках, связанных с полями товара.

**Наследует**:

- `CustomException`: Базовый класс пользовательских исключений.

### `KeePassException`

**Описание**: Исключение, возникающее при проблемах с подключением к базе данных KeePass.

**Наследует**:

- `CredentialsError`: Исключение, возникающее при ошибке аутентификации.
- `BinaryError`: Исключение, возникающее при бинарной ошибке.
- `HeaderChecksumError`: Исключение, возникающее при ошибке контрольной суммы заголовка.
- `PayloadChecksumError`: Исключение, возникающее при ошибке контрольной суммы полезной нагрузки.
- `UnableToSendToRecycleBin`: Исключение, возникающее, когда не удается отправить в корзину.

### `DefaultSettingsException`

**Описание**: Исключение, возникающее при проблемах с настройками по умолчанию.

**Наследует**:

- `CustomException`: Базовый класс пользовательских исключений.

### `WebDriverException`

**Описание**: Исключение, возникающее при проблемах, связанных с WebDriver.

**Наследует**:

- `WDriverException`: Исключение, возникающее при ошибках, связанных с WebDriver.

### `ExecuteLocatorException`

**Описание**: Исключение, возникающее при ошибках, связанных с исполнителями локаторов.

**Наследует**:

- `CustomException`: Базовый класс пользовательских исключений.

### `PrestaShopException`

**Описание**: Общее исключение для ошибок веб-служб PrestaShop.

Этот класс используется для обработки ошибок, возникающих при взаимодействии с веб-службой PrestaShop.

**Атрибуты**:

- `msg` (str): Пользовательское сообщение об ошибке.
- `error_code` (Optional[int]): Код ошибки, возвращенный PrestaShop.
- `ps_error_msg` (str): Сообщение об ошибке от PrestaShop.
- `ps_error_code` (Optional[int]): Код ошибки PrestaShop.

**Методы**:

- `__init__(self, msg: str, error_code: Optional[int] = None, ps_error_msg: str = '', ps_error_code: Optional[int] = None)`: Инициализирует `PrestaShopException` с предоставленным сообщением и деталями ошибки.
- `__str__(self)`: Возвращает строковое представление исключения.

#### `__init__`

```python
def __init__(self, msg: str, error_code: Optional[int] = None, 
             ps_error_msg: str = '', ps_error_code: Optional[int] = None):
    """Инициализирует PrestaShopException с предоставленным сообщением и деталями ошибки."""
```

**Параметры**:

- `msg` (str): Пользовательское сообщение об ошибке.
- `error_code` (Optional[int], optional): Код ошибки. По умолчанию `None`.
- `ps_error_msg` (str, optional): Сообщение об ошибке от PrestaShop. По умолчанию ''.
- `ps_error_code` (Optional[int], optional): Код ошибки PrestaShop. По умолчанию `None`.

**Пример**:

```python
try:
    raise PrestaShopException("Ошибка при подключении к PrestaShop", ps_error_msg="Ошибка аутентификации")
except PrestaShopException as ex:
    print(ex)
```

#### `__str__`

```python
def __str__(self):
    """Возвращает строковое представление исключения."""
```

**Как работает**:

- Возвращает строковое представление исключения, используя `ps_error_msg` или `msg`.

**Пример**:

```python
exception = PrestaShopException("Ошибка", ps_error_msg="Ошибка аутентификации")
print(str(exception))  # Вывод: Ошибка аутентификации
```

### `PrestaShopAuthenticationError`

**Описание**: Исключение, возникающее при ошибках аутентификации PrestaShop (несанкционированный доступ).

**Наследует**:

- `PrestaShopException`: Общее исключение для ошибок веб-служб PrestaShop.