# Документация для модуля `log_time.py`

## Обзор

Модуль содержит функции для измерения времени выполнения других функций и добавления информации о времени выполнения к результату. Включает асинхронную, генераторную и синхронную версии.

## Детали

Этот модуль предоставляет три функции (`log_time_async`, `log_time_yield`, `log_time`), которые позволяют измерять время выполнения переданных методов и добавлять информацию о времени выполнения к результату. Это полезно для профилирования производительности кода.

## Функции

### `log_time_async`

```python
async def log_time_async(method: callable, **kwargs):
    """
    Асинхронно измеряет время выполнения метода и добавляет информацию о времени к результату.

    Args:
        method (callable): Асинхронный метод, время выполнения которого нужно измерить.
        **kwargs: Ключевые аргументы, передаваемые в метод.

    Returns:
        str: Результат выполнения метода с добавленной информацией о времени выполнения.

    Как работает функция:
    - Запоминает текущее время `start`.
    - Вызывает переданный асинхронный `method` с заданными аргументами `kwargs`, ожидая его завершения и сохраняя результат в `result`.
    - Вычисляет время выполнения в секундах, округляя до двух знаков после запятой и форматирует его в строку `secs`.
    - Если `result` не пустой, объединяет `result` и `secs` через пробел и возвращает. Иначе возвращает только `secs`.

    Пример:
        >>> async def my_async_method():
        ...     await asyncio.sleep(1)
        ...     return "Async result"
        >>> async def main():
        ...     result = await log_time_async(my_async_method)
        ...     print(result)
        >>> asyncio.run(main())
        'Async result 1.01 secs'
    """
    ...
```

### `log_time_yield`

```python
def log_time_yield(method: callable, **kwargs):
    """
    Измеряет время выполнения метода-генератора и добавляет информацию о времени к результату.

    Args:
        method (callable): Метод-генератор, время выполнения которого нужно измерить.
        **kwargs: Ключевые аргументы, передаваемые в метод.

    Yields:
        str: Результат выполнения метода с добавленной информацией о времени выполнения.

    Как работает функция:
    - Запоминает текущее время `start`.
    - Вызывает переданный `method` как генератор с заданными аргументами `kwargs`, перехватывая значения через `yield from` и сохраняя результат в `result`.
    - Добавляет к последнему значению, которое возвращает функция, строку с указанием времени выполнения.
    - Вычисляет время выполнения в секундах, округляя до двух знаков после запятой и форматирует его в строку, добавляя пробел в начале.
    - Передает строку с временем выполнения через `yield`.

    Пример:
        >>> def my_generator_method():
        ...     yield "Generator result"
        >>> generator = log_time_yield(my_generator_method)
        >>> for value in generator:
        ...     print(value)
        'Generator result 0.0 secs'
    """
    ...
```

### `log_time`

```python
def log_time(method: callable, **kwargs):
    """
    Измеряет время выполнения метода и добавляет информацию о времени к результату.

    Args:
        method (callable): Метод, время выполнения которого нужно измерить.
        **kwargs: Ключевые аргументы, передаваемые в метод.

    Returns:
        str: Результат выполнения метода с добавленной информацией о времени выполнения.

    Как работает функция:
    - Запоминает текущее время `start`.
    - Вызывает переданный `method` с заданными аргументами `kwargs` и сохраняет результат в `result`.
    - Вычисляет время выполнения в секундах, округляя до двух знаков после запятой и форматирует его в строку `secs`.
    - Если `result` не пустой, объединяет `result` и `secs` через пробел и возвращает. Иначе возвращает только `secs`.

    Пример:
        >>> def my_method():
        ...     return "Method result"
        >>> result = log_time(my_method)
        >>> print(result)
        'Method result 0.0 secs'
    """
    ...