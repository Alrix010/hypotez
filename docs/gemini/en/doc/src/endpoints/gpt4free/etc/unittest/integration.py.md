# Модуль интеграционных тестов для провайдеров g4f

## Обзор

Этот модуль содержит интеграционные тесты для проверки работы различных провайдеров, таких как Copilot и DDG, с использованием библиотеки `g4f`. Он включает как синхронные, так и асинхронные тесты для проверки функциональности `ChatCompletion`.

## Подробнее

Модуль предназначен для автоматизированного тестирования интеграции с различными провайдерами, используемыми в проекте `hypotez`. Тесты проверяют, что ответы от провайдеров соответствуют ожидаемому формату (JSON) и содержат необходимые ключи. Это обеспечивает надежность и стабильность работы с внешними API.

## Классы

### `TestProviderIntegration`

**Описание**: Класс, содержащий интеграционные тесты для синхронного выполнения запросов к провайдерам.

**Наследует**:
- `unittest.TestCase`: Базовый класс для создания тестов.

**Атрибуты**:
- Нет.

**Методы**:

- `test_bing()`: Тест для проверки интеграции с провайдером Copilot.
- `test_openai()`: Тест для проверки интеграции с провайдером DDG.

### `TestChatCompletionAsync`

**Описание**: Класс, содержащий интеграционные тесты для асинхронного выполнения запросов к провайдерам.

**Наследует**:
- `unittest.IsolatedAsyncioTestCase`: Базовый класс для создания асинхронных тестов.

**Атрибуты**:
- Нет.

**Методы**:
- `test_bing()`: Асинхронный тест для проверки интеграции с провайдером Copilot.
- `test_openai()`: Асинхронный тест для проверки интеграции с провайдером DDG.

## Класс `TestProviderIntegration`

### `test_bing`

```python
def test_bing(self):
    """
    Функция тестирует интеграцию с провайдером Copilot.

    Args:
        self: Экземпляр класса `TestProviderIntegration`.

    Returns:
        None

    Raises:
        AssertionError: Если ответ от провайдера не соответствует ожидаемому формату или не содержит ключ "success".

    Как работает функция:
    - Создает экземпляр клиента `g4f.Client` с провайдером `Copilot`.
    - Выполняет запрос `chat.completions.create` с заданными параметрами (сообщения, формат ответа).
    - Проверяет, что полученный ответ является экземпляром класса `ChatCompletion`.
    - Проверяет, что ответ содержит ключ "success" после преобразования в JSON.

    Примеры:
        >>> test = TestProviderIntegration()
        >>> test.test_bing()
    """
    ...
```

### `test_openai`

```python
def test_openai(self):
    """
    Функция тестирует интеграцию с провайдером DDG.

    Args:
        self: Экземпляр класса `TestProviderIntegration`.

    Returns:
        None

    Raises:
        AssertionError: Если ответ от провайдера не соответствует ожидаемому формату или не содержит ключ "success".

    Как работает функция:
    - Создает экземпляр клиента `g4f.Client` с провайдером `DDG`.
    - Выполняет запрос `chat.completions.create` с заданными параметрами (сообщения, формат ответа).
    - Проверяет, что полученный ответ является экземпляром класса `ChatCompletion`.
    - Проверяет, что ответ содержит ключ "success" после преобразования в JSON.

    Примеры:
        >>> test = TestProviderIntegration()
        >>> test.test_openai()
    """
    ...
```

## Класс `TestChatCompletionAsync`

### `test_bing`

```python
async def test_bing(self):
    """
    Асинхронная функция тестирует интеграцию с провайдером Copilot.

    Args:
        self: Экземпляр класса `TestChatCompletionAsync`.

    Returns:
        None

    Raises:
        AssertionError: Если ответ от провайдера не соответствует ожидаемому формату или не содержит ключ "success".

    Как работает функция:
    - Создает экземпляр асинхронного клиента `g4f.AsyncClient` с провайдером `Copilot`.
    - Выполняет асинхронный запрос `chat.completions.create` с заданными параметрами (сообщения, формат ответа).
    - Проверяет, что полученный ответ является экземпляром класса `ChatCompletion`.
    - Проверяет, что ответ содержит ключ "success" после преобразования в JSON.

    Примеры:
        >>> import asyncio
        >>> test = TestChatCompletionAsync()
        >>> asyncio.run(test.test_bing())
    """
    ...
```

### `test_openai`

```python
async def test_openai(self):
    """
    Асинхронная функция тестирует интеграцию с провайдером DDG.

    Args:
        self: Экземпляр класса `TestChatCompletionAsync`.

    Returns:
        None

    Raises:
        AssertionError: Если ответ от провайдера не соответствует ожидаемому формату или не содержит ключ "success".

    Как работает функция:
    - Создает экземпляр асинхронного клиента `g4f.AsyncClient` с провайдером `DDG`.
    - Выполняет асинхронный запрос `chat.completions.create` с заданными параметрами (сообщения, формат ответа).
    - Проверяет, что полученный ответ является экземпляром класса `ChatCompletion`.
    - Проверяет, что ответ содержит ключ "success" после преобразования в JSON.

    Примеры:
        >>> import asyncio
        >>> test = TestChatCompletionAsync()
        >>> asyncio.run(test.test_openai())
    """
    ...
```

## Общие переменные

- `DEFAULT_MESSAGES`: Список сообщений, используемых по умолчанию для запросов к провайдерам. Содержит системное сообщение с указанием формата ответа (JSON) и пользовательское сообщение с запросом на подтверждение успеха.