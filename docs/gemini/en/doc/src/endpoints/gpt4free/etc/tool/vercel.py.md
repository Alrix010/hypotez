# Модуль Vercel
## Обзор

Данный модуль содержит функции для получения информации о моделях и конфигурации Vercel.

## Детали

Модуль извлекает информацию о моделях и конфигурации Vercel, используя библиотеку `requests` для загрузки HTML-кода с сайта Vercel, а затем парсит его с помощью регулярных выражений. Он анализирует скрипты, чтобы извлечь доступные модели, их идентификаторы и параметры.

## Классы

### `None` 

**Описание**: В этом модуле нет классов.

## Функции

### `get_model_info`

**Цель**: Извлечение информации о доступных моделях из Vercel.

**Параметры**: Нет

**Возвращает**: 
- `dict[str, Any]`: Словарь с информацией о моделях, содержащий имена моделей, идентификаторы, параметры и другую информацию.

**Исключения**: Нет

**Пример**: 

```python
>>> model_info = get_model_info()
>>> print(model_info)
```

**Как работает функция**: 
1. Извлекает HTML-код с сайта Vercel.
2. Использует регулярные выражения для поиска скриптов, содержащих информацию о моделях.
3. Парсит скрипты с помощью библиотеки `quickjs` для получения JSON-данных, содержащих информацию о моделях.
4. Преобразует JSON-данные в словарь.

### `convert_model_info`

**Цель**: Преобразование информации о модели в удобный формат.

**Параметры**:
- `models (dict[str, Any])`: Словарь с информацией о моделях, полученный из `get_model_info`.

**Возвращает**:
- `dict[str, Any]`: Преобразованный словарь с информацией о моделях.

**Исключения**: Нет

**Пример**: 

```python
>>> model_info = get_model_info()
>>> converted_model_info = convert_model_info(model_info)
>>> print(converted_model_info)
```

**Как работает функция**: 
1. Перебирает все модели в словаре `models`.
2. Извлекает идентификатор модели и ее параметры.
3. Преобразует параметры в формат, удобный для использования.
4. Возвращает новый словарь с преобразованной информацией о моделях.

### `params_to_default_params`

**Цель**: Преобразование параметров модели в формат, удобный для использования.

**Параметры**:
- `parameters (dict[str, Any])`: Словарь с параметрами модели.

**Возвращает**:
- `dict[str, Any]`: Словарь с преобразованными параметрами модели.

**Исключения**: Нет

**Пример**: 

```python
>>> parameters = {"maximumLength": {"value": 4096}, "temperature": {"value": 0.7}}
>>> default_params = params_to_default_params(parameters)
>>> print(default_params)
```

**Как работает функция**: 
1. Перебирает все параметры в словаре `parameters`.
2. Преобразует ключ `maximumLength` в `maxTokens`.
3. Извлекает значение каждого параметра.
4. Возвращает новый словарь с преобразованными параметрами.

### `get_model_names`

**Цель**: Извлечение имен моделей из словаря с информацией о моделях.

**Параметры**:
- `model_info (dict[str, Any])`: Словарь с информацией о моделях.

**Возвращает**:
- `list[str]`: Список имен моделей.

**Исключения**: Нет

**Пример**: 

```python
>>> model_info = get_model_info()
>>> model_names = get_model_names(model_info)
>>> print(model_names)
```

**Как работает функция**: 
1. Извлекает ключи из словаря `model_info`, которые представляют имена моделей.
2. Фильтрует список имен моделей, чтобы исключить модели OpenAI GPT-4 и GPT-3.5.
3. Сортирует список имен моделей по алфавиту.
4. Возвращает отфильтрованный и отсортированный список имен моделей.

### `print_providers`

**Цель**: Вывод кода для определения моделей в виде переменных Python.

**Параметры**:
- `model_names (list[str])`: Список имен моделей.

**Возвращает**: Нет

**Исключения**: Нет

**Пример**: 

```python
>>> model_names = ["google/flan-t5-xl", "google/flan-t5-xxl", "google/flan-ul2"]
>>> print_providers(model_names)
```

**Как работает функция**: 
1. Перебирает список `model_names`.
2. Разделяет имя модели на части, чтобы получить базовый провайдер (например, "google" для "google/flan-t5-xl").
3. Создает строку кода для определения модели в виде переменной Python.
4. Выводит строку кода на консоль.

### `print_convert`

**Цель**: Вывод кода для преобразования имен моделей в словаре.

**Параметры**:
- `model_names (list[str])`: Список имен моделей.

**Возвращает**: Нет

**Исключения**: Нет

**Пример**: 

```python
>>> model_names = ["google/flan-t5-xl", "google/flan-t5-xxl", "google/flan-ul2"]
>>> print_convert(model_names)
```

**Как работает функция**: 
1. Перебирает список `model_names`.
2. Разделяет имя модели на части, чтобы получить ключ модели (например, "flan-t5-xl" для "google/flan-t5-xl").
3. Создает строку кода для преобразования имени модели в ключ словаря.
4. Выводит строку кода на консоль.

### `main`

**Цель**: Основная функция, которая запускает выполнение программы.

**Параметры**: Нет

**Возвращает**: Нет

**Исключения**: Нет

**Пример**: 

```python
>>> main()
```

**Как работает функция**: 
1. Вызывает функцию `get_model_info` для получения информации о моделях.
2. Преобразует полученную информацию о моделях с помощью функции `convert_model_info`.
3. Выводит преобразованную информацию о моделях в формате JSON.
4. Извлекает список имен моделей с помощью функции `get_model_names`.
5. Выводит код для определения моделей в виде переменных Python с помощью функции `print_providers`.
6. Выводит код для преобразования имен моделей в словаре с помощью функции `print_convert`.

## Parameter Details

- `model_info (dict[str, Any])`: Словарь с информацией о моделях.
- `models (dict[str, Any])`: Словарь с информацией о моделях, полученный из `get_model_info`.
- `parameters (dict[str, Any])`: Словарь с параметрами модели.
- `model_names (list[str])`: Список имен моделей.
- `name (str)`: Имя модели.
- `base_provider (str)`: Базовый провайдер модели (например, "google" для "google/flan-t5-xl").
- `key (str)`: Ключ модели (например, "flan-t5-xl" для "google/flan-t5-xl").
- `variable_name (str)`: Имя переменной модели, полученное из имени модели.
- `url (str)`: URL-адрес сайта Vercel.
- `paths (list[str])`: Список путей к скриптам, содержащим информацию о моделях.
- `urls (list[str])`: Список URL-адресов скриптов, содержащих информацию о моделях.
- `scripts (list[str])`: Список текстов скриптов, содержащих информацию о моделях.
- `models_str (str)`: Строка, содержащая JSON-данные с информацией о моделях.
- `stop_sequences_regex (str)`: Регулярное выражение для удаления ненужных символов из строки `models_str`.
- `json_str (str)`: Строка, содержащая JSON-данные с информацией о моделях, преобразованная из строки `models_str`.
- `default_params (dict[str, Any])`: Словарь с преобразованными параметрами модели.


## Examples

```python
>>> model_info = get_model_info()
>>> print(model_info)
>>> converted_model_info = convert_model_info(model_info)
>>> print(converted_model_info)
>>> model_names = get_model_names(model_info)
>>> print_providers(model_names)
>>> print_convert(model_names)