# Модуль для работы с Vercel API

## Обзор

Модуль предназначен для получения информации о моделях, поддерживаемых Vercel AI, и преобразования этой информации в удобный формат. Он также включает функции для генерации кода, необходимого для интеграции этих моделей в другие части проекта.

## Детальное описание

Модуль используется для автоматического получения списка моделей, доступных в Vercel AI, и их параметров. Полученные данные преобразуются в формат, удобный для использования в коде, а также генерируются фрагменты кода для упрощения интеграции моделей. Это позволяет автоматически обновлять информацию о поддерживаемых моделях и избегать ручного ввода данных.

## Функции

### `get_model_info`

**Назначение**: Извлекает информацию о моделях из API Vercel AI.

```python
def get_model_info() -> dict[str, Any]:
    """
    Извлекает информацию о моделях из API Vercel AI.

    Returns:
        dict[str, Any]: Словарь, содержащий информацию о моделях.
    """
```

**Как работает**:
1.  Выполняет GET-запрос к `https://sdk.vercel.ai`.
2.  Извлекает пути к JavaScript файлам, содержащим информацию о моделях.
3.  Извлекает содержимое этих файлов.
4.  Использует регулярные выражения для поиска строк, содержащих информацию о моделях.
5.  Преобразует найденные строки в JSON и возвращает их.

**Примеры**:

```python
model_info = get_model_info()
print(model_info)
```

### `convert_model_info`

**Назначение**: Преобразует информацию о моделях в более удобный формат.

```python
def convert_model_info(models: dict[str, Any]) -> dict[str, Any]:
    """
    Преобразует информацию о моделях в более удобный формат.

    Args:
        models (dict[str, Any]): Словарь с информацией о моделях.

    Returns:
        dict[str, Any]: Словарь с преобразованной информацией о моделях.
    """
```

**Как работает**:
1.  Итерируется по моделям в словаре `models`.
2.  Извлекает параметры каждой модели и преобразует их в формат `default_params`.
3.  Создает новый словарь с идентификаторами моделей и их параметрами по умолчанию.

**Примеры**:

```python
models = {
    "model1": {"id": "id1", "parameters": {"param1": {"value": "value1"}}},
    "model2": {"id": "id2", "parameters": {"param2": {"value": "value2"}}},
}
converted_models = convert_model_info(models)
print(converted_models)
```

### `params_to_default_params`

**Назначение**: Преобразует параметры модели в параметры по умолчанию.

```python
def params_to_default_params(parameters: dict[str, Any]):
    """
    Преобразует параметры модели в параметры по умолчанию.

    Args:
        parameters (dict[str, Any]): Словарь с параметрами модели.

    Returns:
        dict[str, Any]: Словарь с параметрами по умолчанию.
    """
```

**Как работает**:
1.  Итерируется по параметрам в словаре `parameters`.
2.  Если ключ параметра равен `"maximumLength"`, заменяет его на `"maxTokens"`.
3.  Извлекает значение параметра из ключа `"value"` и добавляет его в словарь `defaults`.

**Примеры**:

```python
parameters = {"maximumLength": {"value": 100}, "param2": {"value": "value2"}}
default_params = params_to_default_params(parameters)
print(default_params)
```

### `get_model_names`

**Назначение**: Извлекает имена моделей из информации о моделях.

```python
def get_model_names(model_info: dict[str, Any]):
    """
    Извлекает имена моделей из информации о моделях.

    Args:
        model_info (dict[str, Any]): Словарь с информацией о моделях.

    Returns:
        list[str]: Список имен моделей.
    """
```

**Как работает**:
1.  Извлекает ключи (имена моделей) из словаря `model_info`.
2.  Исключает модели `"openai:gpt-4"` и `"openai:gpt-3.5-turbo"` из списка.
3.  Сортирует список имен моделей.

**Примеры**:

```python
model_info = {"model1": {"id": "id1"}, "openai:gpt-4": {"id": "id2"}, "model2": {"id": "id3"}}
model_names = get_model_names(model_info)
print(model_names)
```

### `print_providers`

**Назначение**: Генерирует код для определения провайдеров моделей.

```python
def print_providers(model_names: list[str]):
    """
    Генерирует код для определения провайдеров моделей.

    Args:
        model_names (list[str]): Список имен моделей.
    """
```

**Как работает**:
1.  Итерируется по именам моделей в списке `model_names`.
2.  Разделяет имя модели на части, используя разделители `":"` и `"/"`.
3.  Извлекает базового провайдера и имя переменной из имени модели.
4.  Генерирует строку кода, определяющую модель с использованием класса `Model`.
5.  Выводит сгенерированную строку кода.

**Примеры**:

```python
model_names = ["provider1:model-name-1", "provider2:model.name.2"]
print_providers(model_names)
```

### `print_convert`

**Назначение**: Генерирует код для преобразования имен моделей в переменные.

```python
def print_convert(model_names: list[str]):
    """
    Генерирует код для преобразования имен моделей в переменные.

    Args:
        model_names (list[str]): Список имен моделей.
    """
```

**Как работает**:
1.  Итерируется по именам моделей в списке `model_names`.
2.  Разделяет имя модели на части, используя разделители `":"` и `"/"`.
3.  Извлекает ключ и имя переменной из имени модели.
4.  Генерирует строку кода, преобразующую имя модели в переменную.
5.  Выводит сгенерированную строку кода.

**Примеры**:

```python
model_names = ["provider1:model-name-1", "provider2:model.name.2"]
print_convert(model_names)
```

### `main`

**Назначение**: Основная функция, выполняющая получение, преобразование и вывод информации о моделях.

```python
def main():
    """
    Основная функция, выполняющая получение, преобразование и вывод информации о моделях.
    """
```

**Как работает**:
1.  Вызывает функцию `get_model_info` для получения информации о моделях.
2.  Вызывает функцию `convert_model_info` для преобразования информации о моделях.
3.  Выводит преобразованную информацию о моделях в формате JSON.
4.  Вызывает функцию `get_model_names` для получения списка имен моделей.
5.  Вызывает функции `print_providers` и `print_convert` для генерации кода.

**Примеры**:

```python
main()