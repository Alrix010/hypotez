# Модуль `Equing.py`

## Обзор

Модуль предоставляет класс `Equing`, который является устаревшим провайдером для работы с API `next.eqing.tech`. Он позволяет создавать запросы на генерацию текста и получать ответы в потоковом или не потоковом режиме.

## Подробнее

Модуль `Equing.py` предназначен для взаимодействия с API `next.eqing.tech`. В настоящее время помечен как deprecated. Модуль поддерживает потоковую передачу данных и модель `gpt-3.5-turbo`, но не поддерживает `gpt-4`.

## Классы

### `Equing`

**Описание**: Класс `Equing` предоставляет методы для взаимодействия с API `next.eqing.tech`. Он позволяет отправлять запросы на создание текста и получать результаты.

**Наследует**:
- `AbstractProvider`: Абстрактный базовый класс для провайдеров.

**Атрибуты**:
- `url` (str): URL API `next.eqing.tech`.
- `working` (bool): Указывает, работает ли провайдер в данный момент.
- `supports_stream` (bool): Указывает, поддерживает ли провайдер потоковую передачу данных.
- `supports_gpt_35_turbo` (bool): Указывает, поддерживает ли провайдер модель `gpt-3.5-turbo`.
- `supports_gpt_4` (bool): Указывает, поддерживает ли провайдер модель `gpt-4`.

**Принцип работы**:
Класс `Equing` использует библиотеку `requests` для отправки HTTP-запросов к API `next.eqing.tech`. Метод `create_completion` формирует запрос с необходимыми заголовками и данными, а затем отправляет его на сервер. Полученный ответ обрабатывается в зависимости от того, включен ли режим потоковой передачи данных.

## Методы класса

### `create_completion`

```python
    @staticmethod
    @abstractmethod
    def create_completion(
        model: str,
        messages: list[dict[str, str]],
        stream: bool, **kwargs: Any) -> CreateResult:
        """
        Функция отправляет запрос к API `next.eqing.tech` для создания текста.

        Args:
            model (str): Идентификатор модели, используемой для генерации текста.
            messages (list[dict[str, str]]): Список сообщений, представляющих контекст для генерации текста.
            stream (bool): Указывает, следует ли использовать потоковый режим передачи данных.
            **kwargs (Any): Дополнительные параметры запроса.

        Returns:
            CreateResult: Результат создания текста.

        Как работает функция:
        - Функция формирует заголовки HTTP-запроса.
        - Функция формирует тело запроса в формате JSON.
        - Функция отправляет POST-запрос к API `next.eqing.tech`.
        - Если `stream` равен `False`, функция возвращает сгенерированный текст из JSON-ответа.
        - Если `stream` равен `True`, функция итерируется по содержимому ответа и извлекает токены из JSON-строк.
        - Функция возвращает токены сгенерированного текста.
        """
        ...
```

**Параметры**:
- `model` (str): Идентификатор модели, используемой для генерации текста.
- `messages` (list[dict[str, str]]): Список сообщений, представляющих контекст для генерации текста.
- `stream` (bool): Указывает, следует ли использовать потоковый режим передачи данных.
- `**kwargs` (Any): Дополнительные параметры запроса.

**Примеры**:

Пример вызова функции `create_completion` в потоковом режиме:

```python
model = "gpt-3.5-turbo"
messages = [{"role": "user", "content": "Привет, как дела?"}]
stream = True
kwargs = {"temperature": 0.7}

result = Equing.create_completion(model, messages, stream, **kwargs)
for token in result:
    print(token, end="")
```

Пример вызова функции `create_completion` в не потоковом режиме:

```python
model = "gpt-3.5-turbo"
messages = [{"role": "user", "content": "Привет, как дела?"}]
stream = False
kwargs = {"temperature": 0.7}

result = Equing.create_completion(model, messages, stream, **kwargs)
print(next(result))
```