# Модуль для обработки изображений
## Обзор

Модуль `image.py` предоставляет набор функций и классов для обработки изображений, включая преобразование в PIL Image объекты, проверку форматов, получение ориентации, изменение размера, а также работу с Data URI.

##  Содержание
- [Классы](#Классы)
  - [ImageDataResponse](#ImageDataResponse)
  - [ImageRequest](#ImageRequest)
- [Функции](#Функции)
  - [to_image](#to_image)
  - [is_allowed_extension](#is_allowed_extension)
  - [is_data_uri_an_image](#is_data_uri_an_image)
  - [is_accepted_format](#is_accepted_format)
  - [extract_data_uri](#extract_data_uri)
  - [get_orientation](#get_orientation)
  - [process_image](#process_image)
  - [to_bytes](#to_bytes)
  - [to_data_uri](#to_data_uri)
  

## Классы
### `ImageDataResponse`

**Описание**:  Класс для представления ответа с изображениями.

**Атрибуты**:
- `images` (Union[str, list]): Путь к изображению или список путей к изображениям.
- `alt` (str): Альтернативный текст для изображения.

**Методы**:
- `get_list() -> list[str]`: Возвращает список путей к изображениям.


### `ImageRequest`

**Описание**: Класс для представления запроса на обработку изображения.

**Атрибуты**:
- `options` (dict): Словарь с опциями для обработки изображения.

**Методы**:
- `get(key: str)`: Возвращает значение опции по ключу.


## Функции
### `to_image`

**Описание**:  Преобразует изображение в PIL Image объект.

**Аргументы**:
- `image` (Union[str, bytes, Image]):  Изображение для преобразования. Может быть строкой (путь к файлу), байтовым массивом или объектом PIL Image.

**Возвращает**:
- `Image`:  Преобразованный объект PIL Image.

**Исключения**:
- `MissingRequirementsError`: Возникает, если не установлен пакет `pillow`.

**Пример**:
```python
from hypotez.src.endpoints.gpt4free.g4f.image import to_image

# Преобразование изображения из файла
image = to_image("image.jpg") 

# Преобразование изображения из байтового массива
image_bytes = b'...'  # Байтовый массив изображения
image = to_image(image_bytes) 

# Преобразование изображения из объекта PIL Image
pil_image = ...  # Объект PIL Image
image = to_image(pil_image)
```

### `is_allowed_extension`

**Описание**:  Проверяет, имеет ли заданное имя файла допустимое расширение.

**Аргументы**:
- `filename` (str): Имя файла для проверки.

**Возвращает**:
- `bool`:  `True`, если расширение допустимо, `False` в противном случае.


### `is_data_uri_an_image`

**Описание**:  Проверяет, представляет ли заданный Data URI изображение.

**Аргументы**:
- `data_uri` (str): Data URI для проверки.

**Исключения**:
- `ValueError`: Возникает, если Data URI некорректен или формат изображения не допускается.

**Пример**:
```python
from hypotez.src.endpoints.gpt4free.g4f.image import is_data_uri_an_image

data_uri = "data:image/png;base64,..." # Data URI изображения
is_data_uri_an_image(data_uri)
```


### `is_accepted_format`

**Описание**:  Проверяет, представляет ли заданный двоичный массив изображение с допустимым форматом.

**Аргументы**:
- `binary_data` (bytes): Двоичный массив для проверки.

**Исключения**:
- `ValueError`: Возникает, если формат изображения не допускается.


### `extract_data_uri`

**Описание**: Извлекает двоичные данные из заданного Data URI.

**Аргументы**:
- `data_uri` (str): Data URI.

**Возвращает**:
- `bytes`:  Извлеченные двоичные данные.


### `get_orientation`

**Описание**: Получает ориентацию изображения.

**Аргументы**:
- `image` (Image):  Изображение.

**Возвращает**:
- `int`:  Значение ориентации.


### `process_image`

**Описание**: Обрабатывает изображение, корректируя ориентацию и изменяя размер.

**Аргументы**:
- `image` (Image):  Изображение для обработки.
- `new_width` (int):  Новая ширина изображения.
- `new_height` (int): Новая высота изображения.

**Возвращает**:
- `Image`:  Обработанное изображение.


### `to_bytes`

**Описание**:  Преобразует изображение в байтовый массив.

**Аргументы**:
- `image` (ImageType):  Изображение для преобразования.

**Возвращает**:
- `bytes`:  Изображение в виде байтового массива.


### `to_data_uri`

**Описание**:  Преобразует изображение в Data URI.

**Аргументы**:
- `image` (ImageType):  Изображение для преобразования.

**Возвращает**:
- `str`:  Data URI изображения.