# Модуль для обработки кода с помощью gpt4free

## Обзор

Модуль `helper` предоставляет набор функций для обработки текста и кода, используемых в проекте `hypotez` для взаимодействия с GPT-4Free API.

## Детали

В модуле `helper` реализованы функции для парсинга кода из Markdown, JSON, а также функции для работы со списками и обработки асинхронных генераторов. Эти функции оптимизируют процесс обработки данных, необходимых для взаимодействия с GPT-4Free API.

## Функции

### `filter_markdown`

**Описание**: Эта функция извлекает код из Markdown-текста.

**Параметры**:

- `text` (str): Строка, содержащая код в формате Markdown.

**Возвращает**:

- str: Извлеченный код из Markdown-текста.

**Примеры**:

```python
>>> text = "```python\nprint('Hello, world!')\n```"
>>> filter_markdown(text)
"print('Hello, world!')"
```

### `filter_json`

**Описание**: Эта функция извлекает JSON-код из Markdown-текста.

**Параметры**:

- `text` (str): Строка, содержащая JSON-код в формате Markdown.

**Возвращает**:

- str: Извлеченный JSON-код из Markdown-текста.

**Примеры**:

```python
>>> text = "```json\n{\"name\": \"Alice\", \"age\": 30}\n```"
>>> filter_json(text)
"{\"name\": \"Alice\", \"age\": 30}"
```

### `find_stop`

**Описание**: Эта функция ищет в тексте определенные слова и обрезает текст до первого найденного слова.

**Параметры**:

- `stop` (Optional[list[str]]): Список слов, которые нужно найти в тексте.
- `content` (str): Строка, в которой нужно найти слова.
- `chunk` (str): Дополнительная строка, в которой также нужно найти слова.

**Возвращает**:

- tuple: Кортеж, содержащий индекс первого найденного слова, обрезанный текст и обрезанный дополнительный текст.

**Примеры**:

```python
>>> content = "This is a sample text. Stop here."
>>> stop = ["Stop"]
>>> find_stop(stop, content)
(17, 'This is a sample text.', 'Stop here.')
```

### `filter_none`

**Описание**: Эта функция создает словарь, удаляя из исходного словаря ключи, значения которых равны `None`.

**Параметры**:

- `**kwargs`: Ключ-значение пары, из которых создается словарь.

**Возвращает**:

- dict: Словарь без ключей, значения которых равны `None`.

**Примеры**:

```python
>>> filter_none(a=1, b=None, c=2)
{'a': 1, 'c': 2}
```

### `safe_aclose`

**Описание**: Эта функция асинхронно закрывает асинхронный генератор.

**Параметры**:

- `generator` (AsyncGenerator): Асинхронный генератор, который нужно закрыть.

**Возвращает**:

- None: Не возвращает значение.

**Примеры**:

```python
>>> async def my_generator():
...     yield 1
...     yield 2
...     yield 3
>>> async def main():
...     generator = my_generator()
...     async for item in generator:
...         print(item)
...     await safe_aclose(generator)
>>> asyncio.run(main())
1
2
3
```