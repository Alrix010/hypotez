# Модуль stubs.py

## Обзор

Этот модуль содержит определения моделей данных, используемых для конфигурации и ответов API g4f (GPT4Free). Он включает классы для конфигурации завершения чата, генерации изображений, ответов провайдеров, моделей и ошибок.

## Детали

Этот модуль определяет структуры данных, используемые для взаимодействия с API g4f. Он включает классы для представления конфигураций запросов, ответов API и ошибок. Модуль использует библиотеку pydantic для определения схем данных и проверки типов.

## Классы

### `ChatCompletionsConfig`

**Описание**: Класс конфигурации для запросов завершения чата.
**Наследует**: `pydantic.BaseModel`

**Атрибуты**:
- `messages` (Messages): Список сообщений для чата. Пример: `[[{"role": "system", "content": ""}, {"role": "user", "content": ""}]]`.
- `model` (str): Имя модели для использования. По умолчанию "".
- `provider` (Optional[str]): Провайдер модели. По умолчанию `None`.
- `stream` (bool): Определяет, использовать ли потоковую передачу. По умолчанию `False`.
- `image` (Optional[str]): URL изображения. По умолчанию `None`.
- `image_name` (Optional[str]): Имя изображения. По умолчанию `None`.
- `images` (Optional[list[tuple[str, str]]]): Список изображений в формате (URL, имя). По умолчанию `None`.
- `media` (Optional[list[tuple[str, str]]]): Список медиафайлов в формате (URL, имя). По умолчанию `None`.
- `modalities` (Optional[list[str]]): Список модальностей (например, "text", "audio"). По умолчанию `["text", "audio"]`.
- `temperature` (Optional[float]): Температура для генерации. По умолчанию `None`.
- `presence_penalty` (Optional[float]): Штраф за присутствие. По умолчанию `None`.
- `frequency_penalty` (Optional[float]): Штраф за частоту. По умолчанию `None`.
- `top_p` (Optional[float]): Top-p значение. По умолчанию `None`.
- `max_tokens` (Optional[int]): Максимальное количество токенов. По умолчанию `None`.
- `stop` (Union[list[str], str, None]): Условия остановки генерации. По умолчанию `None`.
- `api_key` (Optional[str]): Ключ API. По умолчанию `None`.
- `api_base` (str): Базовый URL API. По умолчанию `None`.
- `web_search` (Optional[bool]): Определяет, использовать ли веб-поиск. По умолчанию `None`.
- `proxy` (Optional[str]): URL прокси-сервера. По умолчанию `None`.
- `conversation_id` (Optional[str]): Идентификатор разговора. По умолчанию `None`.
- `conversation` (Optional[dict]): Объект разговора. По умолчанию `None`.
- `return_conversation` (Optional[bool]): Определяет, возвращать ли разговор. По умолчанию `None`.
- `history_disabled` (Optional[bool]): Отключает историю. По умолчанию `None`.
- `timeout` (Optional[int]): Время ожидания запроса. По умолчанию `None`.
- `tool_calls` (list): Список вызовов инструментов. Пример:  [{ "function": { "arguments": {"query":"search query", "max_results":5, "max_words": 2500, "backend": "auto", "add_text": True, "timeout": 5}, "name": "search_tool" }, "type": "function" }]
- `tools` (list): Список доступных инструментов. По умолчанию `None`.
- `parallel_tool_calls` (bool): Разрешить параллельные вызовы инструментов. По умолчанию `None`.
- `tool_choice` (Optional[str]): Выбор инструмента. По умолчанию `None`.
- `reasoning_effort` (Optional[str]): Уровень усилий для рассуждений. По умолчанию `None`.
- `logit_bias` (Optional[dict]): Смещение логитов. По умолчанию `None`.
- `modalities` (Optional[list[str]]): Список модальностей. По умолчанию `None`.
- `audio` (Optional[dict]): Конфигурация аудио. По умолчанию `None`.
- `response_format` (Optional[dict]): Формат ответа. По умолчанию `None`.
- `extra_data` (Optional[dict]): Дополнительные данные. По умолчанию `None`.

**Принцип работы**:
Этот класс используется для представления конфигурации запроса к API завершения чата. Он содержит все необходимые параметры для настройки запроса, такие как сообщения, модель, провайдер и другие параметры генерации.

### `ImageGenerationConfig`

**Описание**: Класс конфигурации для запросов генерации изображений.
**Наследует**: `pydantic.BaseModel`

**Атрибуты**:
- `prompt` (str): Текстовое описание изображения для генерации.
- `model` (Optional[str]): Имя модели для использования. По умолчанию `None`.
- `provider` (Optional[str]): Провайдер модели. По умолчанию `None`.
- `response_format` (Optional[str]): Формат ответа. По умолчанию `None`.
- `api_key` (Optional[str]): Ключ API. По умолчанию `None`.
- `proxy` (Optional[str]): URL прокси-сервера. По умолчанию `None`.
- `width` (Optional[int]): Ширина изображения. По умолчанию `None`.
- `height` (Optional[int]): Высота изображения. По умолчанию `None`.
- `num_inference_steps` (Optional[int]): Количество шагов вывода. По умолчанию `None`.
- `seed` (Optional[int]): Зерно для генерации. По умолчанию `None`.
- `guidance_scale` (Optional[int]): Масштаб соответствия запросу. По умолчанию `None`.
- `aspect_ratio` (Optional[str]): Соотношение сторон изображения. По умолчанию `None`.
- `n` (Optional[int]): Количество сгенерированных изображений. По умолчанию `None`.
- `negative_prompt` (Optional[str]): Негативный запрос. По умолчанию `None`.
- `resolution` (Optional[str]): Разрешение изображения. По умолчанию `None`.

**Принцип работы**:
Этот класс используется для представления конфигурации запроса к API генерации изображений. Он содержит текстовое описание изображения, а также параметры, определяющие процесс генерации, такие как модель, провайдер, размеры изображения и другие.

### `ProviderResponseModel`

**Описание**: Класс для представления ответа от провайдера.
**Наследует**: `pydantic.BaseModel`

**Атрибуты**:
- `id` (str): Идентификатор ответа.
- `object` (str): Тип объекта. Всегда "provider".
- `created` (int): Временная метка создания.
- `url` (Optional[str]): URL. По умолчанию `None`.
- `label` (Optional[str]): Метка. По умолчанию `None`.

**Принцип работы**:
Этот класс используется для представления базовой информации об ответе от провайдера API, такой как идентификатор, тип объекта и временная метка создания.

### `ProviderResponseDetailModel`

**Описание**: Класс для представления детальной информации об ответе от провайдера.
**Наследует**: `ProviderResponseModel`

**Атрибуты**:
- `models` (list[str]): Список поддерживаемых моделей.
- `image_models` (list[str]): Список поддерживаемых моделей изображений.
- `vision_models` (list[str]): Список моделей зрения.
- `params` (list[str]): Список поддерживаемых параметров.

**Принцип работы**:
Этот класс расширяет `ProviderResponseModel` и предоставляет дополнительную информацию об ответе от провайдера, такую как список поддерживаемых моделей, параметров и т.д.

### `ModelResponseModel`

**Описание**: Класс для представления ответа о модели.
**Наследует**: `pydantic.BaseModel`

**Атрибуты**:
- `id` (str): Идентификатор модели.
- `object` (str): Тип объекта. Всегда "model".
- `created` (int): Временная метка создания.
- `owned_by` (Optional[str]): Владелец модели. По умолчанию `None`.

**Принцип работы**:
Этот класс используется для представления информации о модели, такой как идентификатор, тип объекта, временная метка создания и владелец.

### `UploadResponseModel`

**Описание**: Класс для представления ответа на загрузку.
**Наследует**: `pydantic.BaseModel`

**Атрибуты**:
- `bucket_id` (str): Идентификатор бакета.
- `url` (str): URL для доступа к загруженному файлу.

**Принцип работы**:
Этот класс используется для представления ответа на запрос загрузки файла, содержащего идентификатор бакета и URL для доступа к загруженному файлу.

### `ErrorResponseModel`

**Описание**: Класс для представления ответа об ошибке.
**Наследует**: `pydantic.BaseModel`

**Атрибуты**:
- `error` (ErrorResponseMessageModel): Сообщение об ошибке.
- `model` (Optional[str]): Модель, вызвавшая ошибку. По умолчанию `None`.
- `provider` (Optional[str]): Провайдер, вызвавший ошибку. По умолчанию `None`.

**Принцип работы**:
Этот класс используется для представления информации об ошибке, такой как сообщение об ошибке, модель и провайдер, вызвавшие ошибку.

### `ErrorResponseMessageModel`

**Описание**: Класс для представления сообщения об ошибке.
**Наследует**: `pydantic.BaseModel`

**Атрибуты**:
- `message` (str): Текст сообщения об ошибке.

**Принцип работы**:
Этот класс используется для представления текста сообщения об ошибке.

### `FileResponseModel`

**Описание**: Класс для представления ответа о файле.
**Наследует**: `pydantic.BaseModel`

**Атрибуты**:
- `filename` (str): Имя файла.

**Принцип работы**:
Этот класс используется для представления информации о файле, такой как имя файла.