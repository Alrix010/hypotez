# Модель данных для Телеграм бота  цифрового рынка
## Обзор

Этот модуль определяет модели данных, используемые в Телеграм боте  цифрового рынка. 

## Детали

Этот модуль `models.py`  расположен в каталоге `hypotez/src/endpoints/bots/telegram/digital_market/bot/dao/` 
и содержит определения классов, которые используются для взаимодействия с базой данных.  

Каждая модель представляет собой таблицу в базе данных, а атрибуты модели соответствуют столбцам таблицы.   
Модели `User`, `Category`, `Product` и `Purchase` используются для хранения информации о пользователях, 
категориях товаров, товарах и покупках соответственно.

##  Классы

### `class User` 

**Описание**:  Представляет модель пользователя. 

**Атрибуты**:

- `telegram_id` (int): Идентификатор пользователя в Телеграм.
- `username` (str | None): Имя пользователя в Телеграм (опционально).
- `first_name` (str | None):  Имя пользователя (опционально).
- `last_name` (str | None): Фамилия пользователя (опционально).
- `purchases` (List['Purchase']):  Список покупок, сделанных пользователем. 

### `class Category`

**Описание**: Представляет модель категории товаров. 

**Атрибуты**:
- `category_name` (str): Название категории.
- `products` (List["Product"]):  Список товаров, относящихся к этой категории.

### `class Product`

**Описание**:  Представляет модель товара. 

**Атрибуты**:
- `name` (str):  Название товара. 
- `description` (str):  Описание товара.
- `price` (int): Цена товара.
- `file_id` (str | None): Идентификатор файла (например, медиафайла), связанного с товаром (опционально).
- `category_id` (int):  Идентификатор категории товара.
- `hidden_content` (str):  Дополнительная информация о товаре, скрытая от обычного просмотра.
- `category` (Category): Объект категории, к которой относится товар.
- `purchases` (List['Purchase']): Список покупок, сделанных для этого товара.

### `class Purchase`

**Описание**:  Представляет модель покупки.

**Атрибуты**:
- `user_id` (int): Идентификатор пользователя, совершившего покупку.
- `product_id` (int): Идентификатор товара, который был куплен.
- `price` (int): Цена товара на момент покупки.
- `payment_type` (str): Тип оплаты (например, "card", "crypto"). 
- `payment_id` (str):  Идентификатор платежа (уникальный).
- `user` (User):  Объект пользователя, который сделал покупку.
- `product` (Product):  Объект товара, который был куплен.

## Функции 

### `def __repr__(self) `

**Описание**: Метод, который определяет строковое представление объекта класса.   
           Этот метод используется для удобного отображения объекта при печати или 
           дебаггинге.

**Параметры**: 
- `self`:  Ссылка на текущий объект.

**Возвращает**: 
- `str`: Строковое представление объекта.  

**Пример**: 

```python
user = User(telegram_id=1234567890, username='user_name')
print(user) # Вывод: <User(id=None, telegram_id=1234567890, username='user_name')>
```

### `def __repr__(self) `

**Описание**: Метод, который определяет строковое представление объекта класса.   
           Этот метод используется для удобного отображения объекта при печати или 
           дебаггинге.

**Параметры**: 
- `self`:  Ссылка на текущий объект.

**Возвращает**: 
- `str`: Строковое представление объекта.  

**Пример**: 

```python
category = Category(category_name='Category Name')
print(category) # Вывод: <Category(id=None, name='Category Name')>
```

### `def __repr__(self) `

**Описание**: Метод, который определяет строковое представление объекта класса.   
           Этот метод используется для удобного отображения объекта при печати или 
           дебаггинге.

**Параметры**: 
- `self`:  Ссылка на текущий объект.

**Возвращает**: 
- `str`: Строковое представление объекта.  

**Пример**: 

```python
product = Product(name='Product Name', price=100)
print(product) # Вывод: <Product(id=None, name='Product Name', price=100)>
```

### `def __repr__(self) `

**Описание**: Метод, который определяет строковое представление объекта класса.   
           Этот метод используется для удобного отображения объекта при печати или 
           дебаггинге.

**Параметры**: 
- `self`:  Ссылка на текущий объект.

**Возвращает**: 
- `str`: Строковое представление объекта.  

**Пример**: 

```python
purchase = Purchase(user_id=1, product_id=1)
print(purchase) # Вывод: <Purchase(id=None, user_id=1, product_id=1, date=None)>
```