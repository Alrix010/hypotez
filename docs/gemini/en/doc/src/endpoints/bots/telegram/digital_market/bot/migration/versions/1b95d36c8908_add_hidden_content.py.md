# Модуль для добавления скрытого контента

## Обзор

Этот модуль содержит скрипт миграции базы данных Alembic, который добавляет столбец `hidden_content` в таблицу `products`.

## Подробнее

Этот скрипт миграции используется для изменения структуры базы данных, добавляя новый столбец `hidden_content` в таблицу `products`. Этот столбец предназначен для хранения скрытого контента, связанного с товарами. Скрипт также содержит функцию для отката изменений, удаляющую добавленный столбец.

## Функции

### `upgrade`

**Назначение**: Выполняет обновление базы данных, добавляя столбец `hidden_content` в таблицу `products`.

```python
def upgrade() -> None:
    """
    Выполняет обновление базы данных, добавляя столбец `hidden_content` в таблицу `products`.

    Raises:
        Exception: Если возникает ошибка при добавлении столбца.
    """
```

**Как работает функция**:

- Функция `upgrade` использует `op.add_column` для добавления нового столбца с именем `hidden_content` в таблицу `products`.
- Тип данных для нового столбца установлен как `sa.Text()`, что позволяет хранить большие объемы текстовых данных.
- `nullable=False` означает, что столбец не может содержать `NULL` значения.

**Примеры**:

```python
upgrade()
```

### `downgrade`

**Назначение**: Выполняет откат обновления базы данных, удаляя столбец `hidden_content` из таблицы `products`.

```python
def downgrade() -> None:
    """
    Выполняет откат обновления базы данных, удаляя столбец `hidden_content` из таблицы `products`.

    Raises:
        Exception: Если возникает ошибка при удалении столбца.
    """
```

**Как работает функция**:

- Функция `downgrade` использует `op.drop_column` для удаления столбца `hidden_content` из таблицы `products`.

**Примеры**:

```python
downgrade()
```