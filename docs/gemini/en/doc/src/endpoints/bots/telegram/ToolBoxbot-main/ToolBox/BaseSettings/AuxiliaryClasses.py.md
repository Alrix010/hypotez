# Документация модуля AuxiliaryClasses.py

## Обзор

Модуль `AuxiliaryClasses.py` содержит вспомогательные классы для работы с Telegram-ботом ToolBox.
Он включает классы для создания клавиатур (`keyboards`) и сжатия промптов (`PromptsCompressor`),
а также функцию для вставки HTML-тегов в текст.

## Подробнее

Этот модуль предоставляет инструменты для упрощения взаимодействия с пользователем через Telegram-бота,
позволяя динамически создавать клавиатуры и формировать промпты на основе заданных параметров.
Он также включает функциональность для форматирования текста с использованием HTML-тегов,
что позволяет улучшить визуальное представление сообщений, отправляемых ботом.

## Классы

### `keyboards`

**Описание**: Класс `keyboards` предназначен для создания различных типов клавиатур для Telegram-бота.

**Методы**:

- `_keyboard_two_blank(data: list[str], name: list[str]) -> types.InlineKeyboardMarkup`
- `_reply_keyboard(self, name: list[str])`

### `PromptsCompressor`

**Описание**: Класс `PromptsCompressor` предназначен для сжатия и форматирования промптов для Telegram-бота.

**Атрибуты**:

- `commands_size (list[list[str]])`: Список, содержащий размеры команд для разных типов промптов.

**Методы**:

- `get_prompt(self, info: list[str], ind: int) -> str`
- `html_tags_insert(response: str) -> str`

## Методы класса `keyboards`

### `_keyboard_two_blank`

```python
def _keyboard_two_blank(self, data: list[str], name: list[str]) -> types.InlineKeyboardMarkup:
    """
    Создает встроенную клавиатуру с двумя полями в каждом ряду.

    Args:
        data (list[str]): Список данных для кнопок обратного вызова.
        name (list[str]): Список имен кнопок, отображаемых пользователю.

    Returns:
        types.InlineKeyboardMarkup: Объект встроенной клавиатуры.

    Как работает функция:
    - Функция создает объект встроенной клавиатуры `types.InlineKeyboardMarkup`.
    - Создаются кнопки на основе переданных данных и имен.
    - Если количество кнопок четное, они добавляются парами в каждый ряд клавиатуры.
    - Если количество кнопок нечетное, все кнопки, кроме последней, добавляются парами, а последняя кнопка добавляется в отдельный ряд.
    - Возвращается созданная клавиатура.

    Примеры:
        >>> keyboard = keyboards()._keyboard_two_blank(['data1', 'data2'], ['name1', 'name2'])
    """
```

### `_reply_keyboard`

```python
def _reply_keyboard(self, name: list[str]):
    """
    Создает клавиатуру ответа с кнопками, соответствующими переданным именам.

    Args:
        name (list[str]): Список имен кнопок для клавиатуры ответа.

    Returns:
        types.ReplyKeyboardMarkup: Объект клавиатуры ответа.

    Как работает функция:
    - Функция создает объект клавиатуры ответа `types.ReplyKeyboardMarkup` с возможностью изменения размера.
    - Создаются кнопки на основе переданных имен.
    - Каждая кнопка добавляется в клавиатуру.
    - Возвращается созданная клавиатура.

    Примеры:
        >>> keyboard = keyboards()._reply_keyboard(['name1', 'name2'])
    """
```

## Методы класса `PromptsCompressor`

### `__init__`

```python
def __init__(self):
    """
    Инициализирует класс `PromptsCompressor`, устанавливая размеры команд для различных типов промптов.

    Как работает функция:
    - Функция инициализирует атрибут `commands_size`, который представляет собой список списков,
      определяющих размеры команд для разных типов промптов.
    """
```

### `get_prompt`

```python
def get_prompt(self, info: list[str], ind: int) -> str:
    """
    Получает промпт из файла `prompts.json` и заменяет в нем переменные на основе переданной информации.

    Args:
        info (list[str]): Список значений для замены переменных в промпте.
        ind (int): Индекс типа промпта.

    Returns:
        str: Сформированный промпт.

    Как работает функция:
    - Функция открывает файл `prompts.json` и загружает команды из него.
    - Извлекается команда с индексом `ind`.
    - В цикле перебираются элементы списка `self.commands_size[ind]` и заменяются соответствующие переменные в команде.
    - Возвращается сформированный промпт.

    Примеры:
        >>> compressor = PromptsCompressor()
        >>> prompt = compressor.get_prompt(['topic', 'keywords', 'info', 'length'], 0)
    """
```

### `html_tags_insert`

```python
@staticmethod
def html_tags_insert(response: str) -> str:
    """
    Вставляет HTML-теги в текст ответа на основе заданных шаблонов.

    Args:
        response (str): Текст ответа, в который необходимо вставить HTML-теги.

    Returns:
        str: Текст ответа с вставленными HTML-тегами.

    Как работает функция:
    - Функция принимает текст ответа и применяет к нему ряд регулярных выражений для замены определенных шаблонов на HTML-теги.
    - Используются шаблоны для вставки тегов `<b><u>`, `<u>`, `<b>`, `<i>`, `<pre><code>` и `<code>`.
    - Возвращается текст с вставленными HTML-тегами.

    Примеры:
        >>> text = "#### Заголовок"
        >>> html_text = PromptsCompressor.html_tags_insert(text)
    """
```