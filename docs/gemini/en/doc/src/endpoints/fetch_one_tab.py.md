# Модуль `fetch_one_tab.py`

## Обзор

Модуль предназначен для разбора ссылок из OneTab. Он извлекает URL-адреса и информацию о цене и описании из указанной страницы OneTab.

## Подробнее

Модуль использует библиотеки `BeautifulSoup` и `requests` для получения и обработки содержимого веб-страницы OneTab. Он предназначен для извлечения целевых URL-адресов и метаданных, таких как цена и описание, из структуры HTML страницы OneTab. Этот модуль помогает автоматизировать процесс сбора и анализа ссылок, организованных через OneTab.

## Классы

В данном модуле классы отсутствуют.

## Функции

### `fetch_target_urls_onetab`

```python
def fetch_target_urls_onetab(one_tab_url: str) -> tuple[str, str, list[str]] | bool:
    """
    Функция парсит целевые URL из полученного OneTab.

    Args:
        one_tab_url (str): URL страницы OneTab для парсинга.

    Returns:
        tuple[str, str, list[str]] | bool: Кортеж, содержащий цену (str), описание (str) и список URL-адресов (list[str]).
        Возвращает `False`, `False`, `False` в случае ошибки.
    """
```

**Назначение**: Извлекает целевые URL-адреса, цену и описание из OneTab URL.

**Параметры:**
- `one_tab_url` (str): URL страницы OneTab, из которой требуется извлечь данные.

**Возвращает:**
- `tuple[str, str, list[str]] | bool`: Кортеж, содержащий цену (str), описание (str) и список URL-адресов (list[str]).
   Возвращает `False`, `False`, `False` в случае ошибки.

**Как работает функция:**

1. **Выполнение HTTP-запроса**:
   - Функция выполняет GET-запрос к указанному `one_tab_url` с таймаутом в 10 секунд.

2. **Обработка ответа**:
   - Проверяет статус ответа и вызывает исключение `HTTPError`, если статус код указывает на ошибку.
   - Использует `BeautifulSoup` для парсинга содержимого HTML ответа.

3. **Извлечение URL-адресов**:
   - Находит все элементы `<a>` с классом `tabLink` и извлекает из них атрибуты `href`, формируя список URL-адресов.

4. **Извлечение метаданных**:
   - Пытается найти элемент `<div>` с классом `tabGroupLabel`.
   - Если элемент найден, извлекает текст и разбивает его на части, предполагая, что первая часть — это цена, а остальная часть — описание.
   - Если элемент не найден, устанавливает цену в пустую строку, а описание в текущее время.

5. **Обработка ошибок**:
   - В случае возникновения ошибки при выполнении запроса (например, `requests.exceptions.RequestException`), логирует ошибку с использованием `logger.error` и возвращает `False`, `False`, `False`.

**Примеры:**

Пример вызова функции:

```python
one_tab_url = "https://www.one-tab.com/..."
price, description, urls = fetch_target_urls_onetab(one_tab_url)
if price and description and urls:
    print(f"Цена: {price}, Описание: {description}")
    for url in urls:
        print(url)
else:
    print("Не удалось получить данные из OneTab.")