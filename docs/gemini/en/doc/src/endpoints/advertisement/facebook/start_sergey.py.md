# Модуль: src.endpoints.advertisement.facebook.start_sergey

## Обзор

Модуль предназначен для отправки рекламных объявлений в группы Facebook. Предположительно, разработан для использования командой Кацаринова.
Модуль автоматизирует процесс запуска рекламных кампаний, используя драйвер веб-браузера для взаимодействия с Facebook.

## Детали

Модуль использует файлы конфигурации для групп и рекламных объявлений, поддерживает несколько языков и валют.
Он также включает логирование и обработку исключений для обеспечения надежности и управляемости процесса.
Модуль взаимодействует с Google Drive для получения списка рекламных кампаний.

## Содержание

- [Функции](#Функции)
    - [run_campaign](#run_campaign)
    - [campaign_cycle](#campaign_cycle)
    - [main](#main)

## Функции

### `run_campaign`

```python
def run_campaign(d: Driver, promoter_name: str, campaigns: list | str, group_file_paths: list, language: str, currency: str):
    """Запуск рекламной кампании.

    Args:
        d (Driver): Экземпляр драйвера.
        promoter_name (str): Имя рекламодателя.
        campaigns (list): Список кампаний.
        group_file_paths (list): Пути к файлам с группами.
        language (str): Язык рекламной кампании.
        currency (str): Валюта рекламной кампании.
    """
```

Функция `run_campaign` отвечает за запуск рекламной кампании в Facebook.

**Параметры:**

- `d` (Driver): Экземпляр драйвера веб-браузера, используемый для автоматизации действий в Facebook.
- `promoter_name` (str): Имя рекламодателя, которое будет использоваться для идентификации кампании.
- `campaigns` (list | str): Список или строка с названием кампании, которую необходимо запустить.
- `group_file_paths` (list): Список путей к файлам, содержащим информацию о группах Facebook, в которых будет размещаться реклама.
- `language` (str): Язык, на котором будет отображаться рекламное объявление (например, "RU" для русского).
- `currency` (str): Валюта, используемая для рекламной кампании (например, "ILS" для израильского шекеля).

**Как работает функция:**

1. Создает экземпляр класса `FacebookPromoter`, который отвечает за фактическое размещение рекламы в Facebook.
2. Вызывает метод `run_campaigns` у экземпляра `FacebookPromoter`, передавая ему все необходимые параметры для запуска кампании.

### `campaign_cycle`

```python
def campaign_cycle(d: Driver):
    """Цикл для управления запуском кампаний.

    Args:
        d (Driver): Экземпляр драйвера.
        aliexpress_adv (bool): Флаг для определения рекламодателя.
    """
```

Функция `campaign_cycle` управляет циклом запуска рекламных кампаний.

**Параметры:**

- `d` (Driver): Экземпляр драйвера веб-браузера, используемый для автоматизации действий в Facebook.

**Как работает функция:**

1. Копирует списки путей к файлам с группами и рекламными объявлениями для русского и иврит языков.
2. Расширяет списки, добавляя пути к файлам с рекламными объявлениями.
3. Определяет пары язык-валюта для рекламных кампаний.
4. Перебирает пары язык-валюта и запускает рекламные кампании для каждого языка.
5. Запускает рекламные кампании для "kazarinov" и "aliexpress", используя соответствующие файлы групп и рекламных объявлений.

### `main`

```python
def main():
    """Основная функция для запуска рекламных кампаний."""
```

Функция `main` является основной точкой входа для запуска рекламных кампаний.

**Как работает функция:**

1. Инициализирует драйвер Chrome.
2. Открывает Facebook в браузере.
3. Запускает бесконечный цикл, в котором:
   - Проверяет, не наступило ли время "тихого часа" (с использованием функции `interval`).
   - Запускает цикл кампаний `campaign_cycle`.
   - Логирует время отхода ко сну и засыпает на случайное время от 30 до 360 секунд.
4. Обрабатывает прерывание с клавиатуры, чтобы корректно завершить работу программы.

## Дополнительная информация

- Функция `interval()` предположительно определяет, наступило ли время, когда не следует запускать рекламные кампании (например, ночное время).
- Используется модуль `random` для случайной задержки между циклами кампаний.
- Используется модуль `time` для приостановки выполнения программы.
- Используется модуль `src.logger.logger` для логирования событий и ошибок.
- Используется модуль `src.webdriver.driver` для управления веб-драйвером.