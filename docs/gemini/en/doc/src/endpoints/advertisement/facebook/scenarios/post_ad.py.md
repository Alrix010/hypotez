# Модуль: Публикация рекламного сообщения в группах Facebook

## Обзор

Модуль предназначен для автоматической публикации рекламных сообщений в группах Facebook с использованием Selenium WebDriver. Он включает в себя функции для ввода заголовка и текста сообщения, загрузки медиафайлов и отправки сообщения.

## Более подробно

Этот код автоматизирует процесс публикации рекламных объявлений в группах Facebook. Он использует Selenium WebDriver для взаимодействия с веб-интерфейсом Facebook, выполняя такие действия, как ввод текста, загрузка медиа и отправка сообщений. Модуль предназначен для упрощения и ускорения процесса размещения рекламы, снижая необходимость ручного выполнения этих задач.

## Классы

В данном модуле классы отсутствуют.

## Функции

### `post_ad`

```python
def post_ad(d: Driver, message:SimpleNamespace) -> bool:
    """ Отправляет заголовок события.

    Args:
        d (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
        message (SimpleNamespace): Объект, содержащий заголовок, данные события и описание для отправки.

    Returns:
        bool: `True`, если заголовок и описание успешно отправлены, иначе `None`.

    Example:
        >>> driver = Driver(...)
        >>> event = SimpleNamespace(title="Заголовок кампании", description="Описание события")
        >>> post_title(driver, event)
        True
    """
```

**Описание**: Функция `post_ad` автоматизирует процесс публикации рекламного сообщения в Facebook. Она использует предоставленный драйвер для взаимодействия с веб-страницей Facebook, отправляет заголовок и описание сообщения, загружает медиафайлы (если они есть) и публикует сообщение.

**Параметры**:
- `d` (Driver): Экземпляр драйвера, используемый для взаимодействия с веб-страницей.
- `message` (SimpleNamespace): Объект, содержащий данные для публикации, включая заголовок, описание и путь к изображению.

**Возвращает**:
- `bool`: Возвращает `True`, если сообщение успешно опубликовано, в противном случае возвращает `None`.

**Как работает функция**:
1. **Инициализация**:
   - Объявляется глобальная переменная `fails`.
2. **Отправка заголовка сообщения**:
   - Вызывается функция `post_message_title` для отправки заголовка сообщения. В случае неудачи регистрируется ошибка, увеличивается счетчик `fails`, и происходит возврат, если количество неудач превышает 15.
3. **Загрузка медиафайлов**:
   - Проверяется наличие атрибута `image_path` в объекте `message`. Если он существует, вызывается функция `upload_post_media` для загрузки медиафайла.
4. **Публикация сообщения**:
   - Вызывается функция `message_publish` для публикации сообщения.
5. **Сброс счетчика неудач**:
   - Обнуляется счетчик `fails`.
6. **Возврат значения**:
   - Возвращается `True` в случае успешной публикации.

**Примеры**:
```python
>>> from selenium import webdriver
>>> from src.webdriver.driver import Driver
>>> from types import SimpleNamespace
>>> # Инициализация драйвера (пример с Chrome)
>>> driver = Driver(webdriver.Chrome())
>>> # Создание объекта сообщения
>>> message = SimpleNamespace(description="Текст рекламного сообщения", image_path="path/to/image.jpg")
>>> # Вызов функции для публикации сообщения
>>> post_ad(driver, message)
True