# Модуль: src.endpoints.advertisement.facebook.facebook_fields

## Обзор

Модуль `facebook_fields.py` предназначен для работы с полями, используемыми в рекламных объявлениях и событиях Facebook. Он загружает поля из JSON-файла и делает их доступными через атрибуты класса.

## Подробнее

Модуль `facebook_fields` облегчает управление и использование полей, необходимых для взаимодействия с API Facebook в контексте рекламных кампаний. Он загружает данные из файла `facebook_feilds.json`, расположенного в директории `src/advertisement/facebok/`, и динамически создает атрибуты класса на основе этих данных.

## Классы

### `FacebookFields`

**Описание**: Класс `FacebookFields` предназначен для хранения и предоставления доступа к полям, используемым в рекламных объявлениях и событиях Facebook.

**Атрибуты**:
- нет явно определенных атрибутов класса, т.к. атрибуты создаются динамически из JSON-файла.

**Методы**:
- `__init__`: Конструктор класса.
- `_payload`: Загружает данные из JSON-файла и создает атрибуты класса.

**Принцип работы**:
1. При инициализации класса вызывается метод `_payload`.
2. Метод `_payload` загружает данные из JSON-файла `facebook_feilds.json` с использованием функции `j_loads`.
3. Если загрузка прошла успешно, для каждого элемента в загруженных данных создается атрибут класса с именем элемента и соответствующим значением.
4. Если загрузка не удалась, в лог записывается сообщение об ошибке.

## Методы класса

### `__init__`

```python
def __init__(self):
    """"""
    ...
    self._payload()
```

**Назначение**: Конструктор класса `FacebookFields`.

**Как работает**:
- Инициализирует класс `FacebookFields`.
- Вызывает метод `self._payload()` для загрузки и установки полей из JSON-файла.

### `_payload`

```python
def _payload(self):
    """"""
    ...
    data = j_loads (Path (gs.path.src, 'advertisement', 'facebok', 'facebook_feilds.json'))
    if not data:
        logger.debug(f"Ошибка загрузки полей из файла {gs.path.src}/advertisement/facebok/facebook_feilds.json")
        return 
    for name, value in data.items():
        setattr(self, f'{name}', value)
    return True
```

**Назначение**: Метод загружает данные из JSON-файла и создает атрибуты класса на основе этих данных.

**Как работает**:
1. Определяет путь к файлу `facebook_feilds.json`, используя `gs.path.src` и другие компоненты пути.
2. Загружает данные из JSON-файла с использованием функции `j_loads`.
3. Проверяет, успешно ли загружены данные. Если данные не загружены, записывает сообщение об ошибке в лог с уровнем `DEBUG` и возвращает `None`.
4. Если данные загружены успешно, итерируется по элементам словаря `data`. Для каждого элемента устанавливает атрибут класса с именем `name` и значением `value` с использованием функции `setattr`.
5. Возвращает `True` после успешной загрузки и установки атрибутов.

**Примеры**:
```python
from src.endpoints.advertisement.facebook.facebook_fields import FacebookFields

fb_fields = FacebookFields()
print(fb_fields.some_field)
```