# Модуль `src.utils.video`

## Обзор

Этот модуль предоставляет асинхронные функции для загрузки и сохранения видеофайлов, а также для получения данных видео. Он включает обработку ошибок и ведение журнала для надежной работы.

## Содержание

- [Функции](#функции)
- [Пример использования](#пример-использования)

## Функции

### `save_video_from_url(url: str, save_path: str) -> Optional[Path]`

#### **Описание**:

Асинхронно загружает видео из URL-адреса и сохраняет его локально. Обрабатывает потенциальные проблемы с сетью и ошибки при сохранении файлов.

#### **Параметры**:

- `url` (str): URL-адрес, с которого нужно скачать видео.
- `save_path` (str): Путь для сохранения скаченного видео.

#### **Возвращает**:

- `Optional[Path]`: Путь к сохраненному файлу или `None`, если операция завершилась неудачно. Возвращает `None` в случае ошибок и если файл равен 0 байт.

#### **Исключения**:

- `aiohttp.ClientError`: при возникновении проблем с сетью во время загрузки.

### `get_video_data(file_name: str) -> Optional[bytes]`

#### **Описание**:

Извлекает двоичные данные видеофайла, если он существует. Обрабатывает ошибки, связанные с отсутствием файла и чтением.

#### **Параметры**:

- `file_name` (str): Путь к видеофайлу для чтения.

#### **Возвращает**:

- `Optional[bytes]`: Двоичные данные файла, если он существует, или `None`, если файл не найден или возникла ошибка.

## Пример использования

```python
import asyncio

# Загрузка видео из URL-адреса
async def download_video():
    video_url = "https://example.com/video.mp4"
    save_path = "local_video.mp4"
    result = await save_video_from_url(video_url, save_path)
    if result:
        print(f"Видео сохранено по пути: {result}")

# Получение данных видеофайла
def read_video_data():
    file_path = "local_video.mp4"
    video_data = get_video_data(file_path)
    if video_data:
        print(f"Первые 10 байт видео: {video_data[:10]}")

# Запуск асинхронной функции загрузки видео
asyncio.run(download_video())

# Получение данных видео
read_video_data()
```