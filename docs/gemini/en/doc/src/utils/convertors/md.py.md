# Модуль `md2dict`

## Обзор

Модуль `md2dict` предоставляет функции для преобразования строки Markdown в структурированный словарь, включая извлечение JSON-содержимого, если оно присутствует.

## Детали

Модуль `md2dict` использует библиотеку `markdown2` для преобразования Markdown в HTML и затем парсит HTML для создания структурированного словаря. Он особенно полезен для преобразования Markdown-документов, содержащих заголовки и текст, в словарь, где ключами являются заголовки, а значениями - соответствующие текстовые блоки.

## Классы

### `md2dict`

**Описание**: Класс `md2dict` не определен в этом модуле. Он скорее представляет собой набор функций, которые предоставляют функциональность для конвертации Markdown.

## Функции

### `md2html`

**Цель**: Функция `md2html` конвертирует строку Markdown в HTML.

**Параметры**:

- `md_string` (str): Строка Markdown для конвертации.
- `extras` (list, optional): Список расширений `markdown2`. По умолчанию `None`.

**Возвращает**:

- `str`: HTML-представление Markdown.

**Возможные исключения**:

- `Exception`: Если возникает ошибка при преобразовании Markdown в HTML.

**Пример**:

```python
from src.utils.convertors.md2dict import md2html

md_string = "## Заголовок\nТекст"
html_string = md2html(md_string)
print(html_string)
# Вывод:
# <h2>Заголовок</h2>
# <p>Текст</p>
```

**Как функция работает**:

Функция `md2html` использует библиотеку `markdown2` для преобразования строки Markdown в HTML. Она использует функцию `markdown` из `markdown2`, которая возвращает HTML-представление Markdown. 

### `md2dict`

**Цель**: Функция `md2dict` конвертирует строку Markdown в структурированный словарь.

**Параметры**:

- `md_string` (str): Строка Markdown для конвертации.
- `extras` (list, optional): Список расширений `markdown2` для `md2html`. По умолчанию `None`.

**Возвращает**:

- `Dict[str, list[str]]`: Структурированное представление Markdown-содержимого.

**Возможные исключения**:

- `Exception`: Если возникает ошибка при парсинге Markdown в структурированный словарь.

**Пример**:

```python
from src.utils.convertors.md2dict import md2dict

md_string = "## Заголовок 1\nТекст 1\n## Заголовок 2\nТекст 2"
md_dict = md2dict(md_string)
print(md_dict)
# Вывод:
# {'Заголовок 1': ['Текст 1'], 'Заголовок 2': ['Текст 2']}
```

**Как функция работает**:

1. Преобразует строку Markdown в HTML с помощью функции `md2html`.
2. Разбивает HTML-строку на строки.
3. Для каждой строки проверяет, начинается ли она с тега `<h>`. Если да, то извлекает уровень заголовка (h1, h2, ...) и текст заголовка.
4. Создает словарь, где ключами являются заголовки уровня 1 (h1), а значениями - списки, содержащие заголовки более низких уровней и соответствующий текст.
5. Возвращает словарь. 

**Внутренние функции**:

Функция `md2dict` не содержит внутренних функций.

## Примеры

```python
from src.utils.convertors.md2dict import md2dict

# Пример 1: Базовый пример с двумя заголовками
md_string = "## Заголовок 1\nТекст 1\n## Заголовок 2\nТекст 2"
md_dict = md2dict(md_string)
print(md_dict)
# Вывод:
# {'Заголовок 1': ['Текст 1'], 'Заголовок 2': ['Текст 2']}

# Пример 2: Markdown с вложенными заголовками
md_string = "## Заголовок 1\n### Подзаголовок 1.1\nТекст 1.1\n### Подзаголовок 1.2\nТекст 1.2\n## Заголовок 2\nТекст 2"
md_dict = md2dict(md_string)
print(md_dict)
# Вывод:
# {'Заголовок 1': ['Подзаголовок 1.1', 'Текст 1.1', 'Подзаголовок 1.2', 'Текст 1.2'], 'Заголовок 2': ['Текст 2']}
```