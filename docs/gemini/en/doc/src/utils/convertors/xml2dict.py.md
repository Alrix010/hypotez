# Модуль `xml2dict`
## Обзор
Этот модуль предоставляет утилиты для преобразования XML-данных в словари. В нем содержатся функции для разбора XML-строк и преобразования деревьев XML-элементов в их представления в виде словарей.

## Подробности
Модуль `xml2dict` предоставляет функции для преобразования XML-структур в Python-словари. Это позволяет обрабатывать и анализировать XML-данные с помощью стандартных инструментов Python. 

### Как работает этот модуль?
Функции `xml2dict` и `ET2dict` используют рекурсивный подход для преобразования XML-структуры в словарь. Они применяют следующую логику:

1. **Разбор узла:** Функция `_parse_node` принимает узел XML-дерева и создает словарь. Она извлекает атрибуты узла, сохраняя их в словарь `attrs`, а затем рекурсивно обрабатывает дочерние узлы.
2. **Создание словаря:** Функция `_make_dict` создает словарь, где ключ - это имя тега XML-узла, а значение - либо просто строковое значение, либо словарь, если узел имеет атрибуты или дочерние элементы. 
3. **Объединение данных:** `_parse_node` рекурсивно объединяет словари, полученные для дочерних элементов, в итоговый словарь, представляющий XML-узел.
4. **Обработка имен пространств:**  Функция `_make_dict` также обрабатывает имена пространств (namespaces), если они присутствуют, добавляя их к ключам словаря.

## Оглавление
### Классы
- Нет классов
### Функции
- `_parse_node`
- `_make_dict`
- `xml2dict`
- `ET2dict`

## Функции
### `_parse_node`
#### Purpose: 
- Функция разбора XML-узла в словарь.

#### Parameters:
- `node` (ET.Element): XML-элемент, который нужно разобрать.

#### Returns:
- `dict | str`: Словарное представление XML-узла или строка, если узел не имеет атрибутов или дочерних элементов.
### `_make_dict`
#### Purpose: 
- Функция создания нового словаря с тегом и значением.

#### Parameters:
- `tag` (str): Имя тега XML-элемента.
- `value` (any): Значение, связанное с тегом.

#### Returns:
- `dict`: Словарь с именем тега в качестве ключа и значением в качестве значения словаря.
### `xml2dict`
#### Purpose: 
- Функция разбора XML-строки в словарь.

#### Parameters:
- `xml` (str): XML-строка для разбора.

#### Returns:
- `dict`: Словарное представление XML.
### `ET2dict`
#### Purpose: 
- Функция преобразования дерева XML-элементов в словарь.

#### Parameters:
- `element_tree` (ET.Element): Дерево XML-элементов.

#### Returns:
- `dict`: Словарное представление дерева XML-элементов.

## Примеры
```python
from src.utils.convertors.xml2dict import xml2dict
xml_string = """
<root>
    <item id="1">
        <name>Product 1</name>
        <price>10.00</price>
    </item>
    <item id="2">
        <name>Product 2</name>
        <price>20.00</price>
    </item>
</root>
"""
result = xml2dict(xml_string)
print(result)
# Output:
# {'root': {'item': [{'id': '1', 'name': 'Product 1', 'price': '10.00'}, {'id': '2', 'name': 'Product 2', 'price': '20.00'}]}}
```

```python
import xml.etree.ElementTree as ET
from src.utils.convertors.xml2dict import ET2dict

xml_tree = ET.fromstring("""
<root>
    <item id="1">
        <name>Product 1</name>
        <price>10.00</price>
    </item>
</root>
""")
result = ET2dict(xml_tree)
print(result)
# Output:
# {'root': {'item': {'id': '1', 'name': 'Product 1', 'price': '10.00'}}}
```