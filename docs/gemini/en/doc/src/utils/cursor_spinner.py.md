# Модуль: Индикатор загрузки в виде вращающегося курсора

## Обзор

Этот модуль предоставляет утилиту для отображения вращающегося курсора в консоли, чтобы имитировать процесс загрузки или ожидания.

## Подробнее

Этот модуль предназначен для создания визуальной индикации процесса выполнения в консольных приложениях. Он использует генератор `spinning_cursor` для циклического перебора символов, создавая эффект вращения. Функция `show_spinner` отображает этот вращающийся курсор в течение заданного времени.

## Функции

### `spinning_cursor`

```python
def spinning_cursor():
    """ Генератор для вращающегося курсора, который циклически перебирает символы |, /, -, \\.
    
    Yields:
        str: Следующий символ в последовательности курсора.
    
    Example:
        >>> cursor = spinning_cursor()
        >>> next(cursor)  # '|'
        >>> next(cursor)  # '/'
        >>> next(cursor)  # '-'
        >>> next(cursor)  # '\\'
    """
    while True:
        for cursor in '|/-\\':
            yield cursor
```

**Описание**:
Функция `spinning_cursor` - это генератор, который циклически перебирает символы `|`, `/`, `-`, `\` и возвращает их по очереди. Это создает эффект вращающегося курсора.

**Принцип работы**:
- Функция использует бесконечный цикл `while True`, чтобы обеспечить непрерывную генерацию символов.
- Внутри цикла происходит перебор символов в строке `'|/-\\'`.
- Каждый символ возвращается с помощью `yield`, что позволяет использовать генератор для получения следующего символа курсора по требованию.

**Примеры**:

```python
cursor = spinning_cursor()
print(next(cursor))  # Вывод: |
print(next(cursor))  # Вывод: /
```

### `show_spinner`

```python
def show_spinner(duration: float = 5.0, delay: float = 0.1):
    """ Отображает вращающийся курсор в консоли в течение указанного времени.
    
    Args:
        duration (float): Как долго должен работать индикатор (в секундах). По умолчанию 5.0.
        delay (float): Задержка между каждым вращением (в секундах). По умолчанию 0.1.
    
    Example:
        >>> show_spinner(duration=3.0, delay=0.2)  # Отображает индикатор в течение 3 секунд
    """
    spinner = spinning_cursor()
    end_time = time.time() + duration

    while time.time() < end_time:
        sys.stdout.write(next(spinner))   # Выводит следующий символ индикатора
        sys.stdout.flush()                # Немедленно отправляет вывод в консоль
        time.sleep(delay)                 # Пауза на время задержки
        sys.stdout.write('\b')            # Возврат на один символ для перезаписи
```

**Описание**:
Функция `show_spinner` отображает вращающийся курсор в консоли в течение заданного времени.

**Параметры**:
- `duration` (float): Продолжительность отображения курсора в секундах (по умолчанию: 5.0).
- `delay` (float): Задержка между сменой символов курсора в секундах (по умолчанию: 0.1).

**Принцип работы**:
1. Функция инициализирует генератор `spinning_cursor` для получения символов курсора.
2. Вычисляется время окончания отображения курсора на основе заданной продолжительности.
3. В цикле `while` до тех пор, пока текущее время меньше времени окончания:
   - Выводится следующий символ курсора с помощью `sys.stdout.write()`.
   - `sys.stdout.flush()` используется для немедленной отправки вывода в консоль.
   - Происходит задержка на заданное время с помощью `time.sleep()`.
   - Символ возврата (`\b`) выводится для перезаписи предыдущего символа курсора, создавая эффект вращения.

**Примеры**:

```python
show_spinner(duration=3.0, delay=0.2)  # Отображает индикатор в течение 3 секунд с задержкой 0.2 секунды
```

## Примеры использования

В конце модуля есть пример использования функции `show_spinner`:

```python
if __name__ == "__main__":
    # Пример использования индикатора в скрипте
    print("Индикатор на 5 секунд:")
    show_spinner(duration=5.0, delay=0.1)
    print("\nГотово!")
```

Этот код демонстрирует, как можно вызвать функцию `show_spinner` для отображения вращающегося курсора в течение 5 секунд с задержкой 0.1 секунды между сменой символов. После завершения отображается сообщение "Готово!".