# Модуль сбора товаров со страницы категорий поставщика kualastyle.il через вебдрайвер

## Обзор

Модуль `hypotez/src/suppliers/suppliers_list/kualastyle/scenario.py` отвечает за сбор информации о товарах с сайта kualastyle.il. 

## Детали

Модуль реализует следующие функции:

- **`get_list_products_in_category(s: Supplier) -> list[str, str, None]`**: Эта функция собирает список URL-адресов товаров со страницы категории. Если страница содержит несколько страниц с товарами, функция пролистывает их, собирая все URL-адреса.
- **`paginator(d: Driver, locator: dict, list_products_in_category: list) -> bool`**: Эта функция реализует функциональность пролистывания страниц с товарами. 
- **`get_list_categories_from_site(s)`**: Эта функция собирает актуальный список категорий с сайта. 

## Функции

### `get_list_products_in_category(s: Supplier) -> list[str, str, None]`

**Цель**: Функция собирает список URL-адресов товаров со страницы категории, пролистывая все страницы, если необходимо.

**Параметры**:

- **`s` (Supplier)**: Объект `Supplier`, содержащий информацию о поставщике, включая веб-драйвер.

**Возвращает**:

- **`list[str, str, None]`**: Список URL-адресов товаров, найденных на странице категории. Если не найдено товаров, возвращает `None`.

**Как работает**:

- Функция использует веб-драйвер `s.driver` и локаторы `s.locators['category']` для поиска и сбора URL-адресов товаров.
- Функция пролистывает страницы категорий, пока текущий URL не совпадает с предыдущим.
- Если на странице категорий есть пагинатор, функция вызывается рекурсивно для сбора URL-адресов со всех страниц.
- Функция использует функцию `paginator` для пролистывания страниц.
- Функция выводит в лог количество найденных товаров.

**Пример**:

```python
# Предположим, что у нас есть объект Supplier s
s = Supplier(...)

# Вызов функции get_list_products_in_category для сбора URL-адресов товаров из категории "Одежда"
products_urls = get_list_products_in_category(s)

# Вывод количества найденных товаров
if products_urls:
    logger.info(f"Найдено {len(products_urls)} товаров в категории {s.current_scenario['name']}")
else:
    logger.warning("Не найдено товаров в категории")
```

### `paginator(d: Driver, locator: dict, list_products_in_category: list) -> bool`

**Цель**: Функция реализует пролистывание страниц с товарами. 

**Параметры**:

- **`d` (Driver)**: Объект веб-драйвера.
- **`locator` (dict)**: Локаторы для элементов пагинатора.
- **`list_products_in_category` (list)**: Список URL-адресов товаров.

**Возвращает**:

- **`bool`**: Возвращает `True`, если страница успешно пролистана, и `False` в противном случае.

**Как работает**:

- Функция использует веб-драйвер `d` и локаторы `locator['pagination']['<-\']` для поиска и активации элемента "предыдущая страница".
- Если элемент не найден или неактивен, функция возвращает `False`.
- В противном случае, функция возвращает `True`.

**Примеры**:

```python
# Пример вызова функции paginator
paginator(d, locator, list_products_in_category)
```

### `get_list_categories_from_site(s)`

**Цель**: Функция собирает актуальный список категорий с сайта.

**Параметры**:

- **`s` (Supplier)**: Объект `Supplier`, содержащий информацию о поставщике, включая веб-драйвер.

**Возвращает**:

- **`None`**:  Функция не возвращает никаких данных.

**Как работает**:

- Функция реализует логику сбора категорий, которая не представлена в коде. 

**Пример**:

```python
# Пример вызова функции get_list_categories_from_site
get_list_categories_from_site(s)
```

## Примечания

- В модуле `hypotez/src/suppliers/suppliers_list/kualastyle/scenario.py` реализованы функции для сбора данных о товарах и категориях с сайта.
- Модуль использует веб-драйвер для взаимодействия с сайтом. 
- В коде используются локаторы `s.locators` для поиска элементов на странице.