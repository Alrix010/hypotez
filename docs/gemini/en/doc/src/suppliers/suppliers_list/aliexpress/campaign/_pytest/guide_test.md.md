# Руководство для тестера рекламных кампаний AliExpress

## Обзор

Данный документ предназначен для тестирования модуля, отвечающего за подготовку материалов для рекламных кампаний на платформе AliExpress. Модуль включает в себя три основных файла:

1. `edit_campaign.py` - управление рекламной кампанией.
2. `prepare_campaigns.py` - подготовка и обработка категорий кампании.
3. `test_campaign_integration.py` - тесты для проверки интеграции всех компонентов модуля.

## Детали

Модуль предназначен для автоматизации подготовки рекламных кампаний на AliExpress. 

### `edit_campaign.py`

**Описание**:  Этот файл содержит класс `AliCampaignEditor`, который наследует от `AliPromoCampaign`. Основная задача этого класса - управление рекламной кампанией.

### `prepare_campaigns.py`

**Описание**:  Этот файл содержит функции для подготовки материалов кампании, включая обновление категорий и обработку кампаний по категориям.

### `test_campaign_integration.py`

**Описание**:  Этот файл содержит тесты, проверяющие взаимодействие всех компонентов модуля.

## Тестирование

### Установка зависимостей

- Убедитесь, что все необходимые зависимости установлены. Выполните команду:

  ```sh
  pip install -r requirements.txt
  ```

### Запуск тестов

- Для запуска всех тестов используйте команду:

  ```sh
  pytest test_campaign_integration.py
  ```

### Проверка тестов

- Убедитесь, что все тесты проходят успешно. В выводе команды `pytest` должно быть указано, что все тесты пройдены (`PASSED`).

## Проверка функциональности

### `edit_campaign.py`

- **`AliCampaignEditor`**:  Проверьте, что класс `AliCampaignEditor` корректно инициализируется и позволяет управлять рекламной кампанией.

### `prepare_campaigns.py`

- **`update_category`**:  Проверьте, что функция `update_category` правильно обновляет данные категории в JSON файле и логгирует успешное выполнение.
- **`process_campaign_category`**:  Проверьте, что функция `process_campaign_category` корректно обрабатывает категорию и возвращает результат без ошибок.
- **`process_campaign`**:  Проверьте, что функция `process_campaign` корректно обрабатывает все категории и возвращает результаты обработки каждой категории.
- **`main`**:  Проверьте, что функция `main` корректно выполняет все этапы обработки кампании асинхронно и без ошибок.

### `test_campaign_integration.py`

- **`test_update_category_success`**:  Проверьте, что категория успешно обновляется в JSON файле.
- **`test_update_category_failure`**:  Проверьте, что при возникновении ошибки функция логгирует сообщение об ошибке и возвращает `False`.
- **`test_process_campaign_category_success`**:  Проверьте, что категория успешно обрабатывается в кампании.
- **`test_process_campaign_category_failure`**:  Проверьте, что при возникновении ошибки функция логгирует сообщение об ошибке и возвращает `None`.
- **`test_process_campaign`**:  Проверьте, что все категории в кампании обрабатываются корректно.
- **`test_main`**:  Проверьте, что основной сценарий выполнения кампании проходит без ошибок.

## Заключение

Убедитесь, что все тесты пройдены и функциональность модуля работает корректно. В случае возникновения проблем или ошибок, сообщите разработчикам для исправления.