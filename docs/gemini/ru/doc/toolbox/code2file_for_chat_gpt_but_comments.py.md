# Модуль `dev_utils`

## Обзор

Модуль `dev_utils` содержит функции для работы с файлами и директориями, включая рекурсивное чтение текстовых и данных файлов, удаление содержимого директорий, а также обработку различных форматов файлов (текстовые файлы, JSON, CSV, XML, Excel, Jupyter Notebook, YAML, TeX, INI, RDF, TOML и SQLite).

## Подробней

Этот модуль предоставляет инструменты для автоматизации задач, связанных с обработкой файлов в проекте `hypotez`. Он позволяет собирать данные из различных источников и форматов, объединять их в один файл, а также удалять нежелательные файлы и директории.

## Функции

### `delete_directory_contents`

**Назначение**: Рекурсивно удаляет все содержимое указанной директории.

**Параметры**:
- `directory` (Path): Путь к директории, содержимое которой нужно удалить.

**Возвращает**:
- `None`

**Вызывает исключения**:
- `OSError`: Если происходит ошибка при удалении директории или файла.

**Как работает функция**:
Функция принимает путь к директории и рекурсивно удаляет все файлы и поддиректории внутри нее. Сначала она проходит по всем элементам директории. Если элемент является директорией, она рекурсивно вызывает саму себя для удаления содержимого этой директории. Если элемент является файлом, она пытается удалить его. После удаления всех файлов и поддиректорий, функция пытается удалить саму директорию. В случае возникновения ошибки при удалении файла или директории, информация об ошибке записывается в лог.

**Примеры**:

```python
from pathlib import Path
delete_directory_contents(Path('../tmp/chat_gpt/aliexpress'))
```

### `read_text_files`

**Назначение**: Читает текстовые и данные файлы в указанной директории, объединяет их содержимое в один файл и удаляет файлы и директории, начинающиеся с `_` или содержащие `(` и `)`.

**Параметры**:
- `directory` (str): Каталог для поиска файлов.
- `output_file` (str): Файл, в который будет сохранено объединенное содержимое.

**Возвращает**:
- `None`

**Как работает функция**:
Функция выполняет следующие действия:

1.  Создает выходной файл, если он не существует.
2.  Проходит по всем файлам и директориям в указанном каталоге, используя `os.walk`.
3.  Удаляет директории, имена которых начинаются с `_` или содержат символ `*`. Для удаления используется функция `delete_directory_contents`.
4.  Удаляет файлы, имена которых начинаются с `_` или содержат символы `(` и `)`.
5.  Для файлов, которые не подлежат удалению, считывает их содержимое в зависимости от расширения файла и записывает в выходной файл.
    *   Поддерживаемые расширения файлов: `.py`, `.txt`, `.css`, `.js`, `.dot`, `.mer`, `.md`, `.ps1`, `.json`, `.csv`, `.xml`, `.xls`, `.xlsx`, `.ipynb`, `.yaml`, `.yml`, `.tex`, `.ini`, `.rdf`, `.toml`, `.sqlite`, `.db`.
    *   Для файлов `.json`, `.csv`, `.xml`, `.xls`, `.xlsx`, `.ipynb`, `.yaml`, `.yml`, `.sqlite`, `.db` применяется специальная обработка для преобразования содержимого в строку.
6.  В случае возникновения ошибки при обработке файла, информация об ошибке записывается в лог.

**Примеры**:

```python
read_text_files('src', 'output.txt')
```

## Запуск модуля

В блоке `if __name__ == "__main__":` демонстрируется пример использования функции `read_text_files`. Указывается каталог для поиска файлов (`../src/suppliers/kazarinov/react`) и файл для сохранения вывода (`../data/kazarinov_react.txt`). Если директория для выходного файла не существует, она будет создана. Затем вызывается функция `read_text_files` для обработки файлов в указанном каталоге и сохранения результатов в выходном файле.