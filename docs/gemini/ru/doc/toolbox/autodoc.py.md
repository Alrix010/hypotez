# Модуль для автоматического обновления docstring функций
==========================================================

Модуль содержит функции и декоратор для автоматического обновления docstring функций.

## Обзор

Этот модуль предоставляет инструменты для автоматического добавления информации о времени последнего вызова функции в её docstring. Он включает декоратор `autodoc` и функцию `update_docstring`, которые позволяют автоматически обновлять docstring функций.

## Подробней

Этот модуль предназначен для автоматического обновления docstring функций с информацией о времени последнего вызова. Он может быть полезен для отслеживания времени выполнения функций и документирования изменений в их поведении. Модуль использует декоратор `autodoc` для обертывания функций и функцию `update_docstring` для обновления docstring.

## Функции

### `autodoc`

**Назначение**: Декоратор для автоматического обновления docstring функции.

```python
def autodoc(func):
    """Декоратор для автоматического обновления docstring функции."""
    ...
```

**Параметры**:
- `func` (function): Функция, для которой необходимо обновить docstring.

**Возвращает**:
- `wrapper` (function): Обернутая функция, которая вызывает `update_docstring` перед вызовом исходной функции.

**Как работает функция**:
- Функция `autodoc` принимает функцию `func` в качестве аргумента.
- Она определяет внутреннюю функцию `wrapper`, которая вызывается вместо исходной функции.
- Внутри `wrapper` сначала вызывается функция `update_docstring` для обновления docstring функции `func`.
- Затем вызывается исходная функция `func` с переданными аргументами.
- Функция `autodoc` возвращает обернутую функцию `wrapper`.
- Используется декоратор `@functools.wraps(func)` для сохранения метаданных исходной функции.

**Примеры**:

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")
```

### `update_docstring`

**Назначение**: Обновляет docstring функции, добавляя информацию о времени последнего вызова.

```python
def update_docstring(func):
    """Обновляет docstring функции."""
    ...
```

**Параметры**:
- `func` (function): Функция, docstring которой необходимо обновить.

**Как работает функция**:
- Функция `update_docstring` принимает функцию `func` в качестве аргумента.
- Она получает текущее время с использованием `time.strftime("%Y-%m-%d %H:%M:%S")`.
- Проверяет, существует ли docstring у функции `func`.
- Если docstring существует, добавляет информацию о времени последнего вызова в конец docstring.
- Если docstring не существует, создает новый docstring с информацией о времени последнего вызова.

**Примеры**:

```python
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")

update_docstring(example_function)
print(example_function.__doc__)
```

### Параметры модуля

- `MODE` (str): Определяет режим работы модуля (в данном случае, 'development').
```python
MODE = 'development'
```
## Пример использования
```python
# Пример использования декоратора
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")

# Тестирование функции
example_function(1, "test")
print(example_function.__doc__)  # Вывод обновленного docstring
example_function(2, "another test")
print(example_function.__doc__)  # Вывод обновленного docstring