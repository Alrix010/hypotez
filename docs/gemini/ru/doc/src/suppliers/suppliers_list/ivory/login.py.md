# Модуль `login` для поставщика `IVORY`

## Обзор

Модуль `login.py`  предоставляет функциональность для входа в систему поставщика `IVORY`. 
Внутри модуля реализованы функции и классы, которые взаимодействуют с веб-сайтом поставщика, 
получая необходимую информацию для авторизации и 
выполняя вход в личный кабинет.
 

## Подробнее

Модуль  `login.py`  представляет собой точку входа для взаимодействия с поставщиком `IVORY`.
Внутри модуля реализованы классы и функции, которые позволяют выполнять следующие операции:
- **Вход в систему**: 
    - Определение правильного URL-адреса страницы входа.
    - Получение необходимых для авторизации данных, 
    - таких как логин и пароль.
    -  Использование вебдрайвера  для автоматического входа.
- **Проверка успешности входа**: 
    - Анализ веб-страницы после входа, чтобы убедиться, что 
    - авторизация была успешной. 

## Классы

### `IVORYLogin`

**Описание**: Класс `IVORYLogin` предоставляет методы для входа в систему поставщика `IVORY`. 

**Атрибуты**:

- `login_url` (str): URL-адрес страницы входа в систему поставщика.
- `login` (str): Логин для входа в систему.
- `password` (str): Пароль для входа в систему.
- `driver` (`Driver`): Объект вебдрайвера для взаимодействия с веб-сайтом.

**Методы**:

- `login_into_supplier()`:  Метод выполняет вход в систему поставщика. 

## Функции

### `get_login_page_url()`

**Назначение**: Функция возвращает URL-адрес страницы входа в систему поставщика `IVORY`.

**Параметры**:

- `None`

**Возвращает**:

- `str`: URL-адрес страницы входа.

**Как работает функция**:

Функция  `get_login_page_url()` возвращает URL-адрес страницы входа в 
систему поставщика `IVORY`. URL-адрес хранится как константа в файле модуля 
`src/suppliers/suppliers_list/ivory/login.py`.

**Примеры**:

```python
>>> get_login_page_url()
'https://www.ivory.com/login'
```


### `get_credentials()`

**Назначение**: Функция возвращает логин и пароль для входа в систему поставщика `IVORY`. 

**Параметры**:

- `None`

**Возвращает**:

- `dict`: Словарь, содержащий логин и пароль. 

**Как работает функция**:

Функция  `get_credentials()` возвращает логин и пароль для входа в 
систему поставщика `IVORY`. Логин и пароль хранятся как константы в файле модуля 
`src/suppliers/suppliers_list/ivory/login.py`.

**Примеры**:

```python
>>> get_credentials()
{'login': 'user@example.com', 'password': 'password'}
```


### `check_login_success()`

**Назначение**: Функция проверяет, была ли авторизация успешной после 
входа в систему.

**Параметры**:

- `driver` (`Driver`): Объект вебдрайвера.

**Возвращает**:

- `bool`: `True` если авторизация успешна, иначе `False`.

**Как работает функция**:

Функция  `check_login_success()` проверяет, была ли авторизация 
успешной после входа в систему. Она анализирует веб-страницу, 
используя объект вебдрайвера, и возвращает  `True`, если найдет 
специфичный HTML-элемент, характерный для страницы личного кабинета.
 
**Примеры**:

```python
>>> driver = Driver(Chrome)
>>> driver.execute_locator({'by':'XPATH', 'selector': "//div[@id='my-account']"})
True
```



## Параметры 

- `login_url` (str): URL-адрес страницы входа в систему поставщика.
- `login` (str): Логин для входа в систему.
- `password` (str): Пароль для входа в систему.

## Примеры 

```python
from src.suppliers.suppliers_list.ivory import login
from src.webdirver import Driver, Chrome

# Создание инстанса драйвера (пример с Chrome)
driver = Driver(Chrome)

# Получение URL-адреса страницы входа
login_url = login.get_login_page_url()

# Получение логина и пароля
credentials = login.get_credentials()

# Вход в систему
login_object = login.IVORYLogin(login_url, credentials['login'], credentials['password'], driver)
login_object.login_into_supplier()

# Проверка успешности входа
is_login_successful = login.check_login_success(driver)
if is_login_successful:
    print('Вход успешен.')
else:
    print('Ошибка входа.')