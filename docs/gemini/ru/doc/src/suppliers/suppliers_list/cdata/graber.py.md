# Модуль для сбора данных о товарах с Cdata

## Обзор

Модуль содержит класс `Graber`, который используется для сбора данных о товарах с веб-сайта `bangood.com`. Он наследуется от базового класса `src.suppliers.graber.Graber`.

Класс `Graber` предоставляет методы для обработки различных полей товара на странице. 
В случае необходимости нестандартной обработки поля, метод может быть переопределен.

Для каждого поля страницы товара сделана функция обработки поля в родительском `Graber`. 
Если нужна нестандартная обработка, можно перегрузить метод здесь, в этом классе.

## Подробней

Перед отправкой запроса к вебдрайверу можно совершить предварительные действия через декоратор. 
Декоратор по умолчанию находится в родительском классе. 
Для того, чтобы декоратор сработал надо передать значение 
в `Context.locator`, Если надо реализовать свой декоратор - раскомментируйте строки с декоратором и переопределите его поведение.
Вы также можете реализовать свой собственный декоратор, раскомментировав соответствующие строки кода

## Классы

### `Graber`

**Описание**: Класс для операций захвата Morlevi.

**Наследует**: 
    - `src.suppliers.graber.Graber`

**Атрибуты**:
    - `supplier_prefix`: Префикс поставщика (в данном случае, `cdata`).

**Методы**:

    - `__init__(self, driver: Driver, lang_index:int)`: Инициализация класса сбора полей товара. 
        - Устанавливает префикс поставщика `supplier_prefix` для этого конкретного поставщика (в данном случае `cdata`).
        - Вызывает конструктор родительского класса `src.suppliers.graber.Graber` с передачей `supplier_prefix`, `driver` и `lang_index`.
        - Устанавливает глобальные настройки через `Context`. 
        - `Config.locator_for_decorator` устанавливает значение локатора для декоратора `@close_pop_up` (если задано значение - оно выполнится в декораторе).

## Функции

### `close_pop_up`

**Назначение**: Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

**Параметры**:
    - `value` (Any): Дополнительное значение для декоратора.

**Возвращает**:
    - `Callable`: Декоратор, оборачивающий функцию.

**Как работает**:
    - Декорирует функцию `func`.
    - При вызове декорированной функции `func` попытается закрыть всплывающее окно с помощью `Context.driver.execute_locator(Context.locator.close_pop_up)`. 
    - Если возникает `ExecuteLocatorException`, выводит сообщение об ошибке в логгер `logger.debug`.
    - Вызывает декорируемую функцию `func` и возвращает ее результат.

**Примеры**:
    ```python
    @close_pop_up()
    def my_function(param1: str, param2: int) -> str:
        """Пример декорированной функции, которая закрывает всплывающее окно перед выполнением."""
        # ... тело функции my_function ...
    ```

## Примеры

```python
# Создание инстанса драйвера (пример с Chrome)
driver = Driver(Chrome)

# Пример использования класса Graber
graber = Graber(driver, lang_index=0) 

# ... далее, использование методов класса Graber ... 
```