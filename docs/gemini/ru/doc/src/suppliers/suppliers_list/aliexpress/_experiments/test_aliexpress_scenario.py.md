# Модуль для экспериментов с AliExpress

## Обзор

Модуль `test_aliexpress_scenario.py` предназначен для проведения экспериментов, связанных с парсингом и обработкой данных с платформы AliExpress. Он содержит тестовый сценарий и список товаров для тестирования функциональности модуля `src.suppliers.suppliers_list.aliexpress`.

## Подробней

Этот модуль содержит функции и параметры, необходимые для тестирования класса `Product` и его взаимодействия с классом `Supplier`. Он используется для проверки корректности работы парсинга данных о товарах с AliExpress и их добавления в базу данных PrestaShop.

## Классы

В данном модуле классы не определены.

## Функции

### `start_supplier`

```python
def start_supplier(supplier_prefix):
    """
    Функция инициализирует и возвращает экземпляр класса `Supplier`.

    Args:
        supplier_prefix (str): Префикс поставщика, используемый для конфигурации класса `Supplier`.

    Returns:
        Supplier: Возвращает экземпляр класса `Supplier` с заданным префиксом.
    """
```

**Назначение**: Функция `start_supplier` создает и возвращает экземпляр класса `Supplier` с заданным префиксом поставщика.

**Параметры**:
- `supplier_prefix` (str): Префикс поставщика, который используется для настройки экземпляра класса `Supplier`.

**Возвращает**:
- `Supplier`: Экземпляр класса `Supplier`, инициализированный с указанным префиксом.

**Как работает функция**:
- Функция принимает префикс поставщика (`supplier_prefix`) в качестве аргумента.
- Создает словарь `params`, содержащий префикс поставщика.
- Инициализирует класс `Supplier` с использованием переданных параметров.
- Возвращает созданный экземпляр класса `Supplier`.

**Примеры**:

```python
supplier_prefix = 'aliexpress'
s = start_supplier(supplier_prefix)
```

### `start_product`

```python
def start_product():
    """
    Функция инициализирует и возвращает экземпляр класса `Product`.

    Args:
        supplier (Supplier): Объект поставщика, содержащий общие настройки и локаторы.
        webelements_locators (dict): Локаторы веб-элементов для парсинга информации о продукте.
        product_categories (dict): Категории продукта для PrestaShop.

    Returns:
        Product: Возвращает экземпляр класса `Product` с заданными параметрами.
    """
```

**Назначение**: Функция `start_product` создает и возвращает экземпляр класса `Product` с заданными параметрами, включая поставщика, локаторы веб-элементов и категории продукта.

**Параметры**:
- Нет явных параметров, но внутри используется переменная `s` (экземпляр класса `Supplier`), `test_scenario` и `product_fields` (не используются).

**Возвращает**:
- `Product`: Экземпляр класса `Product`, инициализированный с указанными параметрами.

**Как работает функция**:
- Функция создает словарь `params`, содержащий:
  - `supplier`: Экземпляр класса `Supplier`.
  - `webelements_locators`: Локаторы веб-элементов продукта, полученные из `s.locators.get('product')`.
  - `product_categories`: Категории продукта, полученные из `test_scenario['iPhone 13 & 13 MINI']['presta_categories']`.
- Инициализирует класс `Product` с использованием этих параметров.
- Возвращает созданный экземпляр класса `Product`.

**Примеры**:

```python
p = start_product()
```

## Переменные

### `supplier_prefix`

```python
supplier_prefix = 'aliexpress'
```

**Описание**: Префикс поставщика, используемый для инициализации класса `Supplier`.

### `s`

```python
s = start_supplier(supplier_prefix)
```

**Описание**: Экземпляр класса `Supplier`, созданный с использованием префикса `aliexpress`.

### `test_scenario`

```python
test_scenario: dict = {
    "iPhone 13 & 13 MINI": {
        "category ID on site": 40000002781737,
        "brand": "APPLE",
        "url": "https://hi5group.aliexpress.com/store/group/iPhone-13-13-mini/1053035_40000002781737.html",
        "active": True,
        "condition": "new",
        "presta_categories": {
            "template": {
                "apple": "iPhone 13"
            }
        },
        "product combinations": [
            "bundle",
            "color"
        ]
    }
}
```

**Описание**: Словарь, содержащий тестовый сценарий для товаров iPhone 13 и 13 Mini. Включает информацию о категории, бренде, URL, статусе активности, состоянии товара, категориях PrestaShop и комбинациях продуктов.

### `test_products_list`

```python
test_products_list: list = [
    'https://s.click.aliexpress.com/e/_oFLpkfz',
    'https://s.click.aliexpress.com/e/_oE5V3d9',
    'https://s.click.aliexpress.com/e/_oDnvttN',
    'https://s.click.aliexpress.com/e/_olWWQCP',
    'https://s.click.aliexpress.com/e/_ok0xeMn'
]
```

**Описание**: Список URL товаров для тестирования парсинга данных.

### `p`

```python
p = start_product()
```

**Описание**: Экземпляр класса `Product`, созданный с использованием параметров, определенных в функции `start_product`.

### `d`

```python
d = s.driver
```

**Описание**: Драйвер веб-браузера, полученный из экземпляра класса `Supplier`. Используется для взаимодействия с веб-страницами.

### `_`

```python
_ = d.execute_locator
```

**Описание**: Ссылка на метод `execute_locator` драйвера веб-браузера. Используется для выполнения поиска элементов на веб-странице.

### `f`

```python
f = p.fields
```

**Описание**: Ссылка на атрибут `fields` экземпляра класса `Product`. Предположительно содержит поля продукта, которые будут заполняться данными.

### `l`

```python
l = p.webelements_locators
```

**Описание**: Ссылка на локаторы веб-элементов экземпляра класса `Product`. Используются для поиска элементов на веб-странице.

-------------------------------------------------------------------------------------