# Модуль `src.suppliers.aliexpress.api.helpers.requests`

## Обзор

Модуль `src.suppliers.aliexpress.api.helpers.requests` предоставляет функцию `api_request` для отправки запросов к API AliExpress и обработки ответов.

## Подробней

Модуль используется для отправки запросов к API AliExpress и получения ответов. 

## Функции

### `api_request`

**Назначение**:  Функция отправляет запрос к API AliExpress, обрабатывает ответ и возвращает результат.

**Параметры**:

- `request`: Объект запроса, созданный с помощью библиотеки AliExpress API.
- `response_name`: Имя ключа в ответе, содержащего результат.
- `attemps` (int, optional): Количество попыток отправки запроса. По умолчанию `1`.

**Возвращает**:

- `result`: Результат запроса, если код ответа 200.
- `None`: В случае ошибки или если код ответа не 200.

**Вызывает исключения**:

- `ApiRequestException`: Если возникает ошибка при отправке запроса.
- `ApiRequestResponseException`: Если возникает ошибка при обработке ответа.

**Как работает функция**:

1. Функция `api_request` принимает объект запроса `request` и имя ключа ответа `response_name`, которое указывает, где в ответе находится результат.
2.  Функция отправляет запрос с помощью `request.getResponse()`. 
3.  Функция обрабатывает возможные ошибки и возвращает результат.
4.  Если код ответа 200, функция возвращает результат в поле `result` ответа.
5.  Если код ответа не 200, функция возвращает `None` и записывает предупреждающее сообщение в лог.
6.  В случае возникновения ошибки при обработке ответа, функция записывает ошибку в лог и возвращает `None`.

**Примеры**:

```python
from src.suppliers.aliexpress.api.helpers.requests import api_request
# ...
# Инициализация объекта запроса
request = ...
# Отправка запроса
result = api_request(request, 'response_name')
# Проверка результата
if result:
    # Обработка результата
    pprint(result)
else:
    # Обработка ошибки
    print('Ошибка при отправке запроса')
```

## Параметры класса

- `request`: Объект запроса к API AliExpress.
- `response_name`: Имя ключа в ответе, содержащего результат.
- `attemps` (int): Количество попыток отправки запроса. 

**Примеры**:

```python
from src.suppliers.aliexpress.api.helpers.requests import api_request
# ...
# Инициализация объекта запроса
request = ...
# Отправка запроса
result = api_request(request, 'response_name', attemps=3)
# ...