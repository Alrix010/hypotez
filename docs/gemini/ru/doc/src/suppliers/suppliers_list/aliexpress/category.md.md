# Модуль управления категориями AliExpress

## Обзор

Этот модуль предоставляет функциональность для управления категориями на AliExpress. Он позволяет получать ссылки на товары, обновлять списки категорий и взаимодействовать с платформой AliExpress для синхронизации категорий.

## Подробности

Модуль содержит различные функции и методы для взаимодействия с категориями товаров на AliExpress, включая получение ссылок на товары, обновление категорий в файлах сценариев и управление данными о категориях в базе данных.

### Ключевые особенности:

- **Получение ссылок на товары**: Собирает ссылки на товары со страниц категорий.
- **Синхронизация категорий**: Сравнивает и обновляет категории на сайте с теми, что есть в локальных файлах сценариев.
- **Взаимодействие с базой данных**: Предлагает операции с базой данных для управления категориями.

## Функции

### `get_list_products_in_category(s: Supplier) -> list[str, str]`

Получает список ссылок на товары со страницы категории, включая пагинацию.

#### Параметры:

- `s` (`Supplier`): Экземпляр поставщика с драйвером браузера и локаторами.

#### Возвращает:

- Список ссылок на товары со страницы категории.

---

### `get_prod_urls_from_pagination(s: Supplier) -> list[str]`

Извлекает ссылки на товары со страниц категорий, обрабатывая пагинацию.

#### Параметры:

- `s` (`Supplier`): Экземпляр поставщика с драйвером браузера и локаторами.

#### Возвращает:

- Список ссылок на товары.

---

### `update_categories_in_scenario_file(s: Supplier, scenario_filename: str) -> bool`

Сравнивает категории на сайте с теми, что есть в предоставленном файле сценария, и обновляет файл с изменениями.

#### Параметры:

- `s` (`Supplier`): Экземпляр поставщика с драйвером браузера и локаторами.
- `scenario_filename` (`str`): Имя файла сценария, который нужно обновить.

#### Возвращает:

- `True`, если категории были успешно обновлены, `False` в противном случае.

---

### `get_list_categories_from_site(s: Supplier, scenario_file: str, brand: str = '') -> list`

Получает список категорий с сайта AliExpress, основываясь на предоставленном файле сценария.

#### Параметры:

- `s` (`Supplier`): Экземпляр поставщика с драйвером браузера и локаторами.
- `scenario_file` (`str`): Файл сценария, содержащий информацию о категориях.
- `brand` (`str`, optional): Фильтр по бренду для категорий.

#### Возвращает:

- Список категорий с сайта.

---

## Классы

### `DBAdaptor`

Предоставляет методы для взаимодействия с базой данных, позволяя выполнять стандартные операции, такие как `SELECT`, `INSERT`, `UPDATE` и `DELETE` для записей `AliexpressCategory`.

#### Методы:

- `select`: Извлекает записи из таблицы `AliexpressCategory`.
- `insert`: Вставляет новую запись в таблицу `AliexpressCategory`.
- `update`: Обновляет существующую запись в таблице `AliexpressCategory`.
- `delete`: Удаляет запись из таблицы `AliexpressCategory`.

---

## Зависимости

Этот модуль зависит от нескольких других модулей для различных функциональных возможностей:

- `src.db.manager_categories.suppliers_categories`: Для управления категориями в базе данных.
- `src.utils.jjson`: Для работы с данными JSON.
- `src.logger`: Для ведения журнала ошибок и сообщений.
- `requests`: Для выполнения HTTP-запросов для получения данных о категориях с сайта AliExpress.

---

## Пример использования

```python
from src.suppliers.suppliers_list.aliexpress.category import get_list_products_in_category, update_categories_in_scenario_file

# Пример использования
supplier_instance = Supplier()
category_urls = get_list_products_in_category(supplier_instance)
update_categories_in_scenario_file(supplier_instance, 'example_scenario.json')
```

---

## Лицензия

Этот модуль лицензирован под лицензией MIT.