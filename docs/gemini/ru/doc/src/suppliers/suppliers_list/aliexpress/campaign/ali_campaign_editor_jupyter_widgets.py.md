# Модуль для работы с Jupyter widgets для редактора кампаний AliExpress

## Обзор

Модуль содержит класс `JupyterCampaignEditorWidgets`, который предоставляет инструменты для управления кампаниями AliExpress в Jupyter Notebook. Он включает в себя выбор кампаний, категорий, языков и выполнение действий, таких как инициализация редактора, сохранение кампаний и отображение продуктов.

## Подробней

Этот модуль упрощает взаимодействие с кампаниями AliExpress через Jupyter Notebook, предоставляя набор виджетов для выбора кампаний, категорий и языков. Он также обеспечивает возможность инициализации редактора кампаний, сохранения изменений и отображения продуктов.
Анализ данного кода позволяет понять, как он интегрируется в проект hypotez, облегчая управление и настройку рекламных кампаний на AliExpress непосредственно из интерфейса Jupyter Notebook.

## Классы

### `JupyterCampaignEditorWidgets`

**Описание**: Класс `JupyterCampaignEditorWidgets` предоставляет виджеты для взаимодействия с редактором кампаний AliExpress.

**Атрибуты**:
- `language` (str): Выбранный язык.
- `currency` (str): Выбранная валюта.
- `campaign_name` (str): Название выбранной кампании.
- `category_name` (str): Название выбранной категории.
- `category` (SimpleNamespace): Объект, представляющий выбранную категорию.
- `campaign_editor` (AliCampaignEditor): Экземпляр редактора кампаний AliExpress.
- `products` (list[SimpleNamespace]): Список продуктов в выбранной категории.

**Методы**:
- `__init__`: Инициализирует виджеты и настраивает редактор кампаний.
- `initialize_campaign_editor`: Инициализирует редактор кампаний на основе выбранных кампании и категории.
- `update_category_dropdown`: Обновляет выпадающий список категорий на основе выбранной кампании.
- `on_campaign_name_change`: Обрабатывает изменения в выпадающем списке кампаний.
- `on_category_change`: Обрабатывает изменения в выпадающем списке категорий.
- `on_language_change`: Обрабатывает изменения в выпадающем списке языков.
- `save_campaign`: Сохраняет кампанию и её категории.
- `show_products`: Отображает продукты в выбранной категории.
- `open_spreadsheet`: Открывает Google Spreadsheet в браузере.
- `setup_callbacks`: Устанавливает обратные вызовы для виджетов.
- `display_widgets`: Отображает виджеты для взаимодействия в Jupyter Notebook.

**Принцип работы**:

Класс `JupyterCampaignEditorWidgets` создает набор интерактивных виджетов, которые позволяют пользователю выбирать кампанию, категорию и язык из соответствующих выпадающих списков. При инициализации класса устанавливаются обратные вызовы для этих виджетов, чтобы реагировать на изменения выбора пользователя.

Когда пользователь выбирает кампанию, категорию или язык, соответствующие методы (`on_campaign_name_change`, `on_category_change`, `on_language_change`) вызываются для обновления состояния виджетов и инициализации редактора кампаний (`AliCampaignEditor`).

Редактор кампаний используется для сохранения кампаний, отображения продуктов и открытия Google Spreadsheet, связанного с кампанией.

Метод `display_widgets` отображает все виджеты в Jupyter Notebook, предоставляя пользователю интерфейс для взаимодействия с редактором кампаний.

## Методы класса

### `__init__`

```python
def __init__(self):
    """Инициализирует виджеты и настраивает редактор кампаний.

    Настраивает виджеты для выбора кампаний, категорий и языков. Также устанавливает
    значения по умолчанию и обратные вызовы для виджетов.

    Raises:
        FileNotFoundError: Если директория кампаний не существует.
    """
    ...
```
### `initialize_campaign_editor`

```python
def initialize_campaign_editor(self, _):
    """Инициализирует редактор кампаний.

    Args:
        _: Неиспользуемый аргумент, необходимый для обратного вызова кнопки.

    Устанавливает редактор кампаний на основе выбранной кампании и категории.
    """
    ...
```

### `update_category_dropdown`

```python
def update_category_dropdown(self, campaign_name: str):
    """Обновляет выпадающий список категорий на основе выбранной кампании.

    Args:
        campaign_name (str): Название кампании.
    """
    ...
```

### `on_campaign_name_change`

```python
def on_campaign_name_change(self, change: dict[str, str]):
    """Обрабатывает изменения в выпадающем списке кампаний.

    Args:
        change (dict[str, str]): Словарь изменений, содержащий новое значение.
    """
    ...
```

### `on_category_change`

```python
def on_category_change(self, change: dict[str, str]):
    """Обрабатывает изменения в выпадающем списке категорий.

    Args:
        change (dict[str, str]): Словарь изменений, содержащий новое значение.
    """
    ...
```

### `on_language_change`

```python
def on_language_change(self, change: dict[str, str]):
    """Обрабатывает изменения в выпадающем списке языков.

    Args:
        change (dict[str, str]): Словарь изменений, содержащий новое значение.
    """
    ...
```

### `save_campaign`

```python
def save_campaign(self, _):
    """Сохраняет кампанию и её категории.

    Args:
        _: Неиспользуемый аргумент, необходимый для обратного вызова кнопки.
    """
    ...
```

### `show_products`

```python
def show_products(self, _):
    """Отображает продукты в выбранной категории.

    Args:
        _: Неиспользуемый аргумент, необходимый для обратного вызова кнопки.
    """
    ...
```

### `open_spreadsheet`

```python
def open_spreadsheet(self, _):
    """Открывает Google Spreadsheet в браузере.

    Args:
        _: Неиспользуемый аргумент, необходимый для обратного вызова кнопки.
    """
    ...
```

### `setup_callbacks`

```python
def setup_callbacks(self):
    """Устанавливает обратные вызовы для виджетов."""
    ...
```

### `display_widgets`

```python
def display_widgets(self):
    """Отображает виджеты для взаимодействия в Jupyter Notebook.

    Инициализирует редактор кампаний автоматически с первой выбранной кампанией.
    """
    ...
```

## Параметры класса

- `language` (str): Выбранный язык.
- `currency` (str): Выбранная валюта.
- `campaign_name` (str): Название выбранной кампании.
- `category_name` (str): Название выбранной категории.
- `category` (SimpleNamespace): Объект, представляющий выбранную категорию.
- `campaign_editor` (AliCampaignEditor): Экземпляр редактора кампаний AliExpress.
- `products` (list[SimpleNamespace]): Список продуктов в выбранной категории.

## Примеры

### Инициализация и отображение виджетов

```python
editor_widgets: JupyterCampaignEditorWidgets = JupyterCampaignEditorWidgets()
editor_widgets.display_widgets()
```

### Обработка изменений в выпадающем списке кампаний
```python
self.on_campaign_name_change({'new': 'SummerSale'})
```

### Обработка изменений в выпадающем списке категорий
```python
self.on_category_change({'new': 'Electronics'})
```

### Обработка изменений в выпадающем списке языков
```python
self.on_language_change({'new': 'EN USD'})