# Документация модуля graber.py

## Обзор

Модуль `graber.py` предназначен для сбора информации о товарах с сайта `wallashop.co.il`. Он содержит класс `Graber`, который наследует функциональность от родительского класса `Graber` (обозначенного как `Grbr`) и специализируется на обработке данных именно для этого поставщика.

## Подробней

Модуль предназначен для парсинга страниц товаров на сайте `wallashop.co.il`. Он использует веб-драйвер для получения данных и выполняет специфические операции обработки, необходимые для этого сайта. В случае, если стандартные методы обработки полей, предоставляемые родительским классом, не подходят, они переопределяются в данном классе.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для извлечения данных о товарах с сайта `wallashop.co.il`. Он наследует базовую функциональность парсинга от класса `Graber` (`Grbr`) и адаптирует её для конкретного поставщика.

**Наследует**:
- `src.suppliers.graber.Graber` (`Grbr`): Родительский класс, предоставляющий общую логику для парсинга сайтов поставщиков.

**Атрибуты**:
- `supplier_prefix` (str): Префикс поставщика, устанавливается как `'wallashop'`.

**Методы**:
- `__init__`: Инициализирует экземпляр класса `Graber`, устанавливает префикс поставщика и вызывает конструктор родительского класса.
- `close_pop_up`: Декоратор для закрытия всплывающих окон.

**Принцип работы**:
Класс `Graber` инициализируется с указанием веб-драйвера и индекса языка. Он устанавливает префикс поставщика (`wallashop`) и вызывает конструктор родительского класса `Graber` (`Grbr`) для выполнения базовой настройки. Также класс позволяет определить локатор для декоратора `@close_pop_up`, который может быть использован для автоматического закрытия всплывающих окон на сайте.

## Методы класса

### `__init__`

```python
def __init__(self, driver: Driver, lang_index: int):
    """Инициализация класса сбора полей товара.

    Args:
        driver (Driver): Экземпляр веб-драйвера для управления браузером.
        lang_index (int): Индекс языка, используемый для локализации.

    Returns:
        None

    Raises:
        Exception: Если возникает ошибка при инициализации.

    Как работает функция:
    - Устанавливает атрибут `supplier_prefix` равным 'wallashop'.
    - Вызывает конструктор родительского класса `Graber` (`Grbr`) с указанием префикса поставщика, драйвера и индекса языка.
    - Устанавливает `Context.locator_for_decorator` в `None`, что позволяет при необходимости задавать локаторы для выполнения действий в декораторе `@close_pop_up`.

    Примеры:
        >>> driver = Driver(Chrome)
        >>> grabber = Graber(driver, 0)
    """
    ...
```

### `close_pop_up`

```python
@close_pop_up
def some_method(self):
    """Декоратор для закрытия всплывающих окон.
    Декоратор выполняет предопределённые действия, предназначенные для закрытия всплывающих окон, модальных окон или баннеров, которые могут мешать сбору информации со страницы.
    Конкретные действия, выполняемые декоратором `@close_pop_up`, зависят от текущего значения `Context.locator_for_decorator`.
    Args:
        self: Экземпляр класса.
    Returns:
        None
    """
    ...
```

## Параметры класса

- `supplier_prefix` (str): Префикс поставщика, используемый для идентификации `wallashop`.
- `driver` (`src.webdriver.driver.Driver`): Экземпляр веб-драйвера, используемый для взаимодействия с сайтом `wallashop`.
- `lang_index` (int): Индекс языка, используемый для локализации контента на сайте.

**Примеры**:

```python
from src.webdriver.driver import Driver, Chrome

# Создание экземпляра драйвера
driver = Driver(Chrome)

# Создание экземпляра класса Graber
graber = Graber(driver, 0)