# Модуль сбора товаров со страницы категорий поставщика kualastyle.il через вебдрайвер

## Обзор

Модуль предназначен для сбора информации о товарах с сайта поставщика kualastyle.il, используя веб-драйвер для навигации и извлечения данных. Он включает функции для получения списка категорий товаров, списка товаров в каждой категории и обработки страниц товаров.

## Подробней

Этот модуль является частью системы сбора данных о товарах от различных поставщиков для проекта `hypotez`. Он автоматизирует процесс сбора данных, взаимодействуя с веб-сайтом поставщика через веб-драйвер. Модуль включает в себя функции для навигации по сайту, извлечения URL товаров и категорий, а также обработки информации о товарах.

## Функции

### `get_list_products_in_category`

```python
def get_list_products_in_category (s: Supplier) -> list[str, str, None]:
    """ Returns list of products urls from category page
    Если надо пролистстать - страницы категорий - листаю ??????

    Attrs:
        s - Supplier
    @returns
        list or one of products urls or None
    """
    ...
```

**Назначение**: Извлекает список URL-адресов товаров со страницы категории.

**Параметры**:
- `s` (Supplier): Объект поставщика, содержащий информацию о текущем поставщике, включая драйвер и локаторы элементов.

**Возвращает**:
- `list[str, str, None]`: Список URL-адресов товаров, найденных на странице категории. Может вернуть `None`, если список товаров не найден.

**Как работает функция**:
1. Функция извлекает объект `driver` и локаторы из объекта поставщика `s`.
2. Ожидает 1 секунду.
3. Выполняет локатор для закрытия баннера, если он отображается.
4. Прокручивает страницу для загрузки всех элементов.
5. Извлекает список ссылок на товары с использованием локатора `product_links`.
6. Если ссылки на товары не найдены, записывает предупреждение в лог и возвращает `None`.
7. Организует пагинацию по страницам категорий.
8. Добавляет ссылки на товары на каждой странице в общий список.
9. Записывает в лог количество найденных товаров в категории.
10. Возвращает список URL-адресов товаров.

**Примеры**:

Пример вызова функции:

```python
from src.suppliers.suppliers_list.kualastyle.sceanrio import get_list_products_in_category
from src.suppliers import Supplier  # Предполагается, что класс Supplier определен в src.suppliers

# Создание экземпляра класса Supplier (пример)
supplier = Supplier(...)  # Замените ... на необходимые аргументы для инициализации Supplier

# Вызов функции
product_list = get_list_products_in_category(supplier)

if product_list:
    print(f"Найдено {len(product_list)} товаров в категории.")
    for product_url in product_list:
        print(product_url)
else:
    print("Не удалось получить список товаров в категории.")
```

### `paginator`

```python
def paginator(d:Driver, locator: dict, list_products_in_category: list):
    """ Листалка """
    response = d.execute_locator(locator['pagination']['<-'])
    if not response or (isinstance(response, list) and len(response) == 0):
        ...
        return
    return True
```

**Назначение**: Осуществляет навигацию по страницам категорий, если они разбиты на несколько страниц.

**Параметры**:
- `d` (Driver): Объект драйвера веб-браузера.
- `locator` (dict): Словарь с локаторами элементов для пагинации.
- `list_products_in_category` (list): Текущий список URL-адресов товаров в категории.

**Возвращает**:
- `True`, если пагинация выполнена успешно.
- `None`, если пагинация не удалась.

**Как работает функция**:
1. Функция пытается выполнить клик по локатору кнопки "назад" (`'<-'`) в блоке пагинации.
2. Если кнопка "назад" не найдена или неактивна, функция возвращает `None`.
3. В случае успешного клика функция возвращает `True`.

**Примеры**:

Пример вызова функции:

```python
from src.suppliers.suppliers_list.kualastyle.sceanrio import paginator
from src.webdriver.driver import Driver

# Создание экземпляра класса Driver (пример)
driver = Driver(...)  # Замените ... на необходимые аргументы для инициализации Driver

# Пример словаря локаторов
locator = {
    'pagination': {
        '<-': {'by': 'xpath', 'selector': '//a[@class="pagination-prev"]'}
    }
}

# Пример списка товаров
list_products = ['https://example.com/product1', 'https://example.com/product2']

# Вызов функции
pagination_result = paginator(driver, locator, list_products)

if pagination_result:
    print("Переход на следующую страницу выполнен.")
else:
    print("Пагинация не удалась.")
```

### `get_list_categories_from_site`

```python
def get_list_categories_from_site(s):
    """ сборщик актуальных категорий с сайта """
    ...
```

**Назначение**: Собирает актуальный список категорий с сайта поставщика.

**Параметры**:
- `s`: Параметр не указан в документации. Необходимо добавить описание этого параметра.

**Возвращает**:
- Возвращаемое значение не указано в документации. Необходимо добавить описание возвращаемого значения.

**Как работает функция**:
- Логика работы функции не представлена в предоставленном коде (`...`).

**Примеры**:

Примеры вызова функции отсутствуют.

```python