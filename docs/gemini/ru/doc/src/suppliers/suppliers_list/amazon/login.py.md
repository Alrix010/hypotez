# Модуль авторизации для Amazon

## Обзор

Модуль `login.py` предназначен для автоматизации процесса авторизации на сайте Amazon с использованием веб-драйвера. Он содержит функцию `login`, которая принимает объект поставщика (Supplier) в качестве аргумента и выполняет шаги, необходимые для входа в систему.

## Подробней

Этот модуль является частью системы автоматизации, которая взаимодействует с сайтом Amazon для выполнения различных задач, таких как сбор данных о товарах или управление заказами. Функция `login` использует локаторы элементов на странице входа для заполнения учетных данных и нажатия кнопок, имитируя действия пользователя.

## Функции

### `login(s)`

**Назначение**: Выполняет процесс авторизации на сайте Amazon.

**Параметры**:

-   `s` (Supplier): Объект поставщика, содержащий конфигурацию, локаторы элементов и инстанс веб-драйвера.

**Возвращает**:

-   `bool`: `True`, если вход в систему выполнен успешно, в противном случае `False`.

**Как работает функция**:

1.  Функция принимает объект поставщика `s`, извлекает локаторы элементов для страницы входа из `s.locators_store['login']` и инстанс веб-драйвера из `s.driver`.
2.  Устанавливает фокус на окно браузера и переходит на страницу Amazon.
3.  Пытается нажать на кнопку открытия формы ввода логина. Если первая попытка не удалась, обновляет страницу, повторно устанавливает фокус и пробует снова. Если и вторая попытка не удалась, регистрирует отладочное сообщение.
4.  Вводит email, пароль, активирует чекбокс "keep_signed_in_checkbox" и нажимает кнопку подтверждения входа, используя локаторы из объекта `_l`. После каждого действия ждет 0.7 секунды.
5.  Проверяет текущий URL после попытки входа. Если URL совпадает со страницей входа, регистрирует ошибку и возвращает `None`.
6.  Увеличивает окно браузера до максимального размера.
7.  Логирует информацию об успешном входе.
8.  Возвращает `True` в случае успешного входа.

**Примеры**:

```python
from src.suppliers.suppliers_list.amazon.login import login
from src.webdirver import Driver, Chrome
# Допустим, у нас есть объект поставщика `supplier` с настроенными локаторами и драйвером
# supplier = Supplier(...)
# Создание инстанса драйвера (пример с Chrome)
driver = Driver(Chrome)
# Вызов функции логина
success = login(supplier)

if success:
    print("Вход выполнен успешно!")
else:
    print("Не удалось войти в систему.")