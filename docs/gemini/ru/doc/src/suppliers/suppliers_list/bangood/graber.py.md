# Модуль для сбора данных о товарах с Bangood

## Обзор

Модуль содержит класс :class:`Graber`, который используется для сбора данных о товарах с веб-сайта `bangood.com`. Он наследуется от базового класса :class:`src.suppliers.graber.Graber`.

Класс `Graber` предоставляет методы для обработки различных полей товара на странице. В случае необходимости нестандартной обработки поля, метод может быть переопределен.

## Подробней

Для каждого поля страницы товара сделана функция обработки поля в родительском `Graber`. Если нужна нестандертная обработка, можно перегрузить метод здесь, в этом классе.

------------------

Перед отправкой запроса к вебдрайверу можно совершить предварительные действия через декоратор. 
Декоратор по умолчанию находится в родительском классе. Для того, чтобы декоратор сработал надо передать значение 
в `Context.locator`, Если надо реализовать свой декоратор - раскоментируйте строки с декоратором и переопределите его поведение.
Вы также можете реализовать свой собственный декоратор, раскомментировав соответствующие строки кода

## Классы

### `Graber`

**Описание**: Класс для операций захвата Morlevi.

**Наследует**: :class:`src.suppliers.graber.Graber`

**Атрибуты**:

- `supplier_prefix` (str): Префикс поставщика.

**Методы**:

- `__init__(self, driver: Driver, lang_index:int)`: Инициализация класса сбора полей товара.

## Функции

### `close_pop_up`

**Назначение**: Создает декоратор для закрытия всплывающих окон перед выполнением основной логики функции.

**Параметры**:

- `value` (Any, optional): Дополнительное значение для декоратора. По умолчанию `None`.

**Возвращает**:

- `Callable`: Декоратор, оборачивающий функцию.

**Примеры**:

```python
# Пример использования декоратора
@close_pop_up()
def my_function():
    # Основная логика функции
    pass
```

**Как работает функция**: 

Декоратор `close_pop_up`  используется для  закрытия всплывающих окон перед выполнением основной логики функции. Декоратор  выполняет  следующие действия:
- Оборачивает  функцию-мишень  в  `wrapper`  функцию.
- Выполняет  команду  закрытия  всплывающего  окна  перед  вызовом  функции-мишени.
- Возвращает  результат  выполнения  функции-мишени.

**Пример использования**:

```python
@close_pop_up(value='some_value')
def my_function():
    # Основная логика функции
    pass
```

## Параметры класса

### `supplier_prefix`

**Описание**: Префикс поставщика.

**Пример**:

```python
# Установка префикса поставщика
graber = Graber(driver, lang_index)
graber.supplier_prefix = 'bangood'
```

## Методы класса

### `__init__`

```python
def __init__(self, driver: Driver, lang_index:int):
    """Инициализация класса сбора полей товара."""
    self.supplier_prefix = 'bangood'
    super().__init__(supplier_prefix=self.supplier_prefix, driver=driver, lang_index=lang_index)
    # Устанавливаем глобальные настройки через Context

    Config.locator_for_decorator = None # <- если будет уастановлено значение - то оно выполнится в декораторе `@close_pop_up`

```

**Описание**: Инициализирует класс `Graber`. 

**Параметры**:

- `driver` (Driver): Вебдрайвер для взаимодействия с веб-страницей.
- `lang_index` (int): Индекс языка для обработки.

**Как работает функция**:

- Устанавливает префикс поставщика `supplier_prefix` в значение `bangood`.
- Вызывает конструктор родительского класса `Graber`, передавая ему `supplier_prefix`, `driver` и `lang_index`.
- Устанавливает глобальные настройки через `Context`.


**Примеры**:

```python
# Инициализация класса Graber
graber = Graber(driver, lang_index)
```

## Примеры

```python
# Создание инстанса драйвера (пример с Chrome)
driver = Driver(Chrome)

# Инициализация класса Graber
graber = Graber(driver, lang_index=0)

# Выполнение локатора
result = graber.driver.execute_locator(locator)