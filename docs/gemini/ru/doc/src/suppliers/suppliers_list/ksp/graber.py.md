# Модуль: Сборщик данных с сайта KSP (graber.py)

## Обзор

Модуль `graber.py` предназначен для сбора данных о товарах с сайта `ksp.co.il`. Он содержит класс `Graber`, который наследует функциональность от родительского класса `Graber` (Grbr) и специализируется на обработке данных именно с этого сайта. В модуле реализована логика для извлечения различных полей товара, таких как наименование, цена, описание и характеристики. Если для какого-либо поля требуется нестандартная обработка, соответствующая функция переопределяется в этом классе.

## Подробней

Модуль предназначен для автоматизированного сбора информации о товарах с сайта `ksp.co.il`. Он использует веб-драйвер для навигации по сайту и извлечения данных. Особенностью данного модуля является возможность переопределения функций обработки полей товара для нестандартных случаев.

Перед отправкой запроса к веб-драйверу можно выполнить предварительные действия с помощью декоратора. Декоратор по умолчанию находится в родительском классе. Для того, чтобы декоратор сработал, нужно передать значение в `Context.locator`. Если необходимо реализовать свой декоратор, раскомментируйте строки с декоратором и переопределите его поведение.

## Классы

### `Graber`

**Описание**: Класс `Graber` предназначен для сбора данных о товарах с сайта `ksp.co.il`. Он наследует функциональность от родительского класса `Graber` (Grbr) и специализируется на обработке данных именно с этого сайта.

**Наследует**:
- `Graber` (из `src.suppliers.graber`): Родительский класс, содержащий общую логику для сбора данных с сайтов поставщиков.

**Атрибуты**:
- `supplier_prefix` (str): Префикс поставщика, который используется для идентификации поставщика в системе.

**Методы**:
- `__init__(self, driver: Optional['Driver'] = None, lang_index: Optional[int] = None)`: Инициализирует экземпляр класса `Graber`.

### `__init__`
```python
 def __init__(self, driver: Optional['Driver'] = None, lang_index: Optional[int] = None) -> None:
    """Инициализация класса сбора полей товара.

    Args:
        driver (Optional['Driver'], optional): Экземпляр веб-драйвера для управления браузером. По умолчанию `None`.
        lang_index (Optional[int], optional): Индекс языка, используемого на сайте. По умолчанию `None`.

    Raises:
        Exception: Если возникает ошибка при инициализации класса.
    """
```
**Как работает функция**:

- Устанавливает префикс поставщика (`supplier_prefix`) в значение `'ksp'`.
- Вызывает конструктор родительского класса `Graber` (Grbr) с указанием префикса поставщика, экземпляра веб-драйвера и индекса языка.
- Приостанавливает выполнение на 3 секунды, чтобы дать странице полностью загрузиться.
- Проверяет, является ли текущий URL мобильной версией сайта. Если это так, загружает соответствующие локаторы для мобильной версии.
- Устанавливает значение `Config.locator_for_decorator` в `None`, чтобы убедиться, что декоратор `@close_pop_up` не будет выполнен.

**Примеры**:
```python
# Пример создания экземпляра класса Graber
from src.webdriver import Driver
from src.webdriver.chrome import Chrome

driver = Driver(Chrome)
graber = Graber(driver=driver, lang_index=0)