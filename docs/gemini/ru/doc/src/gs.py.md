# Документация модуля: src/gs.py

## Обзор

Модуль `src/gs.py` предназначен для загрузки основных параметров конфигурации программы `hypotez` из файла `config.json`. Этот метод используется в случаях, когда не применяется хранилище паролей KeePass для получения настроек.

## Подробнее

Согласно существующей документации, этот подход с загрузкой из `.env` файлов (или, как показывает код, из `config.json`) рассматривается как менее предпочтительный по сравнению с использованием KeePass и помечен как "крайне неудобный способ", который "не надо так делать". Тем не менее, модуль обеспечивает функциональность загрузки конфигурации, вероятно, для определенных сценариев развертывания или тестирования, когда KeePass недоступен или не используется. Основное действие модуля — загрузка JSON-файла `src/config.json` в переменную `gs` при импорте модуля.

## Содержание

-   [Переменные](#переменные)
    -   [`gs`](#gs)

## Переменные

### `gs`

**Назначение**: Хранит загруженные параметры конфигурации программы.

**Тип**: `dict` (тип данных, возвращаемый функцией `j_loads_ns`, обычно словарь)

**Описание**: Эта переменная уровня модуля инициализируется при импорте `src/gs.py`. Значение загружается из файла `config.json` в директории `src` относительно корневой директории проекта (`__root__`) с использованием функции `j_loads_ns`. Функция `j_loads_ns` предназначена для безопасной загрузки JSON с возможностью обработки пространств имен. Переменная `gs` затем становится доступной для использования в других частях программы, которые импортируют этот модуль.

**Как инициализируется**:

-   Используется путь к корневой директории проекта (`__root__`), импортированный из модуля `header`.
-   Путь к файлу конфигурации формируется как соединение корневой директории, папки `src` и имени файла `config.json`.
-   Функция `j_loads_ns` вызывается с этим путем для чтения и парсинга JSON-данных.
-   Результат присваивается переменной `gs`.

```python
gs = j_loads_ns(__root__ / 'src' / 'config.json')
```

**Примеры использования**:

Другие модули могут импортировать `gs` и использовать его содержимое для получения настроек:

```python
# В другом файле (например, src/some_module.py)

from src.gs import gs

# Использование настроек из gs
database_url = gs.get('database', {}).get('url')
api_key = gs.get('api_credentials', {}).get('some_service_key')

# Пример: получить значение параметра 'some_setting' из секции 'general'
some_setting_value = gs.get('general', {}).get('some_setting')

print(f"Database URL: {database_url}")
print(f"Some API Key: {api_key}")
print(f"Some Setting Value: {some_setting_value}")

```