# Модуль для работы с датой и временем

## Обзор

Модуль `src.utils.date_time.py` предоставляет набор функций для работы с датой и временем, 
включая проверку времени на попадание в заданный интервал с опциональным тайм-аутом, 
а также для получения пользовательского ввода с тайм-аутом.

## Классы

### `TimeoutCheck`

**Описание**:  Класс `TimeoutCheck` используется для проверки текущего времени на попадание в 
заданный интервал времени, а также для получения пользовательского ввода с заданным тайм-аутом. 
Класс использует потоки для реализации проверки времени и ожидания ввода.

**Атрибуты**:

- `result` (`None`): Хранит результат проверки попадания текущего времени в заданный интервал. 
Используется в методах `interval` и `interval_with_timeout`.
- `user_input` (`str`): Хранит ввод от пользователя. Используется в методах `get_input` и `input_with_timeout`.

**Методы**:

- `interval(self, start: time = time(23, 0), end: time = time(6, 0)) -> bool`

    **Назначение**: Проверяет, находится ли текущее время в заданном интервале. 
    
    **Параметры**:

    - `start` (`time`): Начало интервала (по умолчанию 23:00).
    - `end` (`time`): Конец интервала (по умолчанию 06:00).
    
    **Возвращает**:

    - `bool`: `True`, если текущее время находится в интервале, иначе `False`.
    
    **Как работает**:

    - Метод получает текущее время с помощью `datetime.now().time()`.
    - Если интервал не охватывает полночь (`start < end`), то проверяется, находится ли текущее время 
    между `start` и `end`.
    - Если интервал охватывает полночь (`start > end`), то проверяется, находится ли текущее время 
    до `start` или после `end`. 
    - Результат проверки сохраняется в атрибуте `result`.

- `interval_with_timeout(self, timeout: int = 5, start: time = time(23, 0), end: time = time(6, 0)) -> bool`

    **Назначение**: Проверяет, находится ли текущее время в заданном интервале с тайм-аутом. 
    
    **Параметры**:

    - `timeout` (`int`): Время ожидания в секундах для проверки интервала (по умолчанию 5 секунд).
    - `start` (`time`): Начало интервала (по умолчанию 23:00).
    - `end` (`time`): Конец интервала (по умолчанию 06:00).
    
    **Возвращает**:

    - `bool`: `True`, если текущее время находится в интервале и ответ получен 
    в течение тайм-аута, `False`, если время не в интервале или тайм-аут произошел.
    
    **Как работает**:

    - Метод создает новый поток для выполнения метода `interval` с заданными параметрами. 
    - Запускает поток. 
    - Ожидает завершения потока или тайм-аута.
    - Если поток все еще активен после тайм-аута, выводит сообщение о тайм-ауте и 
    ожидает завершения потока (чтобы избежать ситуации, когда поток остается активным 
    после завершения основной программы). 
    - Возвращает `False`, если тайм-аут произошел, иначе возвращает результат из атрибута `result`.

- `get_input(self)`

    **Назначение**: Запрашивает ввод от пользователя.
    
    **Параметры**:
    
    - Нет параметров.
    
    **Возвращает**:
    
    - Нет возвращаемого значения.
    
    **Как работает**:
    
    - Метод использует `input()` для получения строки от пользователя. 
    - Полученный ввод сохраняется в атрибуте `user_input`.

- `input_with_timeout(self, timeout: int = 5) -> str | None`

    **Назначение**: Ожидает ввод с тайм-аутом. 
    
    **Параметры**:

    - `timeout` (`int`): Время ожидания ввода в секундах (по умолчанию 5 секунд).
    
    **Возвращает**:

    - `str | None`: Введенные данные или `None`, если тайм-аут произошел.
    
    **Как работает**:

    - Метод создает новый поток для выполнения метода `get_input`. 
    - Запускает поток. 
    - Ожидает завершения потока или тайм-аута.
    - Если поток все еще активен после тайм-аута, выводит сообщение о тайм-ауте 
    и возвращает `None`. 
    - Если тайм-аут не произошел, возвращает значение из атрибута `user_input`.

## Примеры

```python
# Example usage
timeout_check = TimeoutCheck()

# Check interval with a timeout of 5 seconds
if timeout_check.interval_with_timeout(timeout=5):
    print("Current time is within the interval.")
else:
    print("Current time is outside the interval or timeout occurred.")

# Get input with a timeout of 5 seconds
user_input = timeout_check.input_with_timeout(timeout=5)
if user_input:
    print(f"User input: {user_input}")
else:
    print("Timeout occurred while waiting for user input.")
```