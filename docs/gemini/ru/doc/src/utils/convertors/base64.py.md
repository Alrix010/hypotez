# Модуль: src.utils.convertors.base64

## Обзор

Модуль `src.utils.convertors.base64` предназначен для преобразования содержимого, закодированного в формате Base64, во временный файл. Он содержит функции для декодирования Base64 и записи полученных данных во временный файл с указанным расширением.

## Подробней

Этот модуль предоставляет функцию для декодирования содержимого в формате Base64 и записи его во временный файл. Он использует модули `base64`, `tempfile` и `os` для выполнения этих задач. Модуль предназначен для работы с данными, закодированными в Base64, и создания временных файлов для их хранения.

## Функции

### `base64_to_tmpfile`

**Назначение**: Преобразует содержимое, закодированное в Base64, во временный файл.

**Параметры**:
- `content` (str): Содержимое, закодированное в Base64, которое необходимо декодировать и записать в файл.
- `file_name` (str): Имя файла, используемое для извлечения расширения файла для временного файла.

**Возвращает**:
- `str`: Путь к созданному временному файлу.

**Как работает функция**:
1. Функция извлекает расширение файла из предоставленного имени файла (`file_name`), используя `os.path.splitext(file_name)`.
2. Создает временный файл с использованием `tempfile.NamedTemporaryFile`, указывая, что файл не должен быть удален автоматически (`delete=False`) и используя расширение, полученное из имени файла (`suffix=ext`).
3. Декодирует содержимое Base64, используя `base64.b64decode(content)`, и записывает его во временный файл.
4. Получает путь к созданному временному файлу и возвращает его.

**Примеры**:

```python
>>> base64_content = "SGVsbG8gd29ybGQh"  # Содержимое "Hello world!", закодированное в Base64
>>> file_name = "example.txt"
>>> tmp_file_path = base64_to_tmpfile(base64_content, file_name)
>>> print(f"Временный файл создан по пути: {tmp_file_path}")
Временный файл создан по пути: /tmp/tmpfile.txt
```

### `base64encode`

**Назначение**: Кодирует изображение в формат Base64.

**Параметры**:
- `image_path` (str): Путь к файлу изображения, который нужно закодировать.

**Возвращает**:
- `str`: Строка, содержащая закодированное в Base64 представление изображения.

**Как работает функция**:
1. Открывает файл изображения по указанному пути (`image_path`) в режиме чтения бинарных данных (`"rb"`).
2. Читает содержимое файла изображения.
3. Кодирует содержимое файла изображения в формат Base64 с помощью `base64.b64encode()`.
4. Декодирует результат кодирования в строку UTF-8, используя `.decode('utf-8')`.

**Примеры**:
```python
>>> image_path = "example.jpg"
>>> encoded_string = base64encode(image_path)
>>> print(f"Закодированная строка: {encoded_string[:100]}...")
Закодированная строка: /9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLCQo...