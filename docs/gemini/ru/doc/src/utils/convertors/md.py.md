# Модуль для конвертации Markdown в словарь

## Обзор

Модуль `md2dict` предназначен для конвертации строки Markdown в структурированный словарь. Он анализирует текст Markdown, извлекает заголовки и текст, и создает словарь, где ключи - это заголовки первого уровня (h1), а значения - списки строк, представляющие текст под соответствующим заголовком. Дополнительно модуль может извлекать JSON-содержимое, если оно присутствует в тексте Markdown. 

## Подробней

Этот модуль используется в проекте `hypotez` для обработки документации, написанной на языке Markdown. Он позволяет преобразовать текст Markdown в структурированный словарь, который затем может использоваться для различных целей, таких как:

- Создание индекса документации.
- Извлечение ключевой информации из Markdown-файлов.
- Генерация HTML-версии Markdown-файлов.

## Функции

### `md2html`

**Назначение**: Преобразует строку Markdown в HTML.

**Параметры**:

- `md_string` (str): Строка Markdown для конвертации.
- `extras` (list, optional): Список расширений markdown2. По умолчанию `None`.

**Возвращает**:

- `str`: HTML-представление Markdown.

**Вызывает исключения**:

- `Exception`: Если возникает ошибка при преобразовании Markdown в HTML.

**Как работает функция**:

- Функция использует библиотеку `markdown2` для конвертации строки Markdown в HTML.
- Она проверяет, были ли переданы дополнительные параметры для `markdown2`.
- Если нет, она использует стандартные настройки `markdown2`.
- Если есть, она передает эти параметры в `markdown2`.

**Примеры**:

```python
from src.utils.convertors.md2dict import md2html

md_string = """
# Заголовок 1

Это текст под заголовком 1.

## Заголовок 2

Это текст под заголовком 2.
"""

html = md2html(md_string)

print(html)
```

### `md2dict`

**Назначение**: Конвертирует строку Markdown в структурированный словарь.

**Параметры**:

- `md_string` (str): Строка Markdown для конвертации.
- `extras` (list, optional): Список расширений markdown2 для `md2html`. По умолчанию `None`.

**Возвращает**:

- `Dict[str, list[str]]`: Структурированное представление Markdown-содержимого.

**Вызывает исключения**:

- `Exception`: Если возникает ошибка при парсинге Markdown в структурированный словарь.

**Как работает функция**:

- Функция сначала конвертирует строку Markdown в HTML с помощью функции `md2html`.
- Затем она анализирует полученный HTML-код, извлекая заголовки первого уровня (h1) и текст под каждым заголовком.
- Она создает словарь, где ключи - это заголовки h1, а значения - списки строк, представляющие текст под соответствующим заголовком.

**Примеры**:

```python
from src.utils.convertors.md2dict import md2dict

md_string = """
# Заголовок 1

Это текст под заголовком 1.

## Заголовок 2

Это текст под заголовком 2.

# Заголовок 3

Это текст под заголовком 3.
"""

sections = md2dict(md_string)

print(sections)
```

**Вывод**:

```python
{'Заголовок 1': ['Это текст под заголовком 1.', 'Заголовок 2', 'Это текст под заголовком 2.'], 'Заголовок 3': ['Это текст под заголовком 3.']}