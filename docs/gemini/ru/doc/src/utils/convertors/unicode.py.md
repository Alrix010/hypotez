# Модуль для декодирования Unicode-символов

## Обзор

Модуль содержит функцию `decode_unicode_escape`, которая используется для преобразования Unicode escape-последовательностей в строках, списках и словарях в читаемый вид.

## Подробнее

Модуль предоставляет функцию, которая рекурсивно обрабатывает структуры данных, такие как словари и списки, декодируя Unicode escape-последовательности в строках. Если входные данные не являются строкой, списком или словарём, они возвращаются без изменений.

## Функции

### `decode_unicode_escape`

**Назначение**: Декодирование Unicode escape-последовательностей в строке, списке или словаре.

**Параметры**:

- `input_data` (Dict[str, Any] | list | str): Входные данные, которые могут быть словарём, списком или строкой, содержащими Unicode escape-последовательности.

**Возвращает**:

- `Dict[str, Any] | list | str`: Преобразованные данные. Если входные данные — строка, возвращается декодированная строка. Если входные данные — словарь или список, возвращается словарь или список с рекурсивно обработанными значениями.

**Как работает функция**:

1.  **Определение типа входных данных**: Функция проверяет, является ли `input_data` словарём, списком или строкой.
2.  **Обработка словаря**: Если `input_data` является словарём, функция рекурсивно вызывает саму себя для каждого значения в словаре и возвращает новый словарь с декодированными значениями.
3.  **Обработка списка**: Если `input_data` является списком, функция рекурсивно вызывает саму себя для каждого элемента в списке и возвращает новый список с декодированными элементами.
4.  **Обработка строки**: Если `input_data` является строкой, функция пытается декодировать её, используя `encode('utf-8').decode('unicode_escape')`. Если при этом возникает ошибка `UnicodeDecodeError`, строка возвращается без изменений.
5.  **Дополнительная обработка строки**: Функция также выполняет поиск последовательностей вида `\\\\uXXXX` (где XXXX - шестнадцатеричное число) и преобразует их в соответствующие Unicode символы. Это необходимо, так как некоторые строки могут содержать двойные escape-последовательности.
6.  **Обработка других типов данных**: Если `input_data` не является словарём, списком или строкой, функция возвращает его без изменений.

**Примеры**:

```python
input_dict = {
    'product_name': r'\\u05de\\u05e7\\"\\u05d8 \\u05d9\\u05e6\\u05e8\\u05df\\nH510M K V2',
    'category': r'\\u05e2\\u05e8\\u05db\\u05ea \\u05e9\\u05d1\\u05d1\\u05d9\\u05dd',
    'price': 123.45
}

input_list = [r'\\u05e2\\u05e8\\u05db\\u05ea \\u05e9\\u05d1\\u05d1\\u05d9\\u05dd', r'H510M K V2']

input_string = r'\\u05de\\u05e7\\"\\u05d8 \\u05d9\\u05e6\\u05e8\\u05df\\nH510M K V2'

# Применяем функцию
decoded_dict = decode_unicode_escape(input_dict)
decoded_list = decode_unicode_escape(input_list)
decoded_string = decode_unicode_escape(input_string)

print(decoded_dict)
print(decoded_list)
print(decoded_string)
```