# Модуль `dot`: Преобразование файлов DOT в изображения PNG

## Обзор

Модуль `dot` предназначен для преобразования файлов в формате DOT в изображения PNG с использованием библиотеки Graphviz. Он предоставляет функцию `dot2png`, которая принимает путь к DOT-файлу и путь для сохранения PNG-файла.

## Подробней

Этот модуль полезен для визуализации графов, определенных в формате DOT, путем их преобразования в широко распространенный формат изображений PNG. Он использует библиотеку `graphviz` для выполнения преобразования.

## Классы

В данном модуле классы отсутствуют.

## Функции

### `dot2png`

```python
def dot2png(dot_file: str, png_file: str) -> None:
    """ Преобразует DOT файл в PNG изображение.

    Args:
        dot_file (str): Путь к входному DOT файлу.
        png_file (str): Путь, по которому будет сохранено выходное PNG изображение.

    Raises:
        FileNotFoundError: Если DOT файл не существует.
        Exception: При других ошибках во время конвертации.

    Example:
        >>> dot2png('example.dot', 'output.png')
        
        Преобразует DOT файл 'example.dot' в PNG изображение с именем 'output.png'.
        
        Пример содержимого DOT файла 'example.dot':
        
        ```dot
        digraph G {
            A -> B;
            B -> C;
            C -> A;
        }
        ```
        
        Для запуска скрипта из командной строки:
        
        ```bash
        python dot2png.py example.dot output.png
        ```

        Эта команда создаст PNG файл с именем 'output.png' из графа, определенного в 'example.dot'.
    """
    try:
        # Функция считывает DOT файл
        with open(dot_file, 'r') as f:
            dot_content = f.read()

        # Функция создает объект Source из содержимого DOT файла
        source = Source(dot_content)

        # Функция устанавливает формат выходного файла как PNG
        source.format = 'png'
        # Функция генерирует PNG файл и удаляет временные файлы
        source.render(png_file, cleanup=True)
    except FileNotFoundError as ex:
        print(f"Error: The file '{dot_file}' was not found.")
        raise ex
    except Exception as ex:
        print(f"An error occurred during the conversion: {ex}")
        raise ex
```

**Назначение**: Преобразует файл в формате DOT в изображение в формате PNG.

**Параметры**:

-   `dot_file` (str): Путь к входному файлу в формате DOT.
-   `png_file` (str): Путь для сохранения выходного изображения в формате PNG.

**Возвращает**:

-   `None`: Функция ничего не возвращает.

**Вызывает исключения**:

-   `FileNotFoundError`: Если указанный DOT файл не существует.
-   `Exception`: В случае возникновения других ошибок в процессе преобразования.

**Как работает функция**:

1.  **Чтение DOT файла**: Функция пытается открыть и прочитать содержимое файла, указанного в параметре `dot_file`.
2.  **Создание объекта Source**: Используя библиотеку `graphviz`, создается объект `Source` из прочитанного содержимого DOT файла.
3.  **Установка формата**: Устанавливается формат выходного файла как PNG.
4.  **Преобразование в PNG**: Вызывается метод `render` объекта `Source` для преобразования DOT-файла в PNG-изображение, которое сохраняется по указанному пути в параметре `png_file`. Также выполняется очистка временных файлов после завершения.
5.  **Обработка исключений**: Если файл не найден (`FileNotFoundError`) или возникает любая другая ошибка в процессе преобразования, функция перехватывает исключение, выводит сообщение об ошибке и перебрасывает исключение.

**Примеры**:

1.  Преобразование DOT-файла в PNG:

```python
dot2png('example.dot', 'output.png')
```

Этот пример преобразует файл `example.dot` в изображение `output.png`.

## Параметры

-   `dot_file` (str): Путь к входному DOT файлу.
-   `png_file` (str): Путь, по которому будет сохранено выходное PNG изображение.