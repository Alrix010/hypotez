# Модуль миграции базы данных для телеграм бота
## Обзор
Этот модуль содержит скрипт миграции для базы данных телеграм бота. Миграция создает таблицы для пользователей, категорий товаров, продуктов, покупок.

## Подробней
Этот файл представляет собой скрипт миграции для базы данных телеграм бота, который используется для создания таблиц в базе данных, необходимых для работы бота. 

## Классы

## Функции

### `upgrade`
**Назначение**: Функция, которая выполняет миграцию базы данных. 
**Параметры**: 
- Нет параметров. 
**Возвращает**: 
- Нет возвращаемого значения. 
**Вызывает исключения**: 
- Нет исключений.

**Как работает функция**:
- Функция `upgrade` создает таблицы `categories`, `users`, `products`, `purchases`.
- Таблицы имеют следующие столбцы:
    - **categories**:
        - `category_name`: Текстовое поле для названия категории.
        - `id`: Целочисленный идентификатор категории (автоинкремент).
        - `created_at`: Дата и время создания категории.
        - `updated_at`: Дата и время последнего обновления категории.
    - **users**:
        - `telegram_id`: Целочисленный идентификатор пользователя телеграм.
        - `username`: Текстовое поле для имени пользователя.
        - `first_name`: Текстовое поле для имени пользователя.
        - `last_name`: Текстовое поле для фамилии пользователя.
        - `id`: Целочисленный идентификатор пользователя (автоинкремент).
        - `created_at`: Дата и время создания пользователя.
        - `updated_at`: Дата и время последнего обновления пользователя.
    - **products**:
        - `name`: Текстовое поле для названия продукта.
        - `description`: Текстовое поле для описания продукта.
        - `price`: Целочисленный столбец для цены продукта.
        - `file_id`: Текстовое поле для идентификатора файла продукта.
        - `category_id`: Целочисленный столбец для идентификатора категории продукта.
        - `id`: Целочисленный идентификатор продукта (автоинкремент).
        - `created_at`: Дата и время создания продукта.
        - `updated_at`: Дата и время последнего обновления продукта.
    - **purchases**:
        - `user_id`: Целочисленный столбец для идентификатора пользователя.
        - `product_id`: Целочисленный столбец для идентификатора продукта.
        - `price`: Целочисленный столбец для цены покупки.
        - `id`: Целочисленный идентификатор покупки (автоинкремент).
        - `created_at`: Дата и время создания покупки.
        - `updated_at`: Дата и время последнего обновления покупки.
- Таблицы `products`, `purchases` связаны с таблицей `categories` и `users` с помощью внешних ключей `category_id` и `user_id` соответственно.
- Функция использует библиотеку `alembic` для создания таблиц.

**Примеры**:
```python
# Выполнение миграции
upgrade()
```
### `downgrade`
**Назначение**: Функция, которая откатывает миграцию базы данных. 
**Параметры**: 
- Нет параметров. 
**Возвращает**: 
- Нет возвращаемого значения. 
**Вызывает исключения**: 
- Нет исключений.

**Как работает функция**:
- Функция `downgrade` удаляет таблицы `purchases`, `products`, `users`, `categories` в обратном порядке их создания.
- Функция использует библиотеку `alembic` для удаления таблиц.

**Примеры**:
```python
# Откат миграции
downgrade()
```
## Параметры класса

## Примеры 

```python
# Выполнить миграцию
upgrade()
# Откатить миграцию
downgrade()
```