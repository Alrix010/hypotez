# Модуль для работы с базой данных Telegram бота
=====================================================

Модуль `database.py` предоставляет базовый класс для работы с базой данных Telegram бота, основанной на SQLAlchemy. 

## Обзор

В этом модуле определен базовый класс `Base`, который обеспечивает стандартные поля (`id`, `created_at`, `updated_at`) для всех моделей, а также метод для преобразования объекта в словарь (`to_dict`). 

## Подробнее

Модуль содержит функции для работы с базой данных, включая подключение, создание сессий и получение данных. Модель `Base` служит основой для создания всех моделей, которые будут использоваться в базе данных. 

## Классы

### `class Base`

**Описание**: Базовый класс для всех моделей, которые будут использоваться в базе данных.

**Наследует**: `AsyncAttrs`, `DeclarativeBase`

**Атрибуты**:

- `id` (int): Идентификатор записи (первичный ключ).
- `created_at` (datetime): Дата и время создания записи.
- `updated_at` (datetime): Дата и время последнего обновления записи.

**Методы**:

- `to_dict()`: Преобразует объект в словарь, содержащий значения всех атрибутов объекта.

## Функции

### `async_session_maker`

**Назначение**: Создание асинхронного сессионного объекта.

**Параметры**:

- `engine`: Объект `Engine` для подключения к базе данных.

**Возвращает**: Объект `AsyncSessionMaker`

**Как работает**:

- Создает асинхронный сессионный объект, который используется для взаимодействия с базой данных.


## Примеры

```python
from bot.dao.database import Base, async_session_maker

async def create_session():
    """Создает сессию для работы с базой данных.
    
    Returns:
        AsyncSession: Объект сессии.
    """
    async with async_session_maker() as session:
        yield session