# Модуль запуска Telegram-бота для работы с фильмами
## Обзор
Модуль является точкой входа для запуска Telegram-бота, предназначенного для работы с фильмами. Он инициализирует бота, регистрирует обработчики сообщений и запускает процесс получения обновлений от Telegram.

## Подробнее

Этот модуль выполняет следующие основные задачи:

1.  Загрузка переменных окружения из файла `.dotenv`.
2.  Инициализация экземпляра бота `aiogram.Bot` с использованием токена, полученного из переменных окружения.
3.  Создание экземпляра диспетчера `aiogram.Dispatcher`, который используется для регистрации обработчиков и маршрутизации входящих обновлений.
4.  Регистрация промежуточного программного обеспечения (middleware) для управления интенсивностью запросов (throttling).
5.  Включение маршрутизатора с обработчиками сообщений.
6.  Запуск процесса получения обновлений от Telegram и обработки их диспетчером.

## Функции

### `main`

```python
async def main() -> None:
    """
    Асинхронная функция, выполняющая основные задачи по запуску и инициализации Telegram-бота.

    Returns:
        None
    """
```

**Назначение**:
Функция `main` выполняет основные задачи по инициализации и запуску Telegram-бота.

**Как работает функция**:

1.  Создает экземпляр бота `aiogram.Bot` с использованием токена, полученного из переменных окружения.
2.  Регистрирует промежуточное программное обеспечение (middleware) для управления интенсивностью запросов (throttling).
3.  Включает маршрутизатор с обработчиками сообщений.
4.  Запускает процесс получения обновлений от Telegram и обработки их диспетчером.

**Примеры**:

```python
import asyncio
from aiogram import Bot, Dispatcher
import os
from dotenv import load_dotenv
from middlewares.throttling import ThrottlingMiddleware
from apps.hendlers import router

load_dotenv()

dp = Dispatcher()

async def main() -> None:
    bot = Bot(os.getenv('TOKEN'))
    dp.message.middleware(ThrottlingMiddleware())
    dp.include_router(router)
    await dp.start_polling(bot)

if __name__ == "__main__":
    asyncio.run(main())
```

## Переменные

-   `dp`: Экземпляр диспетчера `aiogram.Dispatcher`, используемый для регистрации обработчиков и маршрутизации входящих обновлений.
```python
dp = Dispatcher()