# Документация модуля wdl.py

## Обзор

Модуль содержит функцию `wget_dl`, предназначенную для загрузки файлов по URL-адресу с использованием утилиты `wget`. Функция выполняет загрузку, обрабатывает возможные ошибки и возвращает имя загруженного файла.

## Подробней

Модуль предоставляет простой способ загрузки файлов по URL-адресу, используя утилиту `wget`. Функция `wget_dl` принимает URL файла в качестве аргумента и пытается загрузить файл, сохраняя его с именем, соответствующим имени файла в URL. В случае успеха возвращается имя файла, в противном случае – сообщение об ошибке.

## Функции

### `wget_dl`

**Назначение**: Загрузка файла по указанному URL-адресу с использованием утилиты `wget`.

```python
def wget_dl(url: str) -> str | tuple[str, str]:
    """
    Загружает файл по указанному URL-адресу с использованием утилиты wget.

    Args:
        url (str): URL-адрес файла для загрузки.

    Returns:
        str | tuple[str, str]: Имя загруженного файла в случае успеха, либо кортеж ("error", filename) в случае ошибки.
                                filename - имя файла, которое пытались загрузить.

    Raises:
        Exception: В случае возникновения ошибки при выполнении команды wget.

    Example:
        >>> wget_dl('https://example.com/path/to/file.txt')
        Downloading Started
        Downloading Complete file.txt
        'file.txt'

        >>> wget_dl('https://example.com/path/to/nonexistent_file.txt')
        Downloading Started
        DOWNLAOD ERROR : ...
        ('error', 'nonexistent_file.txt')
    """
```

**Параметры**:

- `url` (str): URL-адрес файла, который необходимо загрузить.

**Возвращает**:

- `str`: Имя загруженного файла в случае успеха.
- `tuple[str, str]`: Кортеж `("error", filename)` в случае ошибки, где `filename` – имя файла, которое пытались загрузить.

**Вызывает исключения**:

- `Exception`: Возникает при ошибках, связанных с выполнением команды `wget`.

**Как работает функция**:

1.  Выводит сообщение "Downloading Started" (Загрузка началась) в консоль.
2.  Извлекает имя файла из URL-адреса с использованием `os.path.basename(url)`.
3.  Формирует команду `wget` для загрузки файла с указанным именем и URL.
4.  Выполняет команду `wget` с помощью `subprocess.check_output`.
    -   `subprocess.check_output` выполняет команду shell и возвращает вывод команды.
    -   `stderr=subprocess.STDOUT` перенаправляет стандартный поток ошибок в стандартный поток вывода, чтобы сообщения об ошибках также возвращались.
    -   `shell=True` указывает, что команда должна быть выполнена через shell.
5.  Выводит сообщение "Downloading Complete" (Загрузка завершена) и имя файла в консоль.
6.  Возвращает имя загруженного файла.
7.  В случае возникновения ошибки выводит сообщение "DOWNLAOD ERROR :" (ОШИБКА ЗАГРУЗКИ) и информацию об ошибке.
8.  Возвращает кортеж `("error", filename)`.

**Примеры**:

```python
# Пример успешной загрузки файла
result = wget_dl('https://example.com/path/to/file.txt')
print(result)  # Вывод: file.txt

# Пример неудачной загрузки файла
result = wget_dl('https://example.com/path/to/nonexistent_file.txt')
print(result)  # Вывод: ('error', 'nonexistent_file.txt')