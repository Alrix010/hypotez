# Модуль для публикации объявлений в Facebook группах

## Обзор

Модуль содержит код для отправки рекламных объявлений в Facebook группы. 

## Подробней

Модуль использует `FacebookPromoter` для запуска кампаний. Он получает информацию о группах из JSON-файлов, указанных в `group_file_paths`. Кампании запускаются по очереди, используя списки `campaigns` и `group_file_paths`.  

##  Классы
### `FacebookPromoter`

**Описание**:  Класс `FacebookPromoter` реализует логику отправки рекламных объявлений в Facebook группы.  

**Наследует**:
    - None 

**Атрибуты**:
    - `d` (`webdriver.Driver`): Объект `Driver`, используемый для работы с браузером.
    - `group_file_paths` (`list[str]`): Список путей к JSON-файлам, содержащим информацию о группах.
    - `no_video` (`bool`):  Указывает, необходимо ли использовать видео в рекламных объявлениях.

**Методы**:
    - `run_campaigns`:  Запускает кампании в группах. 

## Функции

### `start_posting_my_groups`

**Назначение**: Основная функция модуля. Запускает цикл отправки рекламных объявлений в группы. 

**Параметры**:
    - None

**Возвращает**:
    - None

**Вызывает исключения**:
    - `KeyboardInterrupt`:  Вызывается при прерывании работы программы пользователем. 

**Как работает функция**:
    - Создает экземпляр `Driver` с настройками Chrome.
    - Открывает сайт Facebook.
    - Задает список имен JSON-файлов, содержащих информацию о группах.
    - Определяет список кампаний.
    - Создает экземпляр класса `FacebookPromoter` с необходимыми параметрами.
    - Запускает бесконечный цикл, пока не будет прерван пользователем. 
    - В цикле вызывает функцию `run_campaigns` класса `FacebookPromoter`. 
    - Выводит сообщение о прерывании работы программы, если пользователь прервал цикл.

**Примеры**:
    ```python
    # Пример использования модуля
    from src.endpoints.advertisement.facebook.start_posting_my_groups import start_posting_my_groups

    start_posting_my_groups()  # Запуск цикла отправки рекламных объявлений
    ```
    
##  Внутренние функции
 
### `run_campaigns` 
 
**Назначение**:  Функция класса `FacebookPromoter`, запускающая кампании в группах.

**Параметры**:
    - `campaigns` (`list[str]`): Список кампаний для запуска.
    - `group_file_paths` (`list[str]`): Список путей к JSON-файлам, содержащим информацию о группах.

**Возвращает**:
    - None

**Вызывает исключения**:
    -  `Exception`: Возникает, если произошла ошибка во время запуска кампаний.

**Как работает функция**:
    - Итерационно обрабатывает каждый файл из `group_file_paths`.
    - Загружает данные о группах из JSON-файла. 
    - Итерационно обрабатывает каждую кампанию из списка `campaigns`.
    - Выполняет действия по запуску кампании в группах. 
    - Обрабатывает возможные ошибки во время выполнения.

##  Параметры класса

- `d` (`webdriver.Driver`):  Объект `Driver`, используемый для работы с браузером.  
- `group_file_paths` (`list[str]`): Список путей к JSON-файлам, содержащим информацию о группах. 
- `no_video` (`bool`):  Указывает, необходимо ли использовать видео в рекламных объявлениях.

## Примеры
```python
# Создание инстанса драйвера (пример с Chrome)
driver = Driver(Chrome)

# Пример локатора
close_banner = {
    "attribute": null,
    "by": "XPATH",
    "selector": "//button[@id = 'closeXButton']",
    "if_list": "first",
    "use_mouse": false,
    "mandatory": false,
    "timeout": 0,
    "timeout_for_event": "presence_of_element_located",
    "event": "click()",
    "locator_description": "Закрываю pop-up окно, если оно не появилось - не страшно (`mandatory`:`false`)"
}

# Выполнение действия над веб-элементом по локатору
result = driver.execute_locator(close_banner)