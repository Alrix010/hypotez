# Модуль `src.endpoints.advertisement.facebook.scenarios.post_ad`

## Обзор

Модуль `src.endpoints.advertisement.facebook.scenarios.post_ad`  предназначен для публикации рекламных сообщений в группах Facebook. 

## Подробнее

Модуль содержит функцию `post_ad`, которая отправляет рекламные сообщения в группы Facebook с использованием объекта драйвера `Driver`.  Функция включает в себя несколько шагов:
- Отправка заголовка сообщения с помощью функции `post_message_title`.
- Загрузка медиафайлов (изображений) с помощью функции `upload_post_media`.
- Публикация сообщения с помощью функции `message_publish`.

Функция `post_ad` возвращает значение `True` в случае успешной публикации сообщения. В случае возникновения ошибок функция возвращает значение `False`. 

## Функции

### `post_ad`

**Назначение**: 
Функция `post_ad` отправляет рекламное сообщение в Facebook.

**Параметры**:

- `d` (Driver): Экземпляр драйвера для взаимодействия с веб-страницей.
- `message` (SimpleNamespace): Объект, содержащий информацию о рекламном сообщении, включая заголовок, описание и путь к медиафайлу.

**Возвращает**:

- `bool`: `True` в случае успешной отправки сообщения, `False` в случае ошибки.

**Вызывает исключения**:

-  None

**Как работает функция**:

- Функция `post_ad` сначала отправляет заголовок сообщения с помощью функции `post_message_title`.
- Затем, если в объекте `message` указан путь к медиафайлу, функция загружает его с помощью функции `upload_post_media`.
- После загрузки медиафайлов функция публикует сообщение с помощью функции `message_publish`.
- Функция возвращает значение `True`, если сообщение было отправлено успешно. В противном случае она возвращает значение `False` и выводит сообщение об ошибке в логгер.

**Примеры**:

```python
driver = Driver(Chrome)
message = SimpleNamespace(
    description="Example message",
    image_path="path/to/image.jpg"
)
post_ad(driver, message)
```

## Параметры класса

### `locator`

- `locator` (SimpleNamespace): Набор локаторов, используемых для поиска элементов на веб-странице. Локаторы хранятся в файле `post_message.json`.

## Внутренние функции

### `post_message_title`

**Назначение**: Отправляет заголовок сообщения.

**Параметры**:

- `d` (Driver): Экземпляр драйвера.
- `title` (str): Текст заголовка.

**Возвращает**:

- `bool`: `True` в случае успешной отправки заголовка, `False` в случае ошибки.

### `upload_post_media`

**Назначение**: Загружает медиафайлы.

**Параметры**:

- `d` (Driver): Экземпляр драйвера.
- `media` (str): Путь к медиафайлу.
- `without_captions` (bool):  `True`, если  загруженная медиа не должна иметь подписей.

**Возвращает**:

- `bool`: `True` в случае успешной загрузки медиафайлов, `False` в случае ошибки.

### `message_publish`

**Назначение**: Публикует сообщение.

**Параметры**:

- `d` (Driver): Экземпляр драйвера.

**Возвращает**:

- `bool`: `True` в случае успешной публикации, `False` в случае ошибки.