# Модуль для отправки рекламных объявлений в Facebook (Katia)

## Обзор

Модуль предназначен для автоматической отправки рекламных объявлений в различные группы Facebook. Он использует веб-драйвер для взаимодействия с сайтом Facebook и модуль `FacebookPromoter` для управления процессом продвижения.

## Подробнее

Модуль автоматизирует процесс публикации рекламных объявлений в Facebook, используя список групп и рекламных материалов, определенных в файлах конфигурации. Он также обрабатывает прерывания с клавиатуры, чтобы безопасно завершить процесс продвижения.
В данном коде используются файлы конфигурации `katia_homepage.json` и другие файлы, связанные с рекламными кампаниями.

## Классы

### `FacebookPromoter`

**Описание**: Класс для управления процессом продвижения в Facebook.

**Наследует**:
- `FacebookPromoter` наследует класс  `Driver`  из модуля `src.webdriver.driver`, что позволяет ему взаимодействовать с веб-браузером.

**Атрибуты**:

- Отсутствуют, поскольку атрибуты определяются при инициализации экземпляра класса.

**Методы**:

- `run_campaigns()`: Запускает рекламные кампании.

## Функции

### `Нет`

В данном коде не определены отдельные функции. Весь код выполняется в основной области видимости модуля.

## Переменные

- `d`: Инстанс класса `Driver` для управления веб-браузером Chrome.
- `filenames`: Список файлов конфигурации, содержащих информацию о группах Facebook.
- `campaigns`: Список названий рекламных кампаний.
- `promoter`: Инстанс класса `FacebookPromoter` для управления процессом продвижения.

## Как работает код:

1. **Инициализация веб-драйвера**:
   - Создается инстанс класса `Driver` с использованием браузера Chrome.
   - Устанавливается URL для доступа к Facebook.

2. **Определение файлов и кампаний**:
   - Определяются списки файлов конфигурации (`filenames`) и названий кампаний (`campaigns`).

3. **Создание инстанса `FacebookPromoter`**:
   - Создается инстанс класса `FacebookPromoter` с передачей инстанса веб-драйвера, списка файлов групп и флага `no_video`.

4. **Запуск рекламных кампаний**:
   - Вызывается метод `run_campaigns` класса `FacebookPromoter` для запуска процесса продвижения.

5. **Обработка прерываний**:
   - Обрабатывается исключение `KeyboardInterrupt`, чтобы безопасно завершить процесс продвижения при прерывании с клавиатуры.

## Примеры:

### Инициализация веб-драйвера:

```python
from src.webdriver.driver import Driver, Chrome
d = Driver(Chrome)
d.get_url(r"https://facebook.com")
```

### Создание инстанса `FacebookPromoter`:

```python
from src.endpoints.advertisement.facebook.promoter import FacebookPromoter
promoter = FacebookPromoter(d, group_file_paths = filenames, no_video = False)
```

### Запуск рекламных кампаний:

```python
try:
    promoter.run_campaigns(campaigns)
except KeyboardInterrupt:
    logger.info("Campaign promotion interrupted.")