# Модуль для создания провайдера GPT4Free

## Обзор

Этот модуль содержит код для создания нового провайдера для GPT4Free. Он использует информацию, полученную от пользователя, 
включая имя провайдера, cURL-команду и пример провайдера, чтобы сгенерировать код Python, который можно использовать для 
взаимодействия с GPT4Free.

## Подробней

Этот файл `create_provider.py` работает следующим образом:

1. **Сбор входных данных**:
    - Запрашивает у пользователя имя для нового провайдера.
    - Просит пользователя ввести cURL-команду.
    - Использует пример провайдера для формирования шаблона.
2. **Генерация кода**:
    - Использует модель `gpt_4o` из библиотеки `g4f` для генерации кода Python для нового провайдера, основываясь на 
    полученных данных.
3. **Сохранение кода**:
    - Сохраняет сгенерированный код в файл с именем, которое пользователь ввел для провайдера.
    - Добавляет информацию о новом провайдере в файл `__init__.py` в папке `g4f/Provider`.

## Функции

### `read_code(text)`

**Назначение**: Извлекает код Python из текста.

**Параметры**:

- `text` (str): Текст, из которого нужно извлечь код.

**Возвращает**:

- `str | None`: Код Python, если он был найден, иначе `None`.

**Как работает функция**:

- Функция использует регулярное выражение для поиска блока кода Python в тексте, который заключен в тройные кавычки 
````python ... ````.
- Если код найден, функция возвращает его, иначе возвращает `None`.

**Примеры**:

```python
>>> text = "```python\nprint('Hello, world!')\n```"
>>> read_code(text)
"print('Hello, world!')"
```

### `input_command()`

**Назначение**: Запрашивает у пользователя cURL-команду.

**Параметры**:

- Нет параметров.

**Возвращает**:

- `str`: cURL-команда, введенная пользователем.

**Как работает функция**:

- Функция выводит подсказку пользователю, чтобы он ввел или вставил cURL-команду.
- Затем функция считывает введенные пользователем строки до тех пор, пока пользователь не введет `Ctrl-D` или `Ctrl-Z` 
(в зависимости от операционной системы).
- После этого функция объединяет все строки, используя `\n` в качестве разделителя.

**Примеры**:

```python
>>> input_command()
Enter/Paste the cURL command. Ctrl-D or Ctrl-Z ( windows ) to save it.
curl 'https://example.com/api/completion' \
-H 'authority: example.com' \
-H 'accept: application/json' \
-H 'origin: https://example.com' \
-H 'referer: https://example.com/chat' \
-d '{"prompt": "hello", "model": "gpt-3.5-turbo"}'
'curl 'https://example.com/api/completion' \
-H 'authority: example.com' \
-H 'accept: application/json' \
-H 'origin: https://example.com' \
-H 'referer: https://example.com/chat' \
-d '{"prompt": "hello", "model": "gpt-3.5-turbo"}'
```

## Основной код

**Описание**:

- Получает имя провайдера от пользователя.
- Проверяет, существует ли файл провайдера.
- Если файл провайдера не существует, 
    - Запрашивает cURL-команду у пользователя.
    - Использует модель `gpt_4o` из библиотеки `g4f` для генерации кода Python для нового провайдера.
    - Сохраняет сгенерированный код в файл с именем, которое пользователь ввел для провайдера.
    - Добавляет информацию о новом провайдере в файл `__init__.py` в папке `g4f/Provider`.
- Если файл провайдера существует,
    - Читает код из существующего файла.

**Пример**:

```python
Name: MyProvider
Enter/Paste the cURL command. Ctrl-D or Ctrl-Z ( windows ) to save it.
curl 'https://example.com/api/completion' \
-H 'authority: example.com' \
-H 'accept: application/json' \
-H 'origin: https://example.com' \
-H 'referer: https://example.com/chat' \
-d '{"prompt": "hello", "model": "gpt-3.5-turbo"}'
Create code...
... (сгенерированный код Python)
Saved at: g4f/Provider/MyProvider.py
```

## Использование

Этот модуль используется для создания новых провайдеров GPT4Free. 
Пользователь может ввести имя провайдера, cURL-команду и пример провайдера, 
а этот модуль сгенерирует код Python для нового провайдера.