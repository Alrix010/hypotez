# Модуль для демонстрации потоковой передачи текста с использованием gpt4free

## Обзор

Этот модуль демонстрирует, как использовать клиент gpt4free для потоковой передачи текста как в синхронном, так и в асинхронном режимах. Он включает примеры использования как `Client`, так и `AsyncClient` для взаимодействия с моделью "gpt-4" и вывода ответа в режиме реального времени.

## Подробней

Модуль содержит две основные функции: `sync_stream` и `async_stream`, которые демонстрируют потоковую передачу текста в синхронном и асинхронном режимах соответственно. Он также содержит функцию `main`, которая запускает обе эти функции. Этот код показывает, как можно получить ответ от модели GPT-4 в режиме реального времени, что может быть полезно для интерактивных приложений, требующих немедленной обратной связи.

## Функции

### `sync_stream`

**Назначение**: Демонстрирует синхронную потоковую передачу текста с использованием `gpt4free.client.Client`.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Ничего (выводит текст в консоль).

**Вызывает исключения**:
- Не обрабатывает исключения напрямую, но может вызвать исключения, связанные с сетевыми ошибками или проблемами с API.

**Как работает функция**:
1. Создает экземпляр класса `Client`.
2. Вызывает метод `chat.completions.create` с параметрами:
   - `model`: "gpt-4" (указывает, какую модель использовать).
   - `messages`: список сообщений, содержащий вопрос пользователя.
   - `stream`: `True` (включает режим потоковой передачи).
3. Итерируется по чанкам (фрагментам) ответа, полученным из потока.
4. Для каждого чанка проверяет наличие контента и выводит его в консоль.

**Примеры**:
```python
sync_stream()
```

### `async_stream`

**Назначение**: Демонстрирует асинхронную потоковую передачу текста с использованием `gpt4free.client.AsyncClient`.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Ничего (выводит текст в консоль).

**Вызывает исключения**:
- Не обрабатывает исключения напрямую, но может вызвать исключения, связанные с сетевыми ошибками или проблемами с API.

**Как работает функция**:
1. Создает экземпляр класса `AsyncClient`.
2. Вызывает метод `chat.completions.create` с параметрами:
   - `model`: "gpt-4" (указывает, какую модель использовать).
   - `messages`: список сообщений, содержащий вопрос пользователя.
   - `stream`: `True` (включает режим потоковой передачи).
3. Асинхронно итерируется по чанкам (фрагментам) ответа, полученным из потока.
4. Для каждого чанка проверяет наличие контента и выводит его в консоль.

**Примеры**:
```python
asyncio.run(async_stream())
```

### `main`

**Назначение**: Запускает синхронную и асинхронную потоковые передачи текста.

**Параметры**:
- Отсутствуют.

**Возвращает**:
- Ничего.

**Вызывает исключения**:
- Обрабатывает исключения, которые могут возникнуть в процессе выполнения, и выводит сообщение об ошибке.

**Как работает функция**:
1. Выводит заголовок "Synchronous Stream:".
2. Вызывает функцию `sync_stream` для демонстрации синхронной потоковой передачи.
3. Выводит разделитель и заголовок "Asynchronous Stream:".
4. Запускает асинхронную функцию `async_stream` с помощью `asyncio.run`.
5. Обрабатывает любые исключения, которые могут возникнуть в процессе выполнения, и выводит сообщение об ошибке.

**Примеры**:
```python
main()
```