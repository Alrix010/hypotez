# Модуль `models.py` 

## Обзор

Этот модуль содержит набор тестов для проверки соответствия моделей и провайдеров в проекте `hypotez`. Тесты проверяют наличие соответствия между моделями и провайдерами, а также функциональность провайдеров.  

## Классы 

### `TestProviderHasModel`

**Описание**: Класс тестов, который проверяет наличие соответствия между моделями и провайдерами. 

**Атрибуты**: 
- `cache (dict)`: Словарь, который хранит список моделей для каждого провайдера.

**Методы**:
- `test_provider_has_model()`: Тест, который проверяет наличие соответствия между моделями и провайдерами.
- `provider_has_model(provider: Type[BaseProvider], model: str)`:  Метод, который проверяет наличие модели в списке моделей провайдера. 
- `test_all_providers_working()`: Тест, который проверяет работоспособность всех провайдеров. 

**Как работает класс**: 
Класс `TestProviderHasModel`  используется для тестирования соответствия моделей и провайдеров. Он перебирает все модели и провайдеры, проверяя наличие модели в списке моделей провайдера.  Метод `provider_has_model` проверяет наличие модели в списке моделей провайдера, а метод `test_all_providers_working`  проверяет работоспособность всех провайдеров. 

**Примеры**: 
```python
# Создание инстанса класса 
test_provider_has_model = TestProviderHasModel()
# Выполнение теста
test_provider_has_model.test_provider_has_model()
# Выполнение теста
test_provider_has_model.test_all_providers_working()
```

## Функции

### `provider_has_model(provider: Type[BaseProvider], model: str)`
**Назначение**: Проверяет наличие модели в списке моделей провайдера.

**Параметры**:
- `provider (Type[BaseProvider])`: Тип провайдера.
- `model (str)`: Название модели.

**Возвращает**: 
- `None`: 

**Вызывает исключения**:
- `MissingRequirementsError`:  Если отсутствуют необходимые требования для провайдера.
- `MissingAuthError`:  Если отсутствует авторизация для провайдера.

**Как работает функция**: 
Функция `provider_has_model`  проверяет наличие модели в списке моделей провайдера. Сначала функция пытается получить список моделей для провайдера, используя метод `get_models()`.  Если метод `get_models() ` генерирует исключение `MissingRequirementsError` или `MissingAuthError` функция ничего не возвращает. Если список моделей  получен, то функция проверяет наличие заданной модели  в этом списке.

**Примеры**: 
```python
# Создание инстанса провайдера
provider = MyProvider()
# Проверка наличия модели "gpt-3.5-turbo"
provider_has_model(provider, 'gpt-3.5-turbo') 
```

### `test_provider_has_model()`: 

**Назначение**: Тест, который проверяет наличие соответствия между моделями и провайдерами.

**Параметры**: 
- Нет.

**Возвращает**: 
- `None`:

**Вызывает исключения**:
-  `MissingRequirementsError`:  Если отсутствуют необходимые требования для провайдера.
-  `MissingAuthError`:  Если отсутствует авторизация для провайдера. 

**Как работает функция**: 
Функция `test_provider_has_model` перебирает все модели и провайдеры, проверяя наличие модели в списке моделей провайдера.  Для каждого провайдера функция проверяет наличие модели в списке моделей провайдера. 

**Примеры**: 
```python
# Выполнение теста
test_provider_has_model()
```

### `test_all_providers_working()`: 

**Назначение**: Тест, который проверяет работоспособность всех провайдеров.

**Параметры**: 
- Нет.

**Возвращает**: 
- `None`:

**Вызывает исключения**:
-  `MissingRequirementsError`:  Если отсутствуют необходимые требования для провайдера.
-  `MissingAuthError`:  Если отсутствует авторизация для провайдера. 

**Как работает функция**: 
Функция  `test_all_providers_working` перебирает все модели и провайдеры, проверяя работоспособность провайдера.  Для каждого провайдера функция  проверяет, что атрибут `working` установлен в `True`. 

**Примеры**: 
```python
# Выполнение теста
test_all_providers_working()
```

## Параметры класса

- `cache (dict)`: Словарь, который хранит список моделей для каждого провайдера. 
    
## Примеры

```python
# Создание инстанса класса 
test_provider_has_model = TestProviderHasModel()
# Выполнение теста
test_provider_has_model.test_provider_has_model()
# Выполнение теста
test_provider_has_model.test_all_providers_working()
```
```python
# Создание инстанса провайдера
provider = MyProvider()
# Проверка наличия модели "gpt-3.5-turbo"
provider_has_model(provider, 'gpt-3.5-turbo')
```

```python
# Выполнение теста
test_provider_has_model()
```
```python
# Выполнение теста
test_all_providers_working()