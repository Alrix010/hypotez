# Модуль `webview`

## Обзор

Модуль `webview` отвечает за запуск веб-интерфейса (GUI) приложения `g4f`, используя библиотеку `webview`.  Он создает окно браузера, отображающее HTML-страницу из каталога `client/index.html`, которая содержит веб-интерфейс g4f.

## Подробнее

Модуль `webview` отвечает за создание и запуск окна браузера, которое отображает веб-интерфейс (GUI) приложения `g4f`. Он использует библиотеку `webview` для создания окна браузера и загрузки HTML-страницы `index.html` из каталога `client`.

## Функции

### `run_webview`

**Назначение**:  Функция запускает веб-интерфейс (GUI) приложения `g4f`.

**Параметры**:
- `debug` (bool, необязательный): Если `True`, запускает веб-интерфейс в режиме отладки, включающий `debug tools`. По умолчанию `False`.
- `http_port` (int, необязательный): Порт для запуска HTTP-сервера. По умолчанию - автоматический выбор доступного порта.
- `ssl` (bool, необязательный): Использовать SSL-соединение. По умолчанию `True`.
- `storage_path` (str, необязательный): Путь к папке для хранения данных приложения. По умолчанию использует папку `user_config_dir` из библиотеки `platformdirs` (если доступна).
- `gui` (str, необязательный): Путь к файлу с конфигурацией GUI.

**Возвращает**: 
- `None`

**Как работает функция**:
1. Запускает библиотеку `webview` с указанными параметрами.
2. Создает окно браузера с заголовком `"g4f - {версия g4f}"`.
3. Загружает HTML-страницу из каталога `client/index.html`.
4. Устанавливает настройку `OPEN_EXTERNAL_LINKS_IN_BROWSER` в `True`, чтобы внешние ссылки открывались в браузере по умолчанию.
5. Устанавливает настройку `ALLOW_DOWNLOADS` в `True`, чтобы разрешить загрузку файлов.
6. Добавляет API `JsApi` к окну браузера для взаимодействия с JavaScript-кодом на странице.
7. Запускает браузер в режиме `private_mode=False`,  `storage_path`, `debug`, `http_port` и `ssl`, определенными в параметрах.

**Примеры**:
```python
# Запуск без режима отладки
run_webview()

# Запуск с режимом отладки и указанным портом
run_webview(debug=True, http_port=8080)

# Запуск с указанным путем к папке для хранения данных
run_webview(storage_path='/home/user/g4f-data')
```


## Примеры

```python
# Пример запуска веб-интерфейса с режимом отладки и указанным портом
if __name__ == "__main__":
    parser = gui_parser()
    args = parser.parse_args()
    if args.debug:
        g4f.debug.logging = True
    run_webview(args.debug, args.port, not args.debug)
```

## Внутренние функции

### `gui_parser`

**Назначение**: Функция создает объект парсера аргументов командной строки для конфигурации GUI.

**Параметры**:
- `None`

**Возвращает**:
- `ArgumentParser`: Объект парсера аргументов командной строки.

**Как работает функция**:
- Создает объект `ArgumentParser` для обработки аргументов командной строки.
- Добавляет аргументы `debug`, `port` и `nossl`, которые используются для настройки веб-интерфейса.

## Параметры функции

### `debug`

- `debug` (bool, необязательный): Если `True`, запускает веб-интерфейс в режиме отладки. По умолчанию `False`.

### `http_port`

- `http_port` (int, необязательный): Порт для запуска HTTP-сервера. По умолчанию - автоматический выбор доступного порта.

### `ssl`

- `ssl` (bool, необязательный): Использовать SSL-соединение. По умолчанию `True`.

### `storage_path`

- `storage_path` (str, необязательный): Путь к папке для хранения данных приложения. По умолчанию использует папку `user_config_dir` из библиотеки `platformdirs` (если доступна).

### `gui`

- `gui` (str, необязательный): Путь к файлу с конфигурацией GUI.

```markdown