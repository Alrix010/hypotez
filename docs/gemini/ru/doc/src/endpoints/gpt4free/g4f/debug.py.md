# Модуль для отладки (debug.py)

## Обзор

Данный модуль предоставляет функции для отладки (debug) кода в проекте `hypotez`. Он включает в себя функции для ведения журнала (logging) и вывода ошибок.

## Подробнее

Этот модуль предназначен для облегчения отладки кода. Он позволяет выводить отладочную информацию в консоль или в файл, а также контролировать уровень детализации выводимых сообщений. 

## Переменные

- `logging` (bool): Флаг, определяющий, включено ли ведение журнала. По умолчанию `False`.
- `version_check` (bool): Флаг, определяющий, нужно ли проверять версию. По умолчанию `True`.
- `version` (Optional[str]): Версия проекта. По умолчанию `None`.
- `log_handler` (Callable): Функция, используемая для вывода сообщений журнала. По умолчанию `print`.
- `logs` (List[str]): Список сообщений журнала.

## Функции

### `log`

```python
def log(*text: Any, file: Optional[Any] = None) -> None:
    """Записывает сообщение в журнал, если ведение журнала включено."""
    if logging:
        log_handler(*text, file=file)
```

**Назначение**: Эта функция выводит сообщение в журнал, если `logging` включено. Она использует `log_handler` для вывода сообщения.

**Параметры**:

- `*text` (Any): Переменное количество аргументов, представляющих сообщение, которое нужно записать в журнал.
- `file` (Optional[Any]): Объект файла, в который нужно записать сообщение. По умолчанию `None`, что означает вывод в стандартный поток вывода (stdout).

**Возвращает**: `None`.

**Как работает функция**:

- Функция проверяет, включено ли ведение журнала (`logging`).
- Если ведение журнала включено, функция вызывает `log_handler` с указанием текста и объекта файла.

**Примеры**:

```python
log('Сообщение для журнала')
log('Сообщение 1', 'Сообщение 2', file=open('log_file.txt', 'a'))
```

### `error`

```python
def error(*error: Any, name: Optional[str] = None) -> None:
    """Записывает сообщение об ошибке в стандартный поток ошибок."""
    error = [e if isinstance(e, str) else f"{type(e).__name__ if name is None else name}: {e}" for e in error]
    log(*error, file=sys.stderr)
```

**Назначение**: Эта функция записывает сообщение об ошибке в стандартный поток ошибок (stderr).

**Параметры**:

- `*error` (Any): Переменное количество аргументов, представляющих сообщение об ошибке.
- `name` (Optional[str]): Имя объекта, для которого возникла ошибка. По умолчанию `None`.

**Возвращает**: `None`.

**Как работает функция**:

- Функция преобразует сообщение об ошибке в строковый формат, добавляя к нему имя объекта, если оно указано.
- Затем она вызывает функцию `log` с указанием сообщения об ошибке и стандартного потока ошибок (`sys.stderr`).

**Примеры**:

```python
error('Ошибка выполнения')
error('Ошибка в функции `my_function`', Exception('Ошибка'))
```

## Примеры

```python
logging = True
log('Сообщение для журнала')
error('Ошибка выполнения')

# Создание записи в журнале с помощью `log_handler`
def my_log_handler(*text: Any, file: Optional[Any] = None) -> None:
    with open('my_log.txt', 'a') as f:
        f.write(' '.join(map(str, text)) + '\n')

log_handler = my_log_handler
log('Это сообщение будет записано в файл my_log.txt')
```

## Примечания

- Флаг `logging` можно использовать для включения/отключения ведения журнала.
- Функция `log_handler` позволяет использовать собственную функцию для вывода сообщений журнала.
- Функция `error` может использоваться для вывода ошибок, которые должны быть видны пользователю.
- Флаг `version_check` можно использовать для включения/отключения проверки версии проекта.
- Переменная `version` хранит версию проекта.
- Список `logs` хранит сообщения журнала.