# Документация для `app.py`

## Обзор

Файл `app.py` содержит функцию `create_app`, которая создает и конфигурирует Flask-приложение. Это приложение используется в проекте `hypotez` для предоставления графического интерфейса пользователя (GUI) на основе веб-технологий. Функция определяет пути к шаблонам и статическим файлам, а также настраивает автоматическую перезагрузку шаблонов в режиме отладки.

## Подробней

Этот файл играет важную роль в инициализации Flask-приложения, которое является основой для GUI. Функция `create_app` адаптируется к различным условиям запуска, таким как работа в замороженном (скомпилированном) состоянии или в режиме разработки. Путь к шаблонам и статическим файлам определяется в зависимости от этого.

## Функции

### `create_app`

```python
def create_app() -> Flask:
    """
    Создает и настраивает Flask-приложение.

    Args:
        None

    Returns:
        Flask: Сконфигурированный экземпляр Flask-приложения.
    """
```

**Назначение**: Функция `create_app` создает экземпляр Flask-приложения и настраивает его, определяя местоположение шаблонов и статических файлов.

**Параметры**:
- Функция не принимает параметров.

**Возвращает**:
- `Flask`: Сконфигурированный экземпляр Flask-приложения.

**Как работает функция**:
1. **Определение режима работы**: Проверяет атрибут `sys.frozen`, чтобы определить, запущено ли приложение в замороженном состоянии (например, как исполняемый файл, созданный при помощи PyInstaller).
2. **Определение путей**:
   - Если приложение запущено в замороженном состоянии, `template_folder` устанавливается в путь `os.path.join(sys._MEIPASS, "client")`. `sys._MEIPASS` содержит путь к временной папке, куда распаковываются файлы при запуске замороженного приложения.
   - Если приложение запущено в обычном режиме (не заморожено), `template_folder` устанавливается в `../client`, предполагая, что папка `client` находится на один уровень выше текущей папки.
3. **Создание экземпляра Flask**: Создается экземпляр Flask-приложения с указанием папки с шаблонами и папки со статическими файлами.
4. **Настройка автоматической перезагрузки шаблонов**: Включается автоматическая перезагрузка шаблонов, что полезно в режиме отладки, так как изменения в шаблонах сразу же отображаются без необходимости перезапуска сервера.

**Примеры**:
```python
from flask import Flask
app = create_app()
print(type(app))
# Output: <class 'flask.app.Flask'>