# Модуль для работы с провайдером NoowAi
## Обзор

Модуль предоставляет асинхронный генератор для взаимодействия с сервисом NoowAi. Он поддерживает ведение истории сообщений и использование модели GPT-3.5 Turbo.

## Подробнее

Этот модуль является частью набора провайдеров для работы с различными AI-моделями. Он использует `aiohttp` для выполнения асинхронных HTTP-запросов к API NoowAi. Поддерживается передача истории сообщений для сохранения контекста диалога, а также стриминг ответов от сервера.

## Классы

### `NoowAi`

**Описание**: Класс, реализующий асинхронный генератор для взаимодействия с AI-сервисом NoowAi.

**Наследует**:

-   `AsyncGeneratorProvider`: Базовый класс для асинхронных провайдеров.

**Атрибуты**:

-   `url` (str): URL сервиса NoowAi (`"https://noowai.com"`).
-   `supports_message_history` (bool): Поддержка истории сообщений (всегда `True`).
-   `supports_gpt_35_turbo` (bool): Поддержка модели GPT-3.5 Turbo (всегда `True`).
-   `working` (bool): Статус работоспособности провайдера (всегда `False`).

**Методы**:

-   `create_async_generator`: Создает асинхронный генератор для получения ответов от NoowAi.

## Методы класса

### `create_async_generator`

```python
@classmethod
async def create_async_generator(
    cls,
    model: str,
    messages: Messages,
    proxy: str = None,
    **kwargs
) -> AsyncResult:
    """
    Создает асинхронный генератор для получения ответов от NoowAi.

    Args:
        cls (NoowAi): Класс NoowAi.
        model (str): Модель для использования (не используется).
        messages (Messages): Список сообщений для отправки в NoowAi.
        proxy (str, optional): Прокси-сервер для использования. По умолчанию `None`.
        **kwargs: Дополнительные аргументы (не используются).

    Returns:
        AsyncResult: Асинхронный генератор, выдающий ответы от NoowAi.

    Raises:
        RuntimeError: Если получен некорректный ответ от сервера.

    Как работает функция:
        1. Формирует заголовки запроса, включая User-Agent, Referer, Content-Type и другие.
        2. Создает асинхронную сессию с использованием `aiohttp.ClientSession`.
        3. Формирует данные запроса в формате JSON, включая идентификаторы бота, сессии, чата, контекста, список сообщений и флаг стриминга.
        4. Отправляет POST-запрос к API NoowAi (`{cls.url}/wp-json/mwai-ui/v1/chats/submit`) с использованием `session.post`.
        5. Обрабатывает ответы от сервера построчно, проверяя префикс `b"data: "`.
        6. Извлекает JSON из каждой строки данных и проверяет наличие поля `"type"`.
        7. В зависимости от значения поля `"type"`:
           - `"live"`: Извлекает данные и выдает их через `yield`.
           - `"end"`: Завершает генерацию.
           - `"error"`: Вызывает исключение `RuntimeError` с сообщением об ошибке.

    Внутренние функции:
        - Отсутствуют

    Примеры:
        Примеры использования функции `create_async_generator` не могут быть предоставлены,
        так как это класс-метод, требующий контекста класса и асинхронной среды выполнения.
    """
    ...
```

## Параметры класса

-   `url` (str): URL сервиса NoowAi.
-   `supports_message_history` (bool): Поддержка истории сообщений.
-   `supports_gpt_35_turbo` (bool): Поддержка модели GPT-3.5 Turbo.
-   `working` (bool): Статус работоспособности провайдера.