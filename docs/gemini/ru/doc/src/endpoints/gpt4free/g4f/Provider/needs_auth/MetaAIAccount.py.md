# Документация модуля MetaAIAccount

## Обзор

Модуль `MetaAIAccount` является частью проекта `hypotez` и предназначен для работы с моделями Meta AI, требующими авторизации. Он расширяет функциональность класса `MetaAI` и предоставляет механизм для создания асинхронного генератора, который взаимодействует с моделями Meta AI через cookies для аутентификации.

## Подробнее

Модуль `MetaAIAccount` предназначен для работы с моделями Meta AI, требующими авторизации. Он наследует функциональность от класса `MetaAI` и использует cookies для аутентификации при взаимодействии с моделями Meta AI. Это позволяет создавать асинхронные генераторы, которые могут использоваться для получения ответов от моделей Meta AI в асинхронном режиме.

## Классы

### `MetaAIAccount`

**Описание**: Класс `MetaAIAccount` предназначен для работы с моделями Meta AI, требующими авторизации.

**Наследует**:

- `MetaAI`: Класс, предоставляющий базовую функциональность для взаимодействия с моделями Meta AI.

**Атрибуты**:

- `needs_auth` (bool): Указывает, требуется ли авторизация для работы с моделью. Всегда `True` для этого класса.
- `parent` (str): Указывает родительский класс. Всегда `"MetaAI"` для этого класса.
- `image_models` (list): Список моделей изображений, поддерживаемых этим классом. Содержит `"meta"`.

**Методы**:

- `create_async_generator()`: Создает асинхронный генератор для взаимодействия с моделями Meta AI.

## Методы класса

### `create_async_generator`

```python
@classmethod
async def create_async_generator(
    cls,
    model: str,
    messages: Messages,
    proxy: str = None,
    cookies: Cookies = None,
    **kwargs
) -> AsyncResult:
    """Создает асинхронный генератор для взаимодействия с моделями Meta AI.

    Args:
        cls (MetaAIAccount): Ссылка на класс `MetaAIAccount`.
        model (str): Идентификатор модели, с которой необходимо взаимодействовать.
        messages (Messages): Список сообщений для отправки в модель.
        proxy (str, optional): Адрес прокси-сервера для использования. По умолчанию `None`.
        cookies (Cookies, optional): Cookies для аутентификации. Если `None`, используются cookies из домена ".meta.ai". По умолчанию `None`.
        **kwargs: Дополнительные аргументы.

    Returns:
        AsyncResult: Асинхронный генератор, который возвращает чанки ответов от модели.

    Как работает функция:
    - Функция извлекает cookies для домена ".meta.ai", если они не были переданы в качестве аргумента.
    - Создает экземпляр класса `MetaAIAccount` с использованием прокси-сервера (если указан).
    - Форматирует сообщения для отправки в модель.
    - Итерирует по чанкам, возвращаемым методом `prompt` экземпляра класса `MetaAIAccount`, и возвращает их как часть асинхронного генератора.

    Примеры:
        >>> model = "default"
        >>> messages = [{"role": "user", "content": "Hello, world!"}]
        >>> async for chunk in MetaAIAccount.create_async_generator(model, messages):
        ...     print(chunk, end="")
        <Ответ модели Meta AI>
    """
    ...