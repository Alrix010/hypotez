# Модуль конфигурации для TinyTroupe

## Обзор

Этот модуль предоставляет функции для чтения и управления конфигурацией для приложения TinyTroupe.

## Подробней

Модуль `config.py`  занимается чтением конфигурационных файлов, настройкой логгера и предоставляет вспомогательные функции для вывода конфигурации.

## Функции

### `read_config_file`

**Назначение**: Функция считывает конфигурационные файлы и возвращает объект `configparser.ConfigParser`.

**Параметры**:
- `use_cache` (bool, optional): Флаг, указывающий, использовать ли кэшированную конфигурацию. По умолчанию `True`.
- `verbose` (bool, optional): Флаг, указывающий, выводить ли информацию о чтении файлов. По умолчанию `True`.

**Возвращает**:
- `configparser.ConfigParser`: Объект `configparser.ConfigParser`, содержащий считанные конфигурационные параметры.

**Вызывает исключения**:
- `ValueError`: Возникает, если не удалось найти файл конфигурации по заданному пути.

**Как работает функция**:

1. Функция сначала проверяет, есть ли кэшированная конфигурация (`_config`). 
2. Если кэшированная конфигурация доступна и `use_cache` установлен в `True`, то она возвращается.
3. В противном случае функция создает новый объект `configparser.ConfigParser`.
4. Она пытается найти файл конфигурации по умолчанию в каталоге `../config.ini` относительно текущего файла.
5. Если файл конфигурации по умолчанию найден, то он считывается.
6. Затем функция пытается найти пользовательский файл конфигурации в текущем каталоге (`config.ini`).
7. Если пользовательский файл найден, то он считывается, переопределяя значения, которые уже есть в файле конфигурации по умолчанию.
8. Функция возвращает объект `configparser.ConfigParser`, содержащий все считанные конфигурационные параметры.


**Примеры**:
```python
# Чтение файла конфигурации с использованием кэширования
config = read_config_file()

# Чтение файла конфигурации без кэширования
config = read_config_file(use_cache=False)

# Чтение файла конфигурации с подробным выводом
config = read_config_file(verbose=True)
```

### `pretty_print_config`

**Назначение**: Функция выводит текущую конфигурацию в удобочитаемом формате.

**Параметры**:
- `config` (`configparser.ConfigParser`): Объект `configparser.ConfigParser`, содержащий конфигурационные параметры.

**Возвращает**:
- `None`

**Как работает функция**:

1. Функция выводит заголовок, разделяющий конфигурационные параметры.
2. Она проходит по всем разделам конфигурации (`sections()`).
3. Для каждого раздела она выводит название раздела и все ключи и значения в этом разделе.

**Примеры**:
```python
# Получение объекта конфигурации
config = read_config_file()

# Вывод конфигурации в удобочитаемом формате
pretty_print_config(config)
```

### `start_logger`

**Назначение**: Функция инициализирует логгер, используя конфигурационные параметры.

**Параметры**:
- `config` (`configparser.ConfigParser`): Объект `configparser.ConfigParser`, содержащий конфигурационные параметры.

**Возвращает**:
- `None`

**Как работает функция**:

1. Функция создает логгер с именем `tinytroupe`.
2. Она извлекает уровень логгирования из конфигурации (`LOGLEVEL` в разделе `Logging`).
3. Она создает обработчик (`StreamHandler`), который будет выводить логи в консоль.
4. Она создает форматтер (`Formatter`) для форматирования логов.
5. Она добавляет форматтер к обработчику.
6. Она добавляет обработчик к логгеру.

**Примеры**:
```python
# Получение объекта конфигурации
config = read_config_file()

# Инициализация логгера
start_logger(config)

# Вывод сообщения в лог
logger.info("This is an info message")
```