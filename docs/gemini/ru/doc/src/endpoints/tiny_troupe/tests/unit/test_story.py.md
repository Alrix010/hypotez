# Модуль тестирования TinyStory

## Обзор

Этот модуль содержит набор тестов для проверки функциональности класса `TinyStory`, который используется для создания историй с использованием AI-моделей. Тесты проверяют возможность начала истории, продолжения истории, а также соответствие сгенерированного текста заданным требованиям.

## Подробнее

Модуль использует `pytest` для запуска тестов и включает в себя тесты для проверки начала и продолжения истории, генерируемых классом `TinyStory`. Также проверяется соответствие сгенерированного текста заданным требованиям.

## Классы

### `TinyStory`

**Описание**: Класс, отвечающий за создание историй на основе заданного мира (world).

**Методы**:

- `start_story()`: Метод для начала истории.
- `continue_story()`: Метод для продолжения истории.

## Функции

### `test_story_start`

**Назначение**: Тест проверяет корректность начала истории, генерируемой классом `TinyStory`.

**Параметры**:

- `setup`: Фикстура pytest для настройки тестовой среды.
- `focus_group_world`: Фикстура, предоставляющая объект world для тестирования.

**Возвращает**:
- `None`

**Как работает функция**:
1. Получает объект `world` из фикстуры `focus_group_world`.
2. Создает экземпляр класса `TinyStory` с полученным `world`.
3. Запускает генерацию начала истории с помощью метода `start_story()`.
4. Выводит сгенерированное начало истории в консоль.
5. Проверяет, что сгенерированное начало истории правдоподобно и соответствует именам персонажей (Lisa, Marcos или Oscar).

**Примеры**:

```python
# Пример вызова функции test_story_start
test_story_start(setup, focus_group_world)
```

### `test_story_start_2`

**Назначение**: Тест проверяет корректность начала истории с дополнительными требованиями, генерируемой классом `TinyStory`.

**Параметры**:

- `setup`: Фикстура pytest для настройки тестовой среды.
- `focus_group_world`: Фикстура, предоставляющая объект world для тестирования.

**Возвращает**:
- `None`

**Как работает функция**:

1. Получает объект `world` из фикстуры `focus_group_world`.
2. Создает экземпляр класса `TinyStory` с полученным `world`.
3. Запускает генерацию начала истории с дополнительными требованиями (история должна быть крайне безумной и нереальной) с помощью метода `start_story()`.
4. Выводит сгенерированное начало истории в консоль.
5. Проверяет, что сгенерированное начало истории правдоподобно, соответствует заданным требованиям и именам персонажей (Lisa, Marcos или Oscar).

**Примеры**:

```python
# Пример вызова функции test_story_start_2
test_story_start_2(setup, focus_group_world)
```

### `test_story_continuation`

**Назначение**: Тест проверяет корректность продолжения истории, генерируемой классом `TinyStory`.

**Параметры**:

- `setup`: Фикстура pytest для настройки тестовой среды.
- `focus_group_world`: Фикстура, предоставляющая объект world для тестирования.

**Возвращает**:
- `None`

**Как работает функция**:

1. Получает объект `world` из фикстуры `focus_group_world`.
2. Определяет начало истории `story_beginning`.
3. Отправляет начало истории в `world` с помощью метода `broadcast()`.
4. Запускает `world` на два шага с помощью метода `run()`.
5. Создает экземпляр класса `TinyStory` с полученным `world`.
6. Запускает генерацию продолжения истории с помощью метода `continue_story()`.
7. Выводит сгенерированное продолжение истории в консоль.
8. Проверяет, что сгенерированное продолжение истории логически связано с началом истории.

**Примеры**:

```python
# Пример вызова функции test_story_continuation
test_story_continuation(setup, focus_group_world)
```