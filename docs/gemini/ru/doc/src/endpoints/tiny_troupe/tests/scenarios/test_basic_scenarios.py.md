# Модуль тестирования основных сценариев `test_basic_scenarios.py`

## Обзор

Модуль содержит набор тестов для проверки базовых сценариев работы и использования инструментов в проекте `tinytroupe`. Он включает тесты для инициализации и завершения симуляций, определения атрибутов агентов и использования инструментов, таких как текстовый процессор.

## Подробнее

Модуль предназначен для автоматизированного тестирования основных функций и сценариев, связанных с агентами, симуляциями и инструментами в системе `tinytroupe`. Он проверяет правильность инициализации симуляций, определения атрибутов агентов, а также корректность использования инструментов для выполнения задач.

## Функции

### `test_basic_scenario_1`

```python
def test_basic_scenario_1():
    """Тест базового сценария 1.

    Выполняет проверку базового сценария, включающего запуск и остановку симуляции,
    определение атрибутов агента и проверку наличия следов выполнения.

    Args:
        None

    Returns:
        None

    Raises:
        AssertionError: Если состояние симуляции или атрибуты агента не соответствуют ожидаемым значениям.

    Примеры:
        >>> test_basic_scenario_1()
        # Проверяет инициализацию, запуск и остановку симуляции, а также определение атрибутов агента.
    """
    ...
```

**Назначение**: Проверяет базовый сценарий симуляции, включая её запуск, определение атрибутов агента и завершение.

**Как работает функция**:
- Сбрасывает состояние симуляции с помощью `control.reset()`.
- Проверяет, что нет запущенных симуляций.
- Начинает симуляцию с помощью `control.begin()`.
- Проверяет, что симуляция запущена.
- Создает агента `Oscar` с помощью `create_oscar_the_architect()`.
- Определяет атрибуты агента `age` и `nationality`.
- Проверяет наличие кэшированного и полного следов выполнения.
- Создает чекпоинт симуляции с помощью `control.checkpoint()`.
- Заставляет агента прослушать и действовать с помощью `agent.listen_and_act("How are you doing??")`.
- Определяет атрибут агента `occupation`.
- Создает чекпоинт симуляции.
- Завершает симуляцию с помощью `control.end()`.

**Примеры**:
```python
test_basic_scenario_1()
```

### `test_tool_usage_1`

```python
def test_tool_usage_1():
    """Тест использования инструмента 1.

    Проверяет сценарий использования инструмента (в данном случае, текстового процессора)
    агентом для выполнения задачи, включающей создание и сохранение документа.

    Args:
        None

    Returns:
        None

    Raises:
        AssertionError: Если действие не было выполнено или файл не был создан.

    Примеры:
        >>> test_tool_usage_1()
        # Проверяет создание и сохранение документа с использованием текстового процессора.
    """
    ...
```

**Назначение**: Проверяет использование инструментов агентом, в частности, текстового процессора, для выполнения задачи по созданию и сохранению документа.

**Как работает функция**:
- Определяет путь к папке для экспорта данных.
- Создает экземпляры `ArtifactExporter` и `TinyEnricher`.
- Создает `TinyToolUse` с `TinyWordProcessor` в качестве инструмента.
- Создает агента `lisa` с помощью `create_lisa_the_data_scientist()`.
- Добавляет `tooluse_faculty` к ментальным способностям агента.
- Заставляет агента прослушать и действовать на основе предоставленной инструкции.
- Проверяет, что в списке действий есть действие типа `WRITE_DOCUMENT`.
- Проверяет, что документ был записан в файл в формате `.docx`, `.json` и `.md`.

**Примеры**:
```python
test_tool_usage_1()
```

### Внутренние функции

#### `contains_action_type`
```python
def contains_action_type(actions:list,action_name:str) -> bool:
    """ Функция поиска имени действия в списке действий
        Args:
            actions (list): Список действий.
            action_name (str): Имя действия.

        Returns:
            bool: True если действие найдено, False если нет.

        Raises:
            None

        Примеры:
            >>> actions = ["WRITE_DOCUMENT", "READ_DOCUMENT"]
            >>> contains_action_type(actions, "WRITE_DOCUMENT")
            True
            >>> contains_action_type(actions, "DELETE_DOCUMENT")
            False
    """
    ...
```
**Назначение**: Определяет, содержит ли список действий действие определенного типа.

**Как работает функция**:
- Проходит по списку действий и проверяет, соответствует ли тип действия заданному имени действия.
- Возвращает `True`, если находит совпадение, иначе возвращает `False`.

**Примеры**:
```python
actions = ["WRITE_DOCUMENT", "READ_DOCUMENT"]
contains_action_type(actions, "WRITE_DOCUMENT")  # Возвращает True
contains_action_type(actions, "DELETE_DOCUMENT")  # Возвращает False
```
## Переменные

- `logger` (logging.Logger): Объект логгера для записи информации о работе тестов.
- `EXPORT_BASE_FOLDER` (str): Путь к базовой папке для экспорта артефактов. Определяется в `testing_utils.py`.