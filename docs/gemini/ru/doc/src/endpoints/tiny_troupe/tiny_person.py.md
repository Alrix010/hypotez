# Модуль для создания и взаимодействия с виртуальными личностями

## Обзор

Модуль предоставляет простой способ создания и взаимодействия с виртуальными личностями, используя класс `TinyPerson`. Он позволяет определять характеристики личности и взаимодействовать с ней через текстовые запросы.

## Подробней

Этот модуль является частью проекта `hypotez` и предназначен для создания виртуальных агентов с определенными характеристиками и способностями к взаимодействию. Он использует библиотеку `tinytroupe` для создания и управления личностями. Модуль также загружает API-ключ OpenAI из переменных окружения, что необходимо для работы с некоторыми моделями обработки естественного языка.

## Классы

### `TinyPerson`

**Описание**: Класс для представления виртуальной личности.

**Наследует**:
- Не наследует другие классы.

**Атрибуты**:
- `name` (str): Имя личности.
- `memory` (Memory): Объект памяти для хранения информации о личности.

**Методы**:
- `define(key: str, value: Any) -> None`: Определяет характеристику личности.
- `listen(message: str) -> None`: Обрабатывает входящее сообщение и сохраняет его в памяти.
- `act() -> None`: Генерирует ответ на основе текущей памяти и характеристик личности.
- `pp_current_interactions() -> None`: Выводит текущие взаимодействия личности.

**Принцип работы**:
Класс `TinyPerson` представляет собой виртуальную личность, способную хранить информацию о себе и взаимодействовать с пользователем. Он использует объект `Memory` для хранения информации и методы `define`, `listen` и `act` для определения характеристик, обработки сообщений и генерации ответов соответственно.

## Методы класса

### `define`

```python
def define(key: str, value: Any) -> None:
    """Определяет характеристику личности.

    Args:
        key (str): Ключ характеристики.
        value (Any): Значение характеристики.

    Returns:
        None

    Raises:
        Нет исключений.

    Example:
        >>> john = TinyPerson(name="John")
        >>> john.define("age", 35)
    """
```

**Назначение**: Определяет характеристику личности, сохраняя ее в памяти.

**Параметры**:
- `key` (str): Ключ характеристики.
- `value` (Any): Значение характеристики.

**Возвращает**:
- `None`

**Как работает функция**:
Функция `define` принимает ключ и значение характеристики и сохраняет их в памяти личности, используя метод `add` объекта `memory`.

### `listen`

```python
def listen(message: str) -> None:
    """Обрабатывает входящее сообщение и сохраняет его в памяти.

    Args:
        message (str): Входящее сообщение.

    Returns:
        None

    Raises:
        Нет исключений.

    Example:
        >>> john = TinyPerson(name="John")
        >>> john.listen("Hello, John! How are you today?")
    """
```

**Назначение**: Обрабатывает входящее сообщение и сохраняет его в памяти.

**Параметры**:
- `message` (str): Входящее сообщение.

**Возвращает**:
- `None`

**Как работает функция**:
Функция `listen` принимает входящее сообщение и сохраняет его в памяти личности, используя метод `add` объекта `memory`.

### `act`

```python
def act() -> None:
    """Генерирует ответ на основе текущей памяти и характеристик личности.

    Args:
        Нет параметров.

    Returns:
        None

    Raises:
        Нет исключений.

    Example:
        >>> john = TinyPerson(name="John")
        >>> john.define("age", 35)
        >>> john.listen("Hello, John! How are you today?")
        >>> john.act()
    """
```

**Назначение**: Генерирует ответ на основе текущей памяти и характеристик личности.

**Параметры**:
- Нет параметров.

**Возвращает**:
- `None`

**Как работает функция**:
Функция `act` использует текущую память и характеристики личности для генерации ответа. В текущей реализации функция не выполняет никаких действий, но может быть расширена для использования моделей обработки естественного языка для генерации более сложных ответов.

### `pp_current_interactions`

```python
def pp_current_interactions() -> None:
    """Выводит текущие взаимодействия личности.

    Args:
        Нет параметров.

    Returns:
        None

    Raises:
        Нет исключений.

    Example:
        >>> john = TinyPerson(name="John")
        >>> john.define("age", 35)
        >>> john.listen("Hello, John! How are you today?")
        >>> john.act()
        >>> john.pp_current_interactions()
    """
```

**Назначение**: Выводит текущие взаимодействия личности.

**Параметры**:
- Нет параметров.

**Возвращает**:
- `None`

**Как работает функция**:
Функция `pp_current_interactions` выводит текущие взаимодействия личности в консоль. В текущей реализации функция не выполняет никаких действий, но может быть расширена для более информативного отображения взаимодействий.

## Параметры класса

- `name` (str): Имя личности.
- `memory` (Memory): Объект памяти для хранения информации о личности.

## Примеры

```python
import os
from dotenv import load_dotenv
# Если ключ хранится в файле .env
load_dotenv()
os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")

from tinytroupe.agent import TinyPerson

# Create a TinyPerson instance
john = TinyPerson(name="John")

# Define some characteristics
john.define("age", 35)
john.define("occupation", "Software Engineer")
john.define("nationality", "American")
john.define("skills", [{"skill": "Coding in python"}])

# Interact with the agent
john.listen("Hello, John! How are you today?")
john.act()
john.pp_current_interactions()