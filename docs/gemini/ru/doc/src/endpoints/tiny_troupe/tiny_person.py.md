# Модуль `tiny_person.py`

## Обзор

Этот модуль демонстрирует использование класса `TinyPerson` для создания и взаимодействия с виртуальным агентом. Он включает в себя настройку переменных окружения для доступа к OpenAI API, создание экземпляра `TinyPerson`, определение его характеристик и выполнение взаимодействий.

## Подробней

Модуль предназначен для создания и управления простыми виртуальными агентами, которые могут "слушать" входные данные и "действовать" на их основе. В данном примере агент представляется экземпляром класса `TinyPerson`, которому присваиваются различные характеристики, такие как возраст, профессия и навыки. После этого с агентом происходит взаимодействие, и результаты выводятся на экран.

## Классы

### `TinyPerson`

**Описание**: Класс `TinyPerson` представляет собой виртуального агента с определенными характеристиками и способностью взаимодействовать с окружением. Подробное описание класса приведено в модуле `tinytroupe.agent`.

**Наследует**:
    - Нет явного наследования в представленном коде, но класс `TinyPerson` может наследоваться от других базовых классов в рамках проекта `hypotez`.

**Атрибуты**:
    - `name` (str): Имя агента.
    - Другие атрибуты определяются динамически через метод `define`.

**Методы**:
    - `define(attribute: str, value: Any)`: Определяет атрибут агента и его значение.
    - `listen(message: str)`: Принимает сообщение для взаимодействия с агентом.
    - `act()`: Выполняет действие на основе полученного сообщения.
    - `pp_current_interactions()`: Выводит текущие взаимодействия агента.

**Принцип работы**:

1.  Создается экземпляр класса `TinyPerson` с заданным именем.
2.  Определяются характеристики агента с помощью метода `define`, такие как возраст, профессия, национальность и навыки.
3.  Агент "слушает" сообщение с помощью метода `listen`.
4.  Агент "действует" на основе полученного сообщения с помощью метода `act`.
5.  Результаты взаимодействия выводятся на экран с помощью метода `pp_current_interactions`.

## Функции

### `load_dotenv()`

**Назначение**: Загружает переменные окружения из файла `.env`.

**Параметры**:
    - Нет параметров.

**Возвращает**:
    - Нет возвращаемого значения.

**Вызывает исключения**:
    - Не указаны.

**Как работает функция**:
    - Функция `load_dotenv()` загружает переменные окружения из файла `.env` в текущее окружение, что позволяет использовать их в коде.

**Примеры**:

```python
load_dotenv()
```

### `os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")`

**Назначение**: Устанавливает значение переменной окружения `OPENAI_API_KEY` из файла `.env`.

**Параметры**:
    - Нет параметров.

**Возвращает**:
    - Нет возвращаемого значения.

**Вызывает исключения**:
    - Не указаны.

**Как работает функция**:
    - Функция `os.getenv("OPENAI_API_KEY")` пытается получить значение переменной окружения `OPENAI_API_KEY` из файла `.env`.
    - Если значение найдено, оно присваивается переменной окружения `os.environ["OPENAI_API_KEY"]`.

**Примеры**:

```python
os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")
```

## Методы класса `TinyPerson`

### `define(attribute: str, value: Any)`

**Назначение**: Определяет атрибут агента и его значение.

**Параметры**:
    - `attribute` (str): Имя атрибута.
    - `value` (Any): Значение атрибута.

**Возвращает**:
    - Нет возвращаемого значения.

**Вызывает исключения**:
    - Не указаны.

**Как работает функция**:
    - Метод `define` добавляет новый атрибут к агенту и присваивает ему указанное значение.

**Примеры**:

```python
john.define("age", 35)
john.define("occupation", "Software Engineer")
```

### `listen(message: str)`

**Назначение**: Принимает сообщение для взаимодействия с агентом.

**Параметры**:
    - `message` (str): Сообщение для агента.

**Возвращает**:
    - Нет возвращаемого значения.

**Вызывает исключения**:
    - Не указаны.

**Как работает функция**:
    - Метод `listen` принимает сообщение, которое будет использовано для дальнейшего взаимодействия с агентом.

**Примеры**:

```python
john.listen("Hello, John! How are you today?")
```

### `act()`

**Назначение**: Выполняет действие на основе полученного сообщения.

**Параметры**:
    - Нет параметров.

**Возвращает**:
    - Нет возвращаемого значения.

**Вызывает исключения**:
    - Не указаны.

**Как работает функция**:
    - Метод `act` выполняет действие на основе полученного сообщения. Детали реализации зависят от логики класса `TinyPerson`.

**Примеры**:

```python
john.act()
```

### `pp_current_interactions()`

**Назначение**: Выводит текущие взаимодействия агента.

**Параметры**:
    - Нет параметров.

**Возвращает**:
    - Нет возвращаемого значения.

**Вызывает исключения**:
    - Не указаны.

**Как работает функция**:
    - Метод `pp_current_interactions` выводит текущие взаимодействия агента на экран.

**Примеры**:

```python
john.pp_current_interactions()
```

## Примеры

```python
import os
from dotenv import load_dotenv
# Если ключ хранится в файле .env
load_dotenv()
os.environ["OPENAI_API_KEY"] = os.getenv("OPENAI_API_KEY")

from tinytroupe.agent import TinyPerson

# Create a TinyPerson instance
john = TinyPerson(name="John")

# Define some characteristics
john.define("age", 35)
john.define("occupation", "Software Engineer")
john.define("nationality", "American")
john.define("skills", [{"skill": "Coding in python"}])

# Interact with the agent
john.listen("Hello, John! How are you today?")
john.act()
john.pp_current_interactions()