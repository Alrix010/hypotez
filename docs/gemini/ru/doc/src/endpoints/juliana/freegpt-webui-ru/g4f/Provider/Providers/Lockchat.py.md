# Модуль Lockchat

## Обзор

Этот модуль предоставляет реализацию провайдера `Lockchat` для генерации ответов с помощью моделей GPT-4 и GPT-3.5-turbo. 

## Подробнее

Модуль предоставляет следующие функциональные возможности:

- Создание запросов к API Lockchat для получения ответов от моделей GPT-4 и GPT-3.5-turbo.
- Поддержка потоковой передачи ответов (streaming).
- Обработка ошибок и повторные попытки, если возникли проблемы с соединением или моделью.

## Классы

### `_create_completion`

**Описание**: Функция создает запрос к API Lockchat для получения ответа от модели GPT-4 или GPT-3.5-turbo.
**Параметры**:
- `model` (str): Имя модели, которая будет использоваться для генерации ответа (например, "gpt-4").
- `messages` (list): Список сообщений, которые будут использоваться для контекста ответа.
- `stream` (bool): Флаг, указывающий, следует ли использовать потоковую передачу ответов.
- `temperature` (float, optional): Температура модели, которая регулирует креативность ответа. По умолчанию `0.7`.
- `**kwargs`: Дополнительные аргументы, которые будут переданы в API Lockchat.

**Возвращает**:
- `Generator[str, None, None]`: Генератор, который выдает токены ответа модели.

**Вызывает исключения**:
- `Exception`: Если возникла ошибка при подключении к API Lockchat.
- `ValueError`: Если модель не найдена.

**Пример**:

```python
messages = [
    {"role": "user", "content": "Привет! Как дела?"},
]

# Создание запроса к API Lockchat для получения ответа от модели gpt-4
for token in _create_completion(model="gpt-4", messages=messages, stream=True):
    print(token)
```


**Как работает функция**:

- Функция создает объект `requests.post` с данными запроса, включая модель, сообщения, флаг потоковой передачи и температуру.
- Отправляет запрос на API Lockchat.
- Обрабатывает ответ от API и выдает токены ответа в виде генератора.
- В случае ошибки, выдает сообщение об ошибке и пытается повторить запрос.

## Параметры

- `url`: URL-адрес API Lockchat.
- `model`: Список поддерживаемых моделей.
- `supports_stream`: Флаг, указывающий, поддерживается ли потоковая передача.
- `needs_auth`: Флаг, указывающий, требуется ли аутентификация.

## Примеры

```python
from g4f.Provider.Providers.Lockchat import _create_completion

messages = [
    {"role": "user", "content": "Привет! Как дела?"},
]

# Создание запроса к API Lockchat для получения ответа от модели gpt-4
for token in _create_completion(model="gpt-4", messages=messages, stream=True):
    print(token)
```
```markdown