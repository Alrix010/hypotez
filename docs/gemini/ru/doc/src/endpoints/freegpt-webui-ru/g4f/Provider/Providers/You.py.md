# Модуль для взаимодействия с You.com

## Обзор

Модуль предоставляет функции для взаимодействия с моделью `gpt-3.5-turbo` через веб-сервис `You.com`. Он использует подпроцесс для выполнения Python-скрипта `you.py`, который отправляет запросы к API `You.com`. Поддерживает потоковую передачу данных.

## Подробней

Модуль предназначен для интеграции с API `You.com` для получения ответов от модели `gpt-3.5-turbo`. Он использует модуль `subprocess` для запуска отдельного процесса, который взаимодействует с API. Полученные данные передаются потоково.

## Функции

### `_create_completion`

**Назначение**: Функция отправляет запрос к API `You.com` и возвращает ответ в потоковом режиме.

**Параметры**:
- `model` (str): Идентификатор модели, используемой для генерации ответа.
- `messages` (list): Список сообщений, составляющих контекст запроса.
- `stream` (bool): Флаг, указывающий, следует ли возвращать ответ в потоковом режиме.
- `**kwargs`: Дополнительные параметры.

**Возвращает**:
- `Generator[str, None, None]`: Генератор строк, представляющих собой части ответа от API `You.com`.

**Вызывает исключения**:
- Отсутствуют явные исключения, но могут возникать исключения, связанные с работой подпроцесса или сетевыми запросами.

**Как работает функция**:

1. Определяет путь к текущему файлу и формирует путь к скрипту `you.py`.
2. Преобразует список сообщений в JSON-строку.
3. Формирует команду для запуска скрипта `you.py` с передачей JSON-строки в качестве аргумента.
4. Запускает скрипт `you.py` в качестве подпроцесса и перехватывает его стандартный вывод.
5. Итерируется по строкам вывода подпроцесса и декодирует их из байтов в UTF-8, возвращая каждую строку как часть генератора.

**Примеры**:

```python
messages = [{"role": "user", "content": "Hello, how are you?"}]
for chunk in _create_completion(model="gpt-3.5-turbo", messages=messages, stream=True):
    print(chunk, end="")