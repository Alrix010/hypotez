# Документация для модуля `Gravityengine.py`

## Обзор

Модуль `Gravityengine.py` предоставляет реализацию провайдера для взаимодействия с API Gravityengine, который предоставляет доступ к моделям, подобным `gpt-3.5-turbo-16k` и `gpt-3.5-turbo-0613`. Модуль позволяет отправлять запросы к API для генерации текста на основе предоставленных сообщений.

## Подробней

Модуль содержит функцию `_create_completion`, которая отправляет POST-запрос к API Gravityengine и возвращает сгенерированный контент. Он использует библиотеку `requests` для отправки запросов и обрабатывает ответы в формате JSON.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """Функция отправляет запрос к API Gravityengine и возвращает сгенерированный контент.

    Args:
        model (str): Идентификатор используемой модели.
        messages (list): Список сообщений для отправки в API.
        stream (bool): Указывает, должен ли ответ быть потоковым.
        **kwargs: Дополнительные параметры.

    Returns:
        Generator[str, None, None]: Генератор, выдающий контент сгенерированного сообщения.

    Raises:
        Exception: Если возникает ошибка при отправке запроса или обработке ответа.

    Как работает функция:
    - Формирует заголовок запроса с указанием типа контента (`application/json`).
    - Создает словарь `data`, включающий модель, температуру, штраф за присутствие и сообщения.
    - Отправляет POST-запрос к API Gravityengine (`/api/openai/v1/chat/completions`) с заголовками и данными.
    - Обрабатывает ответ в формате JSON и извлекает сгенерированный контент из поля `choices`.
    - Возвращает контент в виде генератора.

    Внутренние функции:
        - В данном коде внутренние функции отсутствуют

    Примеры:
        >>> model = 'gpt-3.5-turbo-16k'
        >>> messages = [{'role': 'user', 'content': 'Hello, world!'}]
        >>> stream = True
        >>> for chunk in _create_completion(model, messages, stream):
        ...     print(chunk)
        Hello, world!
    """
    ...
```

## Переменные модуля

- `url`: URL-адрес API Gravityengine (`https://gpt4.gravityengine.cc`).
- `model`: Список поддерживаемых моделей (`gpt-3.5-turbo-16k`, `gpt-3.5-turbo-0613`).
- `supports_stream`: Указывает, поддерживается ли потоковая передача (`True`).
- `needs_auth`: Указывает, требуется ли аутентификация (`False`).
- `params`: Строка, формирующая параметры для логирования поддерживаемых типов данных.