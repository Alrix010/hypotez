# Модуль Theb

## Обзор

Модуль предоставляет класс для взаимодействия с моделью gpt-3.5-turbo через веб-интерфейс theb.ai. Он использует подпроцесс для запуска скрипта `theb.py`, который выполняет фактическое взаимодействие с моделью.

## Подробней

Модуль предназначен для интеграции в систему, где требуется взаимодействие с моделью gpt-3.5-turbo. Он предоставляет удобный интерфейс для отправки запросов и получения ответов, а также поддерживает потоковую передачу данных. Взаимодействие с моделью осуществляется через запуск скрипта `theb.py` в виде подпроцесса.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """
    Создает запрос к модели gpt-3.5-turbo через подпроцесс.

    Args:
        model (str): Имя модели.
        messages (list): Список сообщений для отправки модели.
        stream (bool): Флаг, указывающий, использовать ли потоковую передачу данных.
        **kwargs: Дополнительные аргументы.

    Returns:
        Generator[str, None, None]: Генератор строк, содержащих ответы от модели.

    Raises:
        Exception: Если возникает ошибка при создании запроса.

    Как работает функция:
    - Определяет путь к текущему файлу.
    - Преобразует сообщения и модель в JSON-строку.
    - Формирует команду для запуска скрипта `theb.py` с параметрами.
    - Запускает скрипт `theb.py` как подпроцесс.
    - Читает вывод подпроцесса построчно и возвращает его через генератор.
    """
```
**Примеры**:
```python
# Пример вызова функции
messages = [{"role": "user", "content": "Hello, how are you?"}]
model = "gpt-3.5-turbo"
stream = True
for line in _create_completion(model, messages, stream):
    print(line)
```

## Переменные модуля

- `url` (str): URL веб-интерфейса theb.ai.
- `model` (list): Список поддерживаемых моделей (в данном случае, `gpt-3.5-turbo`).
- `supports_stream` (bool): Флаг, указывающий на поддержку потоковой передачи данных.
- `needs_auth` (bool): Флаг, указывающий на необходимость аутентификации.

## Параметры

- `model` (str): Более подробное описание параметра `model`.
- `messages` (list): Более подробное описание параметра `messages`.
- `stream` (bool): Более подробное описание параметра `stream`.
- `kwargs` (dict): Более подробное описание параметра `kwargs`.