# Модуль Liaobots для взаимодействия с API Liaobots.com

## Обзор

Этот модуль предоставляет функциональность для взаимодействия с API сервиса Liaobots.com. 
Он позволяет отправлять запросы к API, используя модели GPT-3.5 и GPT-4, а также поддерживает потоковый вывод ответа.

## Подробности

Модуль реализует следующие функции:

- `_create_completion`: функция для создания запроса к API Liaobots.com.

## Функции

### `_create_completion`

```python
def _create_completion(model: str, messages: list, stream: bool, **kwargs):
    """
    Функция отправляет запрос к API Liaobots.com с заданными параметрами.

    Args:
        model (str): Идентификатор модели (например, 'gpt-3.5-turbo', 'gpt-4').
        messages (list): Список сообщений для отправки модели.
        stream (bool): Флаг, указывающий, следует ли использовать потоковый вывод.
        **kwargs: Дополнительные параметры для запроса.

    Returns:
        Генератор строк, который выдает части ответа от модели.

    Raises:
        Exception: В случае возникновения ошибки при отправке запроса или получении ответа.
    """
    ...
```

**Параметры:**

- `model` (str): Идентификатор модели (например, 'gpt-3.5-turbo', 'gpt-4').
- `messages` (list): Список сообщений для отправки модели.
- `stream` (bool): Флаг, указывающий, следует ли использовать потоковый вывод.
- `**kwargs`: Дополнительные параметры для запроса, такие как `auth` (токен авторизации).

**Возвращает:**

- Генератор строк, который выдает части ответа от модели.

**Как работает функция:**

1. Формирует заголовок HTTP-запроса с необходимыми параметрами, включая токен авторизации.
2. Формирует JSON-данные для запроса, включающие идентификатор модели, список сообщений, ключ API и текст подсказки.
3. Отправляет POST-запрос к API Liaobots.com.
4. Если включен потоковый вывод, то генерирует итерируемый объект, который выдает части ответа.
5. В случае ошибки, функция выдает исключение.

**Примеры:**

```python
# Пример отправки запроса к API с моделью GPT-3.5
_create_completion(model='gpt-3.5-turbo', messages=[{'role': 'user', 'content': 'Привет'}], stream=True, auth='YOUR_AUTH_TOKEN')

# Пример отправки запроса к API с моделью GPT-4
_create_completion(model='gpt-4', messages=[{'role': 'user', 'content': 'Привет'}], stream=True, auth='YOUR_AUTH_TOKEN')
```