# Модуль проверки актуальной версии

## Обзор

Модуль `src.check_release` предназначен для проверки последней версии релиза указанного репозитория на GitHub.

## Подробнее

Этот модуль предоставляет функциональность для взаимодействия с API GitHub с целью получения информации о последнем опубликованном релизе. В проекте `hypotez` может использоваться для автоматизированной проверки доступности новых версий самого проекта или внешних зависимостей, размещенных на GitHub. Он отправляет HTTP-запрос к API GitHub и обрабатывает полученный ответ для извлечения имени тега последней версии.

## Функции

### `check_latest_release`

**Назначение**: Функция проверяет последнюю версию релиза указанного репозитория на GitHub.

**Параметры**:
- `repo` (str): Название репозитория.
- `owner` (str): Владелец репозитория (пользователь или организация).

**Возвращает**:
- `str | None`: Возвращает имя тега последней версии релиза (строка), если он доступен. В случае ошибки при запросе или обработке ответа возвращает `None`.

**Вызывает исключения**:
- `Exception`: Может возникнуть при попытке распаковки JSON-ответа, если формат данных не соответствует ожидаемому.

**Как работает функция**:
1.  Функция формирует URL для запроса к API GitHub, используя предоставленные владельца (`owner`) и название репозитория (`repo`).
2.  Выполняется GET-запрос по сформированному URL с использованием библиотеки `requests`.
3.  Проверяется статус код ответа.
    *   Если статус код равен 200 (Успех), функция пытается разобрать тело ответа как JSON.
    *   Из разобранного JSON-объекта извлекается значение по ключу `'tag_name'`, которое представляет собой имя тега последней версии релиза.
    *   Извлеченное имя тега возвращается.
    *   Если при распаковке JSON возникает ошибка, она перехватывается, логируется как ошибка с использованием `logger.error`, и функция возвращает `None`.
    *   Если статус код ответа не равен 200, это считается ошибкой при получении данных. Логируется предупреждение (`logger.warning`), содержащее URL запроса и статус код ответа. Функция возвращает `None`.

**Примеры**:

```python
# Пример использования функции check_latest_release для репозитория 'requests' владельца 'psf'
latest_requests_release = check_latest_release(owner='psf', repo='requests')
if latest_requests_release:
    print(f"Последний релиз requests: {latest_requests_release}")
else:
    print("Не удалось получить информацию о последнем релизе requests.")

# Пример использования функции check_latest_release для несуществующего репозитория
latest_nonexistent_release = check_latest_release(owner='nonexistent_user', repo='nonexistent_repo')
if latest_nonexistent_release:
    print(f"Последний релиз nonexistent_repo: {latest_nonexistent_release}")
else:
    print("Не удалось получить информацию о последнем релизе nonexistent_repo (ожидаемо).")
```