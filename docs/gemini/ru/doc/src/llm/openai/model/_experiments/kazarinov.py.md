# Модуль для работы с OpenAI API

## Обзор

Модуль `src/ai/openai/model/_experiments/kazarinov.py` предоставляет функциональность для взаимодействия с моделью OpenAI `gpt-3.5-turbo` через API. 

## Подробнее

Модуль содержит класс `OpenAIChat`, который используется для отправки запросов в модель OpenAI и получения ответов. Класс инициализируется с помощью ключа API и системной инструкции. Системная инструкция предоставляет контекст и ограничения для модели, например, роль, язык, модель, требования к формату ответа.

## Классы

### `OpenAIChat`

**Описание**: Класс для отправки запросов в модель OpenAI `gpt-3.5-turbo` и получения ответов.

**Атрибуты**:

- `api_key` (str): Ключ API для доступа к OpenAI.
- `system_instruction` (str): Системная инструкция, предоставляющая контекст и ограничения для модели.
- `messages` (list): Список сообщений, которые были отправлены в модель.

**Методы**:

- `ask(prompt: str) -> str`: Отправляет вопрос в модель OpenAI и получает ответ.

## Функции

### `chat()`

**Назначение**: Запускает интерактивный чат с моделью OpenAI.

**Параметры**:

- Нет

**Возвращает**:

- Нет

**Как работает функция**:

- Выводит приветственное сообщение.
- Запрашивает у пользователя ключ API.
- Инициализирует объект класса `OpenAIChat`.
- В бесконечном цикле:
    - Запрашивает у пользователя вопрос.
    - Если вопрос равен `exit`, завершает цикл.
    - Иначе отправляет вопрос в модель OpenAI через метод `ask` объекта `OpenAIChat`.
    - Выводит ответ модели.

## Примеры

```python
# Инициализация модели с ключом API и системной инструкцией
ai = OpenAIChat(api_key="YOUR_API_KEY", system_instruction=system_instruction)

# Отправка запроса в модель
response = ai.ask("Какой сегодня день?")

# Вывод ответа модели
print(response)
```

**Пример запуска чата**:

```python
# Запуск функции chat()
if __name__ == "__main__":
    chat()
```

## Внутренние функции

### `ask(prompt: str) -> str`:

**Назначение**: Отправляет вопрос в модель OpenAI и получает ответ.

**Параметры**:

- `prompt` (str): Вопрос, который нужно отправить в модель.

**Возвращает**:

- `str`: Ответ модели.

**Как работает функция**:

- Добавляет вопрос в список сообщений.
- Вызывает метод `openai.ChatCompletion.create` для отправки запроса в модель OpenAI.
- Извлекает ответ из объекта ответа.
- Добавляет ответ в список сообщений.
- Возвращает ответ.

**Обработка исключений**:

- Если возникает ошибка, записывает ее в лог с помощью `logger.error` и возвращает сообщение об ошибке.

## Параметры

- `system_instruction_path` (Path): Путь к файлу с системной инструкцией.
- `system_instruction` (str): Системная инструкция, предоставляющая контекст и ограничения для модели.
- `api_key` (str): Ключ API для доступа к OpenAI.

##  Пример использования вебдрайвера:

Модуль не использует вебдрайвер.