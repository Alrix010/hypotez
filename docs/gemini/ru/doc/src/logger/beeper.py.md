# Модуль для воспроизведения звуковых сигналов

## Обзор

Модуль `beeper` предназначен для воспроизведения различных звуковых сигналов, оповещающих о событиях в системе. 
Он предоставляет возможность задавать различные мелодии и частоты звуков, а также управлять режимом "беззвучия". 

## Подробнее

Модуль `beeper` реализует функциональность оповещения пользователя о различных событиях в системе через звуковые сигналы. 
Он использует библиотеку `winsound` для воспроизведения звуков на Windows-платформах. 
Функция `beep` позволяет задавать мелодию, частоту и продолжительность сигнала.

## Классы

### `class BeepLevel(Enum)`

**Описание**: Класс перечислитель типов событий. Разным событиям соответствуют разные мелодии.

**Атрибуты**:

- **SUCCESS**: Мелодия для успешного завершения операции. 
- **INFO**: Мелодия для информационных сообщений. 
- **ATTENTION**: Мелодия для привлечения внимания.
- **WARNING**: Мелодия для предупреждающих сообщений.
- **DEBUG**: Мелодия для отладочных сообщений.
- **ERROR**: Мелодия для ошибок. 
- **LONG_ERROR**: Длинная мелодия для ошибок.
- **CRITICAL**: Мелодия для критических ошибок.
- **BELL**: Мелодия для стандартного звукового сигнала.

**Пример**:

```python
from src.logger.beeper import BeepLevel

# Воспроизведение мелодии для ошибки
Beeper.beep(BeepLevel.ERROR)

# Воспроизведение мелодии для информационного сообщения
Beeper.beep(BeepLevel.INFO)
```

### `class BeepHandler`

**Описание**: Класс обработчика событий логгера, который воспроизводит звуковые сигналы в зависимости от уровня события.

**Методы**:

- **emit(self, record):**
   - **Назначение**:  Обработчик событий логгера. 
   - **Параметры**: 
     - `record` (dict): Словарь с информацией о событии. 
   - **Описание**:  Выполняет проверку уровня события в `record` и  воспроизводит соответствующий звуковой сигнал. 

- **beep(self, level: BeepLevel | str = BeepLevel.INFO, frequency: int = 400, duration: int = 1000):**
   - **Назначение**:  Воспроизведение звукового сигнала. 
   - **Параметры**: 
     - `level` (`BeepLevel` | `str`, optional):  Уровень события. По умолчанию `BeepLevel.INFO`. 
     - `frequency` (int, optional): Частота сигнала в значениях от 37 до 32000. По умолчанию `400`. 
     - `duration` (int, optional): Длительность сигнала в миллисекундах. По умолчанию `1000`. 
   - **Описание**:  Использует функцию `Beeper.beep` для воспроизведения сигнала.


**Пример**:

```python
from src.logger.beeper import BeepHandler

# Создание экземпляра BeepHandler
handler = BeepHandler()

# Вызов обработчика с информацией о событии
handler.emit({"level": "WARNING"})

# Воспроизведение мелодии для предупреждения
handler.beep(level='WARNING')
```

### `class Beeper`

**Описание**: Класс для воспроизведения звуковых сигналов.

**Атрибуты**:

- **silent** (bool): Флаг, указывающий, включен ли режим "беззвучия". 

**Методы**:

- **beep(level: BeepLevel | str = BeepLevel.INFO, frequency: int = 400, duration: int = 1000) -> None:**
   - **Назначение**:  Воспроизведение звукового сигнала.
   - **Параметры**:
     - `level` (`BeepLevel` | `str`, optional): Тип события: `info`, `attention`, `warning`, `debug`, `error`, `long_error`, `critical`, `bell` или `Beep.SUCCESS`, `Beep.INFO`, `Beep.ATTENTION`, `Beep.WARNING`, `Beep.DEBUG`, `Beep.ERROR`, `Beep.LONG_ERROR`, `Beep.CRITICAL`, `Beep.BELL`. По умолчанию `BeepLevel.INFO`.
     - `frequency` (int, optional): Частота сигнала в значениях от 37 до 32000. По умолчанию `400`. 
     - `duration` (int, optional): Длительность сигнала в миллисекундах. По умолчанию `1000`. 
   - **Описание**: 
       - Проверяет тип `level` (строка или `BeepLevel`). 
       -  Определяет мелодию (`melody`) на основе `level`.
       -  Для каждой ноты в мелодию (`melody`) извлекает частоту `frequency` из словаря `note_freq`.
       -  Использует `winsound.Beep` для воспроизведения звукового сигнала с заданной частотой и продолжительностью.
       -  Если  возникает ошибка - выводит сообщение об ошибке. 
   - **Примеры**: 
        ```python
        # Воспроизведение мелодии для ошибки
        Beeper.beep(BeepLevel.ERROR)

        # Воспроизведение мелодии для информационного сообщения
        Beeper.beep(BeepLevel.INFO)

        # Воспроизведение мелодии для предупреждающего сообщения
        Beeper.beep(BeepLevel.WARNING)

        # Воспроизведение мелодии для отладочного сообщения
        Beeper.beep(BeepLevel.DEBUG)

        # Воспроизведение мелодии для успешного завершения операции
        Beeper.beep(BeepLevel.SUCCESS)

        # Воспроизведение мелодии для привлечения внимания
        Beeper.beep(BeepLevel.ATTENTION)

        # Воспроизведение мелодии для критической ошибки
        Beeper.beep(BeepLevel.CRITICAL)

        # Воспроизведение стандартного звукового сигнала
        Beeper.beep(BeepLevel.BELL)
        ```

## Функции

### `silent_mode(func)`

**Назначение**: Функция-декоратор для управления режимом "беззвучия".

**Параметры**: 
- `func` (function):  Функция, которую нужно декорировать. 

**Описание**: 
-  Проверяет флаг `Beeper.silent`. 
-  Если `Beeper.silent` установлен в `True` - выводит сообщение о пропуске воспроизведения звука и завершает выполнение функции `beep`.
-  В противном случае вызывает оригинальную функцию, переданную как аргумент (`func(*args, **kwargs)`).

**Примеры**:

```python
from src.logger.beeper import silent_mode

@silent_mode
def my_func():
    print("Вызов функции my_func.")

# Включение режима "беззвучия"
Beeper.silent = True

# Вызов функции my_func, которая теперь декорирована
my_func()  # Вывод сообщения о пропуске воспроизведения звука
```

## Параметры класса

- **silent** (bool): Флаг, указывающий, включен ли режим "беззвучия". Если установлен в `True`,  функция `beep` будет пропускать воспроизведение звука.