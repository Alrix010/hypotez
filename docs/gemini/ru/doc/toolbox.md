# Модуль для автоматической генерации документации (`autodoc.py`)

## Обзор

Модуль `autodoc.py` предназначен для автоматического обновления docstring функций с использованием декоратора. Он предоставляет декоратор `@autodoc`, который при применении к функции автоматически добавляет информацию о времени последнего вызова функции в её docstring. Это полезно для отслеживания времени выполнения или использования различных функций в процессе разработки.

## Подробнее

Этот модуль предоставляет простой способ автоматизировать процесс обновления документации функций. Декоратор `@autodoc` оборачивает функцию и добавляет информацию о времени последнего вызова в её docstring. Это позволяет разработчикам легко видеть, когда функция была вызвана в последний раз, без необходимости вручную обновлять docstring.

## Функции

### `autodoc`

```python
def autodoc(func):
    """Декоратор для автоматического обновления docstring функции.

    Args:
        func (callable): Функция, для которой необходимо обновить docstring.

    Returns:
        callable: Обернутая функция с обновленным docstring.
    """
    ...
```

**Назначение**: Декоратор `autodoc` используется для автоматического добавления информации о времени последнего вызова функции в её docstring.

**Параметры**:
- `func` (callable): Функция, к которой применяется декоратор.

**Возвращает**:
- `callable`: Обернутая функция, которая при вызове обновляет свой docstring.

**Как работает функция**:
1. Декоратор принимает функцию `func` в качестве аргумента.
2. Создаёт внутреннюю функцию `wrapper`, которая оборачивает исходную функцию.
3. Внутри `wrapper` вызывается функция `update_docstring(func)` для обновления docstring функции `func`.
4. После обновления docstring вызывается сама функция `func` с переданными аргументами и возвращается результат её выполнения.
5. Декоратор возвращает обёрнутую функцию `wrapper`.

**Примеры**:

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")

example_function(1, "test")
print(example_function.__doc__)
```

### `update_docstring`

```python
def update_docstring(func):
    """Обновляет docstring функции.

    Args:
        func (callable): Функция, docstring которой необходимо обновить.

    Returns:
        None
    """
    ...
```

**Назначение**: Функция `update_docstring` добавляет в docstring функции информацию о времени последнего вызова.

**Параметры**:
- `func` (callable): Функция, docstring которой необходимо обновить.

**Возвращает**:
- `None`

**Как работает функция**:
1. Функция принимает функцию `func`, docstring которой нужно обновить.
2. Получает текущее время в формате "год-месяц-день час:минута:секунда".
3. Проверяет, существует ли docstring у функции `func`.
4. Если docstring существует, добавляет строку с информацией о времени последнего вызова в конец docstring.
5. Если docstring не существует, создает новый docstring и добавляет в него информацию о времени последнего вызова.

**Примеры**:

```python
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")

update_docstring(example_function)
print(example_function.__doc__)
```

### `example_function`

```python
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")
```

**Назначение**: Пример функции, к которой применяется декоратор `@autodoc`.

**Параметры**:
- `param1` (int): Первое значение.
- `param2` (str): Второе значение.

**Возвращает**:
- `None`

**Как работает функция**:
1. Принимает два параметра: `param1` типа `int` и `param2` типа `str`.
2. Выводит строку с использованием f-string, которая показывает значения `param1` и `param2`.

**Примеры**:

```python
@autodoc
def example_function(param1: int, param2: str) -> None:
    """Пример функции.

    Args:
        param1 (int): Первое значение.
        param2 (str): Второе значение.
    """
    print(f"Processing {param1} and {param2}")

example_function(1, "test")