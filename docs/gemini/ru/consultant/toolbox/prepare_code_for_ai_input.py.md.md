### Анализ кода модуля `Системные инструкции для обработки кода проекта hypotez`

**Качество кода:**

*   **Соответствие стандартам**: 7/10
*   **Плюсы**:
    *   Подробное описание правил кодирования и документирования.
    *   Акцент на использовании аннотаций типов.
    *   Указания по использованию библиотек `logger` и `webdriver` проекта `hypotez`.
*   **Минусы**:
    *   Непоследовательность в использовании кавычек (в примерах есть и одинарные, и двойные).
    *   Некоторые примеры кода слишком общие.
    *   Отсутствует описание обработки исключений, а также `try except`

**Рекомендации по улучшению:**

1.  **Унифицировать использование кавычек**: Привести все примеры кода к использованию только одинарных кавычек.
2.  **Добавить конкретные примеры**: Расширить примеры кода, чтобы показать более конкретное использование на практике.
3.  **Акцентировать внимание на обработку исключений**: Добавить примеры использования `try...except` с `logger.error` для обработки ошибок.
4.  **Добавить описание обработки исключений**: Добавить информации про обработку исключений с использованием `try...except`.

**Оптимизированный код:**

```markdown
### **Системные инструкции для обработки кода проекта `hypotez`**

=========================================================================================

Описание функциональности и правил для генерации, анализа и улучшения кода. Направлено на обеспечение последовательного и читаемого стиля кодирования, соответствующего требованиям.

---

### **Основные принципы**

#### **1. Общие указания**:

*   Соблюдай четкий и понятный стиль кодирования.
*   Все изменения должны быть обоснованы и соответствовать установленным требованиям.

#### **2. Комментарии**:

*   Используй `#` для внутренних комментариев.
*   Документация всех функций, методов и классов должна следовать такому формату:

    ```python
    def function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:
        """
        Args:
            param (str): Описание параметра `param`.
            param1 (Optional[str | dict | str], optional): Описание параметра `param1`. По умолчанию `None`.

        Returns:
            dict | None: Описание возвращаемого значения. Возвращает словарь или `None`.

        Raises:
            SomeError: Описание ситуации, в которой возникает исключение `SomeError`.

        Example:
            >>> function('param', 'param1')
            {'param': 'param1'}
        """
    ```

*   Комментарии и документация должны быть четкими, лаконичными и точными.

#### **3. Форматирование кода**:

*   Используй одинарные кавычки. `a: str = 'value'`, `print('Hello World!')`.
*   Добавляй пробелы вокруг операторов. Например, `x = 5`.
*   Все параметры должны быть аннотированы типами. `def function(param: str, param1: Optional[str | dict | str] = None) -> dict | None:`.
*   Не используй `Union`. Вместо этого используй `|`.

#### **4. Логирование**:

*   Для логирования всегда используй модуль `logger` из `src.logger.logger`.
*   Ошибки должны логироваться с использованием `logger.error`.

    Пример:

    ```python
    from src.logger.logger import logger

    try:
        # Код, который может вызвать исключение
        result = 1 / 0  # Пример деления на ноль
    except Exception as ex:
        logger.error('Произошла ошибка при обработке данных', ex, exc_info=True)
    ```

#### **5. Не используй `Union[]` в коде. Вместо него используй `|`**

Например:

```python
x: str | int = ...
```

---

### **Основные требования**:

#### **1. Формат ответов в Markdown**:

*   Все ответы должны быть выполнены в формате **Markdown**.

#### **2. Формат комментариев**:

*   Используй указанный стиль для комментариев и документации в коде.
*   Пример:

    ```python
    from typing import Generator, Optional, List
    from pathlib import Path
    from src.logger.logger import logger


    def read_text_file(
        file_path: str | Path,
        as_list: bool = False,
        extensions: Optional[List[str]] = None,
        chunk_size: int = 8192,
    ) -> Generator[str, None, None] | str | None:
        """
        Считывает содержимое файла (или файлов из каталога) с использованием генератора для экономии памяти.

        Args:
            file_path (str | Path): Путь к файлу или каталогу.
            as_list (bool): Если `True`, возвращает генератор строк.
            extensions (Optional[List[str]]): Список расширений файлов для чтения из каталога.
            chunk_size (int): Размер чанков для чтения файла в байтах.

        Returns:
            Generator[str, None, None] | str | None: Генератор строк, объединенная строка или `None` в случае ошибки.

        Raises:
            Exception: Если возникает ошибка при чтении файла.

        Example:
            >>> from pathlib import Path
            >>> file_path = Path('example.txt')
            >>> content = read_text_file(file_path)
            >>> if content:
            ...    print(f'File content: {content[:100]}...')
            File content: Example text...
        """
        try:
            ...
        except Exception as ex:
            logger.error(f'Ошибка при чтении файла: {file_path}', ex, exc_info=True)
            return None
    ```

*   Всегда делай подробные объяснения в комментариях. Избегай расплывчатых терминов, таких как *«получить»* или *«делать»*. Вместо этого используйте точные термины, такие как *«извлечь»*, *«проверить»*, *«выполнить»*.
*   Вместо: *«получаем»*, *«возвращаем»*, *«преобразовываем»* используй имя объекта *«функция получает»*, *«переменная возвращает»*, *«код преобразовывает»*.
*   Комментарии должны непосредственно предшествовать описываемому блоку кода и объяснять его назначение.

#### **3. Пробелы вокруг операторов присваивания**:

*   Всегда добавляйте пробелы вокруг оператора `=`, чтобы повысить читаемость.
*   Примеры:
    *   **Неправильно**: `x=5`
    *   **Правильно**: `x = 5`

#### **4. Использование `j_loads` или `j_loads_ns`**:

*   Для чтения JSON или конфигурационных файлов замените стандартное использование `open` и `json.load` на `j_loads` или `j_loads_ns`.
*   Пример:

    ```python
    # Неправильно:
    import json
    with open('config.json', 'r', encoding='utf-8') as f:
        data = json.load(f)

    # Правильно:
    from src.utils.json_utils import j_loads
    data = j_loads('config.json')
    ```

#### **5. Сохранение комментариев**:

*   Все существующие комментарии, начинающиеся с `#`, должны быть сохранены без изменений в разделе «Улучшенный код».
*   Если комментарий кажется устаревшим или неясным, не изменяйте его. Вместо этого отметьте его в разделе «Изменения».

#### **6. Обработка `...` в коде**:

*   Оставляйте `...` как указатели в коде без изменений.
*   Не документируйте строки с `...`.

#### **7. Аннотации**

Для всех переменных должны быть определены аннотации типа.
Для всех функций все входные и выходные параметры аннотированы.
Для всех параметров должны быть аннотации типа.

### **8. webdriver**

В коде используется webdriver. Он импортируется из модуля `webdriver` проекта `hypotez`.

```python
from src.webdirver import Driver, Chrome, Firefox, Playwright
driver = Driver(Firefox)

# После чего может использоваться как

close_banner = {
  'attribute': None,
  'by': 'XPATH',
  'selector': "//button[@id = 'closeXButton']",
  'if_list': 'first',
  'use_mouse': False,
  'mandatory': False,
  'timeout': 0,
  'timeout_for_event': 'presence_of_element_located',
  'event': 'click()',
  'locator_description': 'Закрываю pop-up окно, если оно не появилось - не страшно (`mandatory`: `false`)'
}

result = driver.execute_locator(close_banner)
```
```