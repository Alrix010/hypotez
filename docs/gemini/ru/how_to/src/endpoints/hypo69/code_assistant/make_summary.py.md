### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Данный код предназначен для автоматического создания файла `SUMMARY.md`, который используется в `mdbook` для формирования структуры книги. Он рекурсивно обходит указанную директорию с исходными файлами (`src`), фильтрует файлы по языку (русский или английский) и генерирует файл `SUMMARY.md` с перечнем глав, соответствующих найденным `.md` файлам.

Шаги выполнения
-------------------------
1. **Определение функции `make_summary`**:
   - Функция `make_summary` принимает путь к директории с исходными файлами (`docs_dir`) и язык фильтрации (`lang`) в качестве аргументов.
   - Она вызывает функцию `prepare_summary_path` для определения пути к файлу `SUMMARY.md`.
   - Создает директорию для файла `SUMMARY.md`, если она не существует.
   - Вызывает функцию `_make_summary` для фактического создания содержимого файла `SUMMARY.md`.

2. **Определение функции `_make_summary`**:
   - Функция `_make_summary` принимает путь к исходной директории (`src_dir`), путь к файлу `SUMMARY.md` (`summary_file`) и язык фильтрации (`lang`).
   - Открывает файл `SUMMARY.md` для записи, предварительно перезаписывая его, если он существует.
   - Записывает заголовок `# Summary\n\n` в файл `SUMMARY.md`.
   - Рекурсивно обходит все `.md` файлы в директории `src_dir`.
   - Фильтрует файлы по языку: пропускает файлы без суффикса `.ru.md`, если указан русский язык, и файлы с суффиксом `.ru.md`, если указан английский язык.
   - Формирует относительный путь к каждому файлу относительно родительской директории `src_dir`.
   - Записывает строку в формате `- [{path.stem}]({relative_path.as_posix()})\n` для каждого файла в `SUMMARY.md`, где `path.stem` - имя файла без расширения, а `relative_path.as_posix()` - относительный путь к файлу в формате POSIX.

3. **Определение функции `prepare_summary_path`**:
   - Функция `prepare_summary_path` принимает путь к исходной директории (`src_dir`) и имя файла (`file_name`) в качестве аргументов.
   - Формирует новый путь, заменяя часть пути `src` на `docs`.
   - Возвращает новый путь к файлу `SUMMARY.md`.

4. **Использование в качестве скрипта**:
   - Если скрипт запущен как основной (`if __name__ == '__main__':`), он выполняет следующие действия:
   - Создает парсер аргументов командной строки.
   - Добавляет аргументы `lang` (язык фильтрации) и `src_dir` (путь к исходной директории).
   - Разбирает аргументы командной строки.
   - Вызывает функцию `make_summary` с переданными аргументами.

Пример использования
-------------------------

```python
from pathlib import Path
from src.endpoints.hypo69.code_assistant.make_summary import make_summary

# Определяем путь к директории с исходными файлами
src_dir = Path('/path/to/your/project/src')

# Указываем язык фильтрации
lang = 'ru'  # или 'en'

# Вызываем функцию для создания файла SUMMARY.md
make_summary(src_dir, lang)
```

```python
# Пример использования в командной строке
# python make_summary.py -lang ru src/module1