## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код реализует базовый класс `TinyFactory`, который служит шаблоном для создания различных фабрик в системе. Фабрики используются для генерации объектов, таких как агенты, которые могут быть использованы в симуляциях. Класс `TinyFactory` обеспечивает механизмы для хранения и управления всеми созданными фабриками, а также для хранения состояния фабрики с помощью сериализации.

Шаги выполнения
-------------------------
1. **Создание фабрики**: 
    - Создается экземпляр класса `TinyFactory`, передавая в конструктор `simulation_id` (необязательный параметр) для идентификации симуляции, к которой относится фабрика. 
    - Фабрике автоматически присваивается уникальное имя `name`.
    - Фабрика добавляется в список всех фабрик (`TinyFactory.all_factories`).

2. **Установка симуляции для незакрепленных фабрик**: 
    - Используя статический метод `set_simulation_for_free_factories`, можно установить симуляцию для всех фабрик, которые не имеют `simulation_id`. 
    - Это позволяет объединить фабрики в контексте конкретной симуляции.

3. **Добавление фабрики в список**: 
    - Статический метод `add_factory` добавляет новую фабрику в список `TinyFactory.all_factories`. 
    - Имя фабрики (`factory.name`) должно быть уникальным, иначе возникнет ошибка.

4. **Очистка списка фабрик**:
    - Статический метод `clear_factories` очищает список всех фабрик (`TinyFactory.all_factories`).

5. **Сериализация состояния**: 
    - Метод `encode_complete_state` сериализует полное состояние фабрики в словарь. 
    - Если фабрика имеет несериализуемые элементы, этот метод должен быть переопределен в подклассах.

6. **Десериализация состояния**: 
    - Метод `decode_complete_state` десериализует состояние фабрики из словаря. 
    - Если фабрика имеет несериализуемые элементы, этот метод должен быть переопределен в подклассах.

Пример использования
-------------------------

```python
from tinytroupe.factory import TinyFactory

# Создаем фабрику
factory = TinyFactory()

# Выводим имя фабрики
print(f"Имя фабрики: {factory.name}")

# Выводим все фабрики
print(f"Список фабрик: {TinyFactory.all_factories}")

# Очищаем список фабрик
TinyFactory.clear_factories()
print(f"Список фабрик после очистки: {TinyFactory.all_factories}")
```