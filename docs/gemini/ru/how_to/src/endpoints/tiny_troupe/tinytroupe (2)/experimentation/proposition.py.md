### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Класс `Proposition` предназначен для определения и проверки утверждений (claims) относительно целевых объектов, таких как виртуальные миры (`TinyWorld`) или агенты (`TinyPerson`). Он позволяет задавать контекст для проверки утверждения, учитывая историю взаимодействий целевых объектов. Функция `check_proposition` предоставляет удобный способ для однократной проверки утверждения без создания экземпляра класса `Proposition`.

Шаги выполнения
-------------------------
1. **Инициализация класса `Proposition`**:
   - При создании экземпляра класса `Proposition` передаются целевой объект (или список объектов), утверждение, а также параметры для контекста (количество первых и последних взаимодействий, которые следует учитывать).
   - Выполняется проверка типа целевого объекта: он должен быть экземпляром `TinyWorld`, `TinyPerson` или списком, содержащим только экземпляры этих классов.
   - Сохраняются переданные значения в атрибуты экземпляра класса.

2. **Метод `check`**:
   - Формирует контекст на основе истории взаимодействий целевых объектов. Если целевых объектов несколько, контекст объединяет их истории.
   - Создает запрос к языковой модели (LLM) с использованием класса `LLMRequest`. В запросе передается системное указание, описывающее роль LLM как системы для оценки истинности утверждений на основе контекста симуляции.
   - Формирует пользовательский запрос, включающий утверждение, контекст и дополнительный контекст (если предоставлен).
   - Вызывает LLM с сформированным запросом.
   - Извлекает результаты оценки утверждения, обоснование и уровень уверенности из ответа LLM.
   - Возвращает результат оценки утверждения (True или False).

3. **Функция `check_proposition`**:
   - Создает экземпляр класса `Proposition` с переданными аргументами.
   - Вызывает метод `check` для проверки утверждения.
   - Возвращает результат проверки.

Пример использования
-------------------------

```python
    from tinytroupe.agent import TinyPerson
    from tinytroupe.environment import TinyWorld
    from tinytroupe.experimentation.proposition import Proposition, check_proposition

    # Пример использования с TinyPerson
    person = TinyPerson(name="Alice")
    person.say("Hello, world!")
    proposition = Proposition(target=person, claim="Alice поприветствовала мир.")
    result = proposition.check()
    print(f"Результат проверки утверждения: {result}")  # Функция выводит: Результат проверки утверждения: True

    # Пример использования с TinyWorld
    world = TinyWorld(name="City")
    world.time = "Morning"
    proposition = Proposition(target=world, claim="Сейчас утро в городе.")
    result = proposition.check()
    print(f"Результат проверки утверждения: {result}")  # Функция выводит: Результат проверки утверждения: True

    # Пример использования с функцией check_proposition
    person = TinyPerson(name="Bob")
    person.add_memory("Bob любит читать книги.")
    result = check_proposition(target=person, claim="Боб любит читать книги.")
    print(f"Результат проверки утверждения: {result}")  # Функция выводит: Результат проверки утверждения: True