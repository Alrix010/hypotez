### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код определяет класс `Intervention`, который позволяет задавать условия (preconditions) и эффекты для воздействия на `TinyPerson` или `TinyWorld` в рамках системы `tinytroupe`. Он предоставляет функциональность для проверки предусловий и применения эффектов, если предусловия выполнены.

Шаги выполнения
-------------------------
1. **Инициализация Intervention**:
   - Создается экземпляр класса `Intervention` с указанием цели (target), которой может быть `TinyPerson`, `TinyWorld` или список таких объектов.
   - Задаются параметры `first_n` и `last_n`, определяющие, какие взаимодействия учитывать при проверке предусловий.
   - Инициализируются атрибуты для хранения текстового и функционального предусловий, а также эффекта.

2. **Задание предусловий**:
   - Используется метод `set_textual_precondition` для установки текстового предусловия, которое будет интерпретироваться языковой моделью.
   - Используется метод `set_functional_precondition` для установки функционального предусловия в виде функции, которая должна принимать цель в качестве аргумента и возвращать булево значение.

3. **Задание эффекта**:
   - Используется метод `set_effect` для установки функции, которая будет применяться в качестве эффекта при выполнении предусловий.

4. **Выполнение Intervention**:
   - Вызывается метод `execute`, который проверяет предусловия с помощью метода `check_precondition`.
   - Если предусловия выполнены, применяется эффект с помощью метода `apply_effect`.

5. **Проверка предусловий**:
   - Метод `check_precondition` создает объект `Proposition` для проверки текстового предусловия с использованием языковой модели.
   - Проверяется также функциональное предусловие, если оно задано.
   - Возвращается `True`, если оба предусловия (текстовое и функциональное) выполнены, иначе `False`.

6. **Применение эффекта**:
   - Метод `apply_effect` применяет функцию эффекта к цели.

Пример использования
-------------------------

```python
    from tinytroupe.agent import TinyPerson
    from tinytroupe.environment import TinyWorld

    # Пример TinyPerson и TinyWorld (предположим, что они уже определены)
    person = TinyPerson()
    world = TinyWorld()

    # 1. Создание Intervention, нацеленного на TinyPerson
    intervention = Intervention(targets=person, name="ExampleIntervention")

    # 2. Установка текстового предусловия
    intervention.set_textual_precondition("The person is happy")

    # 3. Установка функционального предусловия (пример)
    def is_person_active(target):
        # Здесь должна быть логика проверки активности TinyPerson
        return True  # или False в зависимости от состояния

    intervention.set_functional_precondition(is_person_active)

    # 4. Установка эффекта (пример)
    def increase_person_happiness(target):
        # Здесь должна быть логика увеличения счастья TinyPerson
        print("Увеличиваем счастье TinyPerson")

    intervention.set_effect(increase_person_happiness)

    # 5. Выполнение Intervention
    intervention.execute()