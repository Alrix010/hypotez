Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Данный код предоставляет класс `TinyWordProcessor`, который позволяет агентам создавать и экспортировать документы. Он включает в себя функции для написания документов, обогащения контента и экспорта в различные форматы (Markdown, DOCX, JSON). Также класс обрабатывает действия, связанные с созданием документов на основе JSON-спецификаций.

Шаги выполнения
-------------------------
1. **Инициализация класса `TinyWordProcessor`**:
   - Создается экземпляр класса `TinyWordProcessor` с возможностью передачи объектов `owner`, `exporter` и `enricher`.
   - `owner` представляет владельца инструмента.
   - `exporter` используется для экспорта документов в различные форматы.
   - `enricher` используется для расширения и детализации контента документа.

2. **Метод `write_document`**:
   - Принимает заголовок (`title`), контент (`content`) и автора (`author`) документа.
   - Логирует процесс записи документа с указанием заголовка и контента.
   - Если `enricher` предоставлен, контент обогащается с использованием `enricher.enrich_content()`, чтобы увеличить объем и детализацию документа.
   - Если `exporter` предоставлен, документ экспортируется в форматы Markdown, DOCX и JSON с использованием `exporter.export()`.

3. **Метод `_process_action`**:
   - Принимает агента (`agent`) и действие (`action`) в качестве аргументов.
   - Проверяет, что тип действия (`action['type']`) равен `"WRITE_DOCUMENT"` и контент (`action['content']`) не равен `None`.
   - Извлекает JSON-спецификацию документа из контента действия. Если контент является строкой, он парсится как JSON; в противном случае используется как есть.
   - Проверяет наличие недопустимых полей в спецификации документа, используя `utils.check_valid_fields()`.
   - Вызывает метод `write_document()` с параметрами, полученными из спецификации документа.
   - Возвращает `True`, если действие успешно обработано, и `False` в случае ошибки или несоответствия типа действия.

4. **Метод `actions_definitions_prompt`**:
   - Возвращает строку с описанием действия `WRITE_DOCUMENT` и его полей (title, content, author) в формате, пригодном для использования в запросах к агенту.
   - Описывает обязательность полей `title` и `content`, а также формат `Markdown` для контента.

5. **Метод `actions_constraints_prompt`**:
   - Возвращает строку с ограничениями для действия `WRITE_DOCUMENT`, такими как необходимость записи всего контента сразу, использование JSON для передачи контента и дополнительные рекомендации по заполнению контента (например, указание владельцев и партнеров для упоминаемых событий).

Пример использования
-------------------------

```python
from tinytroupe.tools.tiny_word_processor import TinyWordProcessor
from tinytroupe.tools.exporter import Exporter
from tinytroupe.tools.enricher import Enricher
from tinytroupe.agent import Agent

# Инициализация компонентов
exporter = Exporter()
enricher = Enricher()
word_processor = TinyWordProcessor(exporter=exporter, enricher=enricher)
agent = Agent()

# Пример действия для создания документа
action = {
    "type": "WRITE_DOCUMENT",
    "content": {
        "title": "Пример документа",
        "content": "# Заголовок\nЭто пример контента в формате Markdown.",
        "author": "Иван Иванов"
    }
}

# Обработка действия
success = word_processor._process_action(agent, action)

if success:
    print("Документ успешно создан и экспортирован.")
else:
    print("Не удалось создать документ.")