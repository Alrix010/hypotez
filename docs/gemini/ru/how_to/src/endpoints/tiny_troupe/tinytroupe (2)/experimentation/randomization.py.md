## Как использовать класс ABRandomizer
=========================================================================================

Описание
-------------------------
Класс `ABRandomizer` - это утилита для случайного распределения между двумя вариантами и последующей обратной декодировки. 
Выбор хранится в словаре, где ключ - это индекс элемента, а значение - кортеж из двух элементов: 0 или 1, которые указывают, был ли выбор поменян. 

Шаги выполнения
-------------------------
1. **Инициализация**:
    - При создании экземпляра класса `ABRandomizer` задаются:
        - `real_name_1` - имя первого варианта в исходных данных.
        - `real_name_2` - имя второго варианта в исходных данных.
        - `blind_name_a` - имя первого варианта, которое видит пользователь.
        - `blind_name_b` - имя второго варианта, которое видит пользователь.
        - `passtrough_name` - список имен, которые не рандомизируются, и всегда возвращаются как есть.
        - `random_seed` - случайное зерно для генератора случайных чисел.
2. **Рандомизация**: 
    - Метод `randomize(i, a, b)` случайным образом переключает местами `a` и `b` и возвращает их.
    - Запоминает информацию о том, был ли обмен `a` и `b` для элемента с индексом `i`.
3. **Дерандомизация**: 
    - Метод `derandomize(i, a, b)` восстанавливает исходное расположение `a` и `b` для элемента с индексом `i`, 
      используя сохраненные данные.
4. **Дерандомизация имени**: 
    - Метод `derandomize_name(i, blind_name)` принимает индекс элемента `i` и имя варианта, выбранное пользователем, 
      и возвращает исходное имя варианта из исходных данных.
    - Проверяет, был ли выбор для элемента `i` рандомизирован, и возвращает соответствующее имя варианта.

Пример использования
-------------------------

```python
import random
import pandas as pd
from tinytroupe.agent import TinyPerson

# Инициализация рандомизатора с именами вариантов:
randomizer = ABRandomizer(real_name_1="control", real_name_2="treatment", 
                       blind_name_a="A", blind_name_b="B", 
                       passtrough_name=[], 
                       random_seed=42)

# Рандомизация варианта для элемента с индексом 0:
variant_a, variant_b = randomizer.randomize(0, "control", "treatment")

# Создание агента с рандомизированным вариантом:
agent = TinyPerson(variant=variant_a) 

# Получение имени выбранного варианта:
user_choice = agent.variant
real_choice = randomizer.derandomize_name(0, user_choice)
```

**Пояснения к примеру:**

1. **Инициализация** рандомизатора `randomizer` с указанием имен реальных вариантов (`control`, `treatment`) и 
   имен, которые видят пользователи (`A`, `B`). 
2. **Рандомизация** варианта для элемента с индексом `0` (`variant_a`, `variant_b`).
3. **Создание** агента с рандомизированным вариантом `variant_a`.
4. **Дерандомизация** имени выбранного варианта `user_choice`, используя метод `derandomize_name`.

**Важно:** 
-  Используйте `ABRandomizer` для того, чтобы гарантировать, что пользователи будут случайным образом назначены на разные варианты.
-  Дерандомизация необходима для восстановления исходных данных после проведения эксперимента.