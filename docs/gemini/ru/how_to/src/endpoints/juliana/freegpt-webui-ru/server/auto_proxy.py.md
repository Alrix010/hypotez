## Как использовать модуль `auto_proxy`

=========================================================================================

Описание
-------------------------
Модуль `auto_proxy` предоставляет функции для автоматического получения, тестирования и обновления списка рабочих прокси-серверов. 

Шаги выполнения
-------------------------
1. **Получение списка прокси-серверов:**
    - Функция `fetch_proxies()` извлекает список прокси-серверов из сервиса `proxyscrape.com`.
    - Использует библиотеку `requests` для отправки HTTP-запроса и обработки ответа.
2. **Тестирование прокси-серверов:**
    - Функция `test_proxy()` проверяет работоспособность каждого прокси-сервера из списка.
    - Принимает в качестве аргументов:
        - `proxy`: прокси-сервер в формате "IP:Port".
        - `prompt`: тестовый запрос, отправляемый через прокси-сервер.
        - `timeout`: максимальное время ожидания ответа.
    - Использует try-except блок для обработки ошибок.
3. **Обновление списка рабочих прокси-серверов:**
    - Функция `get_working_proxies()` получает список прокси-серверов, запускает тестовые запросы через них и добавляет рабочие прокси-серверы в глобальный список `working_proxies`.
    - Использует многопоточность для ускорения процесса тестирования.
4. **Автоматическое обновление:**
    - Функция `update_working_proxies()` периодически обновляет глобальный список `working_proxies` новыми рабочими прокси-серверами.
    - Использует цикл `while True` для непрерывного выполнения обновлений.
    - Выполняет обновление каждые 30 минут.
5. **Получение случайного рабочего прокси:**
    - Функция `get_random_proxy()` возвращает случайный рабочий прокси-сервер из глобального списка `working_proxies`.

Пример использования
-------------------------

```python
# Импортируем необходимые функции
from server.auto_proxy import get_random_proxy, update_working_proxies

# Запускаем обновление списка рабочих прокси-серверов в отдельном потоке
update_thread = threading.Thread(target=update_working_proxies)
update_thread.daemon = True  # Устанавливаем поток как фоновый
update_thread.start()

# Получаем случайный рабочий прокси-сервер
proxy = get_random_proxy()

# Используем полученный прокси-сервер для отправки запроса
response = requests.get(url, proxies={'http': proxy})

# Обрабатываем ответ
print(response.text)
```