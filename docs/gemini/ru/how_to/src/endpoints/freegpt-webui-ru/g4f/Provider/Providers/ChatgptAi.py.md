## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код реализует провайдера для взаимодействия с GPT-4 через веб-интерфейс chatgpt.ai. Он позволяет генерировать текст, используя модель GPT-4, отправляя запросы на сайт chatgpt.ai.

Шаги выполнения
-------------------------
1. **Инициализация переменных**:  Определяются базовые параметры, такие как URL сайта, название модели и ее тип (gpt-4).  
2. **Создание функции _create_completion**: 
    - Эта функция принимает текст запроса и параметры модели. 
    - Она формирует строку с текстом запроса, добавив в нее информацию о роли каждого участника диалога.
    - Отправляет запрос на сайт chatgpt.ai через requests.get.
    - Извлекает нужные значения (nonce, post_id, bot_id) из ответа с помощью регулярных выражений.
    - Собирает заголовки запроса (headers) и данные (data).
    - Отправляет запрос на сервер chatgpt.ai через requests.post.
    - Возвращает JSON-ответ.
3. **Параметры функции**: Описывается, какие типы данных поддерживаются функцией _create_completion.

Пример использования
-------------------------

```python
from hypotez.src.endpoints.freegpt-webui-ru.g4f.Provider.Providers.ChatgptAi import _create_completion

messages = [
    {'role': 'user', 'content': 'Привет! Расскажи мне анекдот.'},
]
model = 'gpt-4'
stream = False

completion = _create_completion(model, messages, stream)
print(completion)
```

В этом примере:
- `_create_completion` вызывается с параметрами `model` (название модели), `messages` (список сообщений диалога) и `stream` (флаг потоковой передачи).
- `completion` содержит JSON-ответ от chatgpt.ai, который можно обработать и вывести на экран.