## Как использовать блок кода `_create_completion`
=========================================================================================

Описание
-------------------------
Блок кода `_create_completion` реализует функцию для отправки запроса на генерацию текста с использованием модели GPT-3.5-turbo на сервер `api.caipacity.com`. Функция принимает список сообщений (`messages`), температуру (`temperature`), параметр `stream` для потоковой передачи ответа, а также дополнительные параметры. 

Шаги выполнения
-------------------------
1. **Формирование заголовков запроса**:
   - Устанавливаются заголовки запроса `headers`, содержащие информацию о клиенте, типе контента и др.
2. **Формирование параметров запроса**:
   - Устанавливаются параметры запроса `params`, включая опцию `full=false` для получения только части ответа.
3. **Создание временной метки**:
   - Формируется временная метка `timestamp` с использованием текущего времени.
4. **Создание подписи**:
   - Создается подпись `sig`, включающая дату, временную метку и хэш последнего сообщения в списке сообщений (`messages`).
5. **Формирование JSON-данных**:
   - Собираются все необходимые данные в JSON-формате, включая модель, температуру, режим потоковой передачи и список сообщений, а также подпись `sig`.
6. **Отправка запроса**:
   - Отправляется POST-запрос на API `https://api.caipacity.com/v1/chat/completions` с использованием данных JSON и заголовков.
7. **Обработка ответа**:
   - Извлекаются ответы в виде отдельных токенов из потоковой передачи ответа сервера.
8. **Возврат токенов**:
   - Функция возвращает генератор токенов текста, который позволяет получить результат по частям.


Пример использования
-------------------------

```python
from hypotez.src.endpoints.freegpt-webui-ru.g4f.Provider.Providers.Ails import _create_completion

messages = [
    {"role": "user", "content": "Привет, как дела?"}
]

for token in _create_completion(model="gpt-3.5-turbo", messages=messages, stream=True):
    print(token, end="")
```