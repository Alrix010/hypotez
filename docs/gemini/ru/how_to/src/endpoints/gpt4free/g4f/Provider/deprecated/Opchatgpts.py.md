### **Как использовать этот блок кода**
=========================================================================================

Описание
-------------------------
Этот код реализует асинхронный генератор для взаимодействия с API Opchatgpts. Он отправляет сообщения в чат и возвращает ответы в режиме реального времени.

Шаги выполнения
-------------------------
1. **Подготовка заголовков**:
   - Формируются заголовки запроса, включая `User-Agent`, `Accept`, `Origin`, `Referer` и другие необходимые параметры.

2. **Создание асинхронной сессии**:
   - Создается асинхронная сессия `ClientSession` с заданными заголовками для выполнения HTTP-запросов.

3. **Формирование данных запроса**:
   - Подготавливаются данные для отправки в запросе, включая `botId`, `chatId`, `contextId`, `messages` и другие параметры.

4. **Отправка POST-запроса**:
   - Отправляется POST-запрос к API `f"{cls.url}/wp-json/mwai-ui/v1/chats/submit"` с данными и прокси (если указан).

5. **Обработка потока ответов**:
   - Читаются данные из потока ответов сервера построчно.
   - Проверяется, начинается ли строка с `b"data: "`.
   - Если строка является данными, она декодируется из JSON.
   - Проверяется наличие ключа `type` в декодированной строке.
   - Если `type` равен `"live"`, возвращается значение `data` из строки.
   - Если `type` равен `"end"`, цикл завершается.

Пример использования
-------------------------

```python
from aiohttp import ClientSession
from typing import AsyncGenerator

from g4f.Provider.deprecated import Opchatgpts
from g4f.typing import Messages

async def main():
    # Подготовка списка сообщений для отправки
    messages: Messages = [
        {"role": "user", "content": "Привет!"}
    ]

    # Вызов асинхронного генератора для получения ответа от Opchatgpts
    result: AsyncGenerator = Opchatgpts.create_async_generator(
        model="default",
        messages=messages
    )

    # Асинхронный перебор результатов генератора и вывод их в консоль
    async for message in result:
        print(message)

# Запуск асинхронной функции main
if __name__ == "__main__":
    import asyncio
    asyncio.run(main())