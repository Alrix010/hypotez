### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код создает изображения на основе текстового запроса, используя сервис Bing Image Creator. Он выполняет несколько шагов, включая отправку запроса на генерацию изображений, опрос сервиса для получения результатов и извлечение URL-адресов сгенерированных изображений.

Шаги выполнения
-------------------------
1. **Подготовка**:
   - Проверяется наличие необходимых библиотек, таких как `beautifulsoup4`. Если библиотека отсутствует, вызывается исключение `MissingRequirementsError`.
   - Текстовый запрос кодируется в URL-совместимый формат.

2. **Отправка запроса на создание изображений**:
   - Отправляется POST-запрос к Bing Image Creator с закодированным запросом.
   - Проверяется наличие ошибок, таких как лимит монет или блокировка запроса. Если возникают ошибки, вызываются исключения `RateLimitError` или `RuntimeError`.

3. **Перенаправление**:
   - После успешной отправки запроса происходит перенаправление на страницу с результатами.
   - Извлекается URL перенаправления и ID запроса.

4. **Опрос сервиса**:
   - Выполняется цикл опроса сервиса с использованием ID запроса для получения сгенерированных изображений.
   - Если изображения не готовы, происходит ожидание в течение 1 секунды.
   - Если время ожидания превышает установленный лимит, вызывается исключение `RuntimeError`.

5. **Обработка результатов**:
   - Извлекаются URL-адреса изображений из полученного HTML-контента.
   - Проверяется наличие ошибок в процессе создания изображений.

6. **Извлечение URL-адресов изображений**:
   - Используется `BeautifulSoup` для парсинга HTML-контента и извлечения URL-адресов изображений.
   - Проверяется, что найденные изображения не содержат запрещенные элементы.

Пример использования
-------------------------

```python
    import asyncio
    from aiohttp import ClientSession

    async def main():
        cookies = {
            "your_cookie": "your_cookie_value"
        }
        prompt = "A futuristic cityscape at sunset"

        async with ClientSession() as session:
            try:
                image_urls = await create_images(session, prompt)
                print("Image URLs:", image_urls)
            except Exception as e:
                print("Error:", e)

    if __name__ == "__main__":
        asyncio.run(main())