## Как использовать блок кода Dynaspark
=========================================================================================

Описание
-------------------------
Блок кода `Dynaspark` реализует класс `Dynaspark`, который представляет собой асинхронный генератор, предоставляющий доступ к API Dynaspark для работы с моделями больших языков.

Шаги выполнения
-------------------------
1. **Инициализация класса `Dynaspark`**: Создается экземпляр класса `Dynaspark` с необходимыми параметрами.
2. **Создание асинхронного генератора**: Вызывается метод `create_async_generator` с параметрами:
    - `model`: имя модели (например, `gemini-1.5-flash-8b`).
    - `messages`: список сообщений, включающих в себя историю диалога.
    - `proxy`: (опционально) адрес прокси-сервера.
    - `media`: (опционально) список медиа-файлов, которые можно использовать в качестве входных данных (например, изображения).
3. **Получение результата**: Генератор возвращает асинхронный результат, который можно использовать для получения ответа модели.
4. **Итерация по генератору**: Итерирование по генератору позволяет получить каждый фрагмент ответа модели.

Пример использования
-------------------------

```python
from hypotez.src.endpoints.gpt4free.g4f.Provider.Dynaspark import Dynaspark

async def main():
    provider = Dynaspark()
    messages = [
        {"role": "user", "content": "Привет! Как дела?"},
    ]
    async for response in provider.create_async_generator(model="gemini-1.5-flash-8b", messages=messages):
        print(f"Ответ модели: {response}")

if __name__ == "__main__":
    import asyncio
    asyncio.run(main())
```

**Объяснение кода:**
- В коде создается экземпляр класса `Dynaspark` с именем `provider`.
- Далее, в список `messages` добавляется сообщение пользователя.
- Вызывается метод `create_async_generator` для создания асинхронного генератора, который получает ответ модели.
- В цикле `async for` итерируется по генератору, и каждый фрагмент ответа модели выводится на экран.

**Дополнительные замечания:**
- `Dynaspark` поддерживает потоковую передачу данных, что позволяет получать ответ модели частями.
- В качестве `media` можно использовать изображения в форматах, которые поддерживаются API Dynaspark.
- Используйте параметры `proxy` и `model` для настройки работы с API Dynaspark.