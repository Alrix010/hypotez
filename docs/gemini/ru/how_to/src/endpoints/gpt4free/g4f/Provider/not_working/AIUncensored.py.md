### Как использовать этот блок кода

=========================================================================================

Описание
-------------------------
Данный код представляет собой класс `AIUncensored`, который является асинхронным провайдером для взаимодействия с API AIUncensored.info. Он позволяет отправлять запросы к серверам AIUncensored для получения ответов модели, поддерживает потоковую передачу данных и предоставляет механизмы для подписи запросов.

Шаги выполнения
-------------------------
1. **Инициализация класса**:
   - Создается экземпляр класса `AIUncensored`.
   - Определяются основные параметры, такие как URL, API ключ, поддержка потоковой передачи, системных сообщений и истории сообщений.

2. **Вычисление подписи запроса**:
   - Функция `calculate_signature` используется для создания подписи запроса на основе временной метки и JSON-словаря с данными запроса.
   - Подпись генерируется с использованием алгоритма HMAC-SHA256 и секретного ключа.

3. **Получение URL сервера**:
   - Функция `get_server_url` выбирает случайный URL из списка доступных серверов AIUncensored.

4. **Создание асинхронного генератора**:
   - Функция `create_async_generator` создает асинхронный генератор для отправки запроса и получения ответа от сервера.
   - Формируется JSON-словарь с сообщением пользователя, моделью и параметром потоковой передачи.
   - Добавляются необходимые заголовки, включая API ключ, временную метку и подпись.

5. **Отправка запроса и обработка ответа**:
   - Используется `aiohttp.ClientSession` для отправки POST-запроса к API.
   - Если включена потоковая передача (`stream=True`), ответ обрабатывается построчно:
     - Каждая строка декодируется и проверяется на наличие данных.
     - Если строка содержит данные, они извлекаются и передаются через генератор.
     - Если строка содержит маркер `[DONE]`, генератор завершает работу.
   - Если потоковая передача выключена (`stream=False`), ответ возвращается как JSON и извлекается содержимое.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.Provider.not_working import AIUncensored
import asyncio

async def main():
    messages = [{"role": "user", "content": "Hello, AI!"}]
    model = "hermes3-70b"

    async for response in AIUncensored.create_async_generator(model=model, messages=messages, stream=True):
        print(response, end="")

if __name__ == "__main__":
    asyncio.run(main())