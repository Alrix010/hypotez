### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код реализует асинхронный провайдер `Myshell` для взаимодействия с API myshell.ai. Он позволяет отправлять сообщения и получать ответы от различных моделей, включая "samantha", "gpt-3.5-turbo" и "gpt-4" через WebSocket соединение. Код включает в себя функции для генерации уникального идентификатора посетителя, подписи запросов и обработки ответов в реальном времени.

Шаги выполнения
-------------------------
1. **Выбор модели**: В методе `create_async_generator` определяется `bot_id` на основе выбранной модели (`model`). Если модель не указана, используется "samantha" в качестве модели по умолчанию. Если указанная модель не поддерживается, выбрасывается исключение `ValueError`.
2. **Генерация идентификатора посетителя**: Генерируется уникальный `visitor_id` с использованием функции `generate_visitor_id`, которая принимает `user_agent` в качестве аргумента.
3. **Установка WebSocket соединения**: Устанавливается асинхронное WebSocket соединение с сервером `wss://api.myshell.ai/ws/?EIO=4&transport=websocket` с использованием `aiohttp.ClientSession`.
4. **Обмен сообщениями handshake**: Отправляется приветственное сообщение и сообщение с `visitorId` для установки соединения.
5. **Отправка запроса чата**: Формируется JSON-сообщение с текстом запроса, `botUid`, и другими необходимыми данными, включая подпись, сгенерированную функцией `generate_signature`.
6. **Обработка ответов**: Принимаются сообщения от сервера через WebSocket. Если сообщение является текстовым и начинается с префикса `42/chat,`, оно обрабатывается как ответ чата. Если тип данных — `text_stream`, извлекается текст ответа и передается через `yield`. Если `isFinal` имеет значение `True`, генератор завершается.
7. **Обработка ошибок**: Если получен неожиданный тип сообщения, например `message_replied` или `need_verify_captcha`, выбрасывается исключение `RuntimeError`.

Пример использования
-------------------------

```python
import asyncio

from src.endpoints.gpt4free.g4f.Provider.deprecated.Myshell import Myshell
from src.endpoints.gpt4free.g4f.typing import Messages

async def main():
    messages: Messages = [{"role": "user", "content": "Привет, как дела?"}]
    
    try:
        async for response in Myshell.create_async_generator(model="gpt-3.5-turbo", messages=messages):
            print(response, end="")
    except Exception as e:
        print(f"An error occurred: {e}")

if __name__ == "__main__":
    asyncio.run(main())