### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код определяет асинхронного провайдера `Chatgpt4o` для работы с моделью `gpt-4o-mini-2024-07-18` через API сайта `chatgpt4o.one`. Он извлекает `post_id` и `nonce` из главной страницы сайта, чтобы отправлять запросы. Также код формирует запрос к API для получения ответа модели на основе входных сообщений.

Шаги выполнения
-------------------------
1. **Инициализация**:
   - Определяется класс `Chatgpt4o`, который наследуется от `AsyncProvider` и `ProviderModelMixin`.
   - Устанавливаются основные атрибуты, такие как `url` (URL сайта), `working` (статус работоспособности), `_post_id` и `_nonce` (идентификаторы для запросов), а также `default_model` и `models` (список поддерживаемых моделей).

2. **Получение `post_id` и `nonce`**:
   - Если `_post_id` или `_nonce` не установлены, выполняется GET-запрос к главной странице сайта (`cls.url`).
   - Извлекаются значения `post_id` и `nonce` из HTML-кода страницы с использованием регулярных выражений `re.search`.
   - Если `post_id` или `nonce` не найдены, выбрасывается исключение `RuntimeError`.

3. **Формирование запроса**:
   - Формируется тело POST-запроса `data`, которое включает:
     - `_wpnonce`: Значение `nonce`, полученное ранее.
     - `post_id`: Значение `post_id`, полученное ранее.
     - `url`: URL сайта.
     - `action`: Действие `wpaicg_chat_shortcode_message`.
     - `message`: Сформированный промпт на основе входных сообщений.
     - `bot_id`: Идентификатор бота (всегда "0").

4. **Отправка запроса и получение ответа**:
   - Отправляется POST-запрос к `cls.url/wp-admin/admin-ajax.php` с сформированными данными и cookies.
   - Проверяется статус ответа с помощью `raise_for_status`.
   - Извлекается JSON из ответа, и возвращается значение поля `data` из JSON.
   - Если поле `data` отсутствует в JSON, выбрасывается исключение `RuntimeError`.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.Provider.not_working.Chatgpt4o import Chatgpt4o
import asyncio

async def main():
    messages = [
        {"role": "user", "content": "Привет, как дела?"}
    ]
    try:
        response = await Chatgpt4o.create_async(
            model="gpt-4o-mini-2024-07-18",
            messages=messages,
            proxy=None,
            timeout=120
        )
        print(response)
    except Exception as e:
        print(f"Ошибка: {e}")

if __name__ == "__main__":
    asyncio.run(main())