## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот блок кода реализует класс `ChatGptt`, представляющий собой асинхронный генератор-провайдер для работы с API ChatGptt.me. Он позволяет отправлять запросы в API, получать ответы в виде потока данных и управлять историей сообщений.

Шаги выполнения
-------------------------
1. **Инициализация класса**: Создается экземпляр класса `ChatGptt`.
2. **Получение начального HTML**: Выполняется GET-запрос к URL `https://chatgptt.me` для получения начального HTML-кода страницы.
3. **Извлечение токенов аутентификации**: Из HTML-кода извлекаются значения nonce и post_id, необходимые для аутентификации.
4. **Подготовка запроса**: Формируется payload с необходимыми параметрами, включая полученные токены, текст запроса, идентификатор бота, а также данные о сессии.
5. **Отправка POST-запроса**: Выполняется POST-запрос к API `https://chatgptt.me/wp-admin/admin-ajax.php` с подготовленным payload.
6. **Обработка ответа**: Ответ от API обрабатывается в виде потока данных, и каждый элемент потока (json-объект с текстом ответа) передается в генератор.

Пример использования
-------------------------

```python
from hypotez.src.endpoints.gpt4free.g4f.Provider.not_working.ChatGptt import ChatGptt

async def main():
    provider = ChatGptt()  # Инициализация класса
    messages = [
        {"role": "user", "content": "Привет! Как дела?"},
    ]
    async for response in provider.create_async_generator(model='gpt-4o', messages=messages):
        print(response['message'])

if __name__ == "__main__":
    import asyncio
    asyncio.run(main())
```

В этом примере мы создаем экземпляр `ChatGptt` и отправляем запрос с текстом "Привет! Как дела?". В цикле `async for` мы получаем каждый элемент потока данных от API и выводим текст ответа.