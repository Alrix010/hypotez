### Как использовать этот блок кода

=========================================================================================

Описание
-------------------------
Этот код представляет собой CLI (интерфейс командной строки) для запуска gpt4free. Он позволяет запускать API или GUI (графический интерфейс пользователя) для gpt4free с различными параметрами конфигурации, такими как выбор модели, провайдера, прокси и другими.

Шаги выполнения
-------------------------
1. **Определение функции `get_api_parser()`**:
   - Функция `get_api_parser()` создает парсер аргументов командной строки для режима API.
   - Определяет аргументы, такие как `--bind`, `--port`, `--debug`, `--gui`, `--model`, `--provider`, `--image-provider`, `--proxy`, `--workers`, `--disable-colors`, `--ignore-cookie-files`, `--g4f-api-key`, `--ignored-providers`, `--cookie-browsers`, `--reload`, `--demo`, `--ssl-keyfile`, `--ssl-certfile`, `--log-config`.
   - Возвращает настроенный парсер аргументов.

2. **Определение функции `main()`**:
   - Функция `main()` является точкой входа для CLI.
   - Создает основной парсер аргументов с описанием "Run gpt4free".
   - Создает подпарсеры для режимов "api" и "gui", используя `get_api_parser()` и `gui_parser()` соответственно.
   - Парсит аргументы командной строки с помощью `parser.parse_args()`.
   - В зависимости от выбранного режима (`args.mode`) запускает соответствующую функцию (`run_api_args()` или `run_gui_args()`).
   - Если режим не указан, выводит справку и завершает программу с кодом ошибки 1.

3. **Определение функции `run_api_args()`**:
   - Функция `run_api_args()` принимает аргументы командной строки, специфичные для режима API.
   - Импортирует `AppConfig` и `run_api` из модуля `g4f.api`.
   - Устанавливает конфигурацию приложения `AppConfig` на основе аргументов командной строки, таких как игнорирование cookie-файлов, список игнорируемых провайдеров, API-ключ, провайдер, прокси, модель и другие.
   - Если указаны браузеры для cookie, обновляет список браузеров в `g4f.cookies.browsers`.
   - Запускает API с переданными параметрами, такими как адрес привязки, порт, режим отладки, количество рабочих процессов, использование цветов, перезагрузка, пути к SSL-файлам и конфигурация логирования.

4. **Запуск CLI**:
   - Если скрипт запущен как основной (`if __name__ == "__main__":`), вызывается функция `main()`.

Пример использования
-------------------------

Запуск API с указанием порта и провайдера:

```python
python cli.py api --port 8080 --provider Bard
```

Запуск GUI:

```python
python cli.py gui
```

Запуск API с игнорированием cookie-файлов и указанием API-ключа:

```python
python cli.py api --ignore-cookie-files --g4f-api-key YOUR_API_KEY
```