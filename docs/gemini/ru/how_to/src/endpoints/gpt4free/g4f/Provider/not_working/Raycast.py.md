Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код реализует взаимодействие с API Raycast для получения ответов от языковой модели, такой как GPT-3.5-turbo или GPT-4. Он отправляет сообщения пользователя в Raycast и возвращает ответ в режиме реального времени (stream).

Шаги выполнения
-------------------------
1. **Подготовка**: Импортируются необходимые библиотеки, такие как `json`, `requests` и типы данных из `typing`. Также импортируется базовый класс `AbstractProvider`.
2. **Определение класса `Raycast`**: Создается класс `Raycast`, наследующийся от `AbstractProvider`. В классе определяются параметры, такие как URL, поддержка потоковой передачи, необходимость аутентификации и список поддерживаемых моделей.
3. **Метод `create_completion`**: Этот метод принимает параметры, такие как модель, сообщения, флаг потоковой передачи и прокси.
4. **Аутентификация**: Проверяется наличие токена аутентификации (`auth`). Если токен отсутствует, вызывается исключение `ValueError`.
5. **Формирование заголовков**: Создаются заголовки запроса, включающие токен аутентификации.
6. **Формирование данных**: Сообщения пользователя преобразуются в формат, ожидаемый API Raycast.
7. **Отправка запроса**: Отправляется POST-запрос к API Raycast с использованием библиотеки `requests`. Указывается URL, заголовки, данные и флаг потоковой передачи.
8. **Обработка ответа**: Полученный ответ обрабатывается построчно. Каждая строка проверяется на наличие префикса `data: `. Если префикс найден, строка декодируется, извлекается текст ответа и возвращается как часть генератора.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.Provider.not_working import Raycast
from src.endpoints.gpt4free.g4f.typing import Message

# Пример использования провайдера Raycast для получения ответа от модели GPT-3.5-turbo
try:
    messages: list[Message] = [
        {"role": "user", "content": "Hello, how are you?"}
    ]
    auth_token = "YOUR_AUTH_TOKEN"  # Замените на ваш токен аутентификации
    
    # Вызов метода create_completion для получения ответа от Raycast
    completion = Raycast.create_completion(
        model="gpt-3.5-turbo",
        messages=messages,
        stream=True,
        auth=auth_token
    )
    
    # Итерация по ответу и вывод каждого токена
    if completion:
        for token in completion:
            print(token, end="", flush=True)
    else:
        print("Completion is None")

except ValueError as e:
    print(f"Error: {e}")
except Exception as e:
    print(f"An unexpected error occurred: {e}")