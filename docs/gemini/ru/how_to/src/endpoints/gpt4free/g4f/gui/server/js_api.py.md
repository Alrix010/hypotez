## Как использовать класс JsApi
=========================================================================================

Описание
-------------------------
Класс `JsApi` предоставляет API для взаимодействия с веб-интерфейсом, обеспечивая функциональность выбора изображений, фотографирования и отправки запросов к API.

Шаги выполнения
-------------------------
1. **Создание экземпляра `JsApi`**:
   - Создается экземпляр класса `JsApi`, наследующий от класса `Api`.
   - Этот класс предоставляет методы для работы с API.

2. **Отправка запросов к API**:
   - Метод `get_conversation` отправляет запрос к API с заданными параметрами, например, текст запроса, модель, провайдер и т.д.
   - Метод принимает опции (`options`) для запроса и необязательные параметры `message_id` и `scroll`.
   - Метод отправляет данные на сервер и получает ответ, передавая его в веб-интерфейс через `webview.windows[0].evaluate_js`.

3. **Выбор изображений**:
   - Метод `choose_image` открывает диалоговое окно выбора изображения с помощью `filechooser.open_file`.
   - Метод `on_image_selection` обрабатывает выбранное изображение, сохраняет его в атрибут `self.image` и обновляет состояние выделения.

4. **Фотографирование**:
   - Метод `take_picture` использует `camera.take_picture` для фотографирования.
   - Метод `on_camera` обрабатывает полученное изображение, сохраняет его в `self.image` и обновляет состояние выделения.

5. **Обновление состояния выделения**:
   - Метод `set_selected` обновляет состояние выделения для элементов "image" и "camera" в веб-интерфейсе, используя `webview.windows[0].evaluate_js`.

6. **Получение информации**:
   - Методы `get_version`, `get_models`, `get_providers` и `get_provider_models` наследуются от класса `Api` и предоставляют доступ к информации о версии API, доступных моделях, провайдерах и моделях для конкретного провайдера.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.gui.server.js_api import JsApi

# Создаем экземпляр JsApi
js_api = JsApi()

# Отправляем запрос к API с текстом запроса и моделью
js_api.get_conversation(options={'text': 'Привет, мир!', 'model': 'gpt-3.5-turbo'})

# Выбираем изображение из галереи
js_api.choose_image()

# Фотографируем с помощью камеры
js_api.take_picture()

# Получаем список доступных моделей
models = js_api.get_models()
```