## Как использовать `Ylokh`
=========================================================================================

Описание
-------------------------
`Ylokh`  - это класс, реализующий асинхронный генератор для взаимодействия с API чат-бота Ylokh. Он предоставляет функциональность для отправки запросов к API и получения ответов в виде текста.

Шаги выполнения
-------------------------
1. **Инициализация класса `Ylokh`**: Создается экземпляр класса `Ylokh`.
2. **Вызов `create_async_generator`**: Вызывается метод `create_async_generator`, который принимает параметры:
    - `model`: модель, с которой нужно взаимодействовать (по умолчанию `gpt-3.5-turbo`).
    - `messages`: список сообщений для отправки в чат-бот.
    - `stream`: флаг, определяющий режим работы (потоковый или однократный).
    - `proxy`: прокси для отправки запросов.
    - `timeout`: таймаут для запроса.
    - `**kwargs`: дополнительные параметры для запроса.
3. **Формирование запроса**: 
    - Формируется JSON-объект с данными для запроса к API чат-бота Ylokh, который включает сообщения, модель, настройки параметров и другие опции.
4. **Отправка запроса**: 
    - Используется асинхронный сеанс с HTTP-запросом `POST` для отправки JSON-данных к API Ylokh.
    - Проверяется статус ответа: при возникновении ошибки (неуспешный запрос), генерируется исключение.
5. **Обработка ответа**:
    - В случае потокового режима (`stream = True`), получаются порции текста из ответа сервера, которые последовательно выдают генератор.
    - В случае однократного режима (`stream = False`), извлекается текст из ответа сервера и выдает генератор.

Пример использования
-------------------------

```python
from hypotez.src.endpoints.gpt4free.g4f.Provider.deprecated.Ylokh import Ylokh
from hypotez.src.endpoints.gpt4free.g4f.typing import Messages

messages: Messages = [
    {'role': 'user', 'content': 'Привет!'},
    {'role': 'assistant', 'content': 'Привет!'},
    {'role': 'user', 'content': 'Как дела?'}
]

async def example():
    async for chunk in Ylokh.create_async_generator(model='gpt-3.5-turbo', messages=messages, stream=True):
        print(chunk)
    print('---')
    response = await Ylokh.create_async_generator(model='gpt-3.5-turbo', messages=messages, stream=False)
    print(response)

```