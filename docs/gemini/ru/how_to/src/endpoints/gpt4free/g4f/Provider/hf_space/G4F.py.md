## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот блок кода представляет собой асинхронный генератор для создания изображений с помощью модели FLUX.1-dev, работающей на платформе Hugging Face Spaces. 

Шаги выполнения
-------------------------
1. **Проверка модели:** Проверяет, является ли выбранная модель `flux` или `flux-dev`. Если да, то перенаправляет запрос к модели FLUX.1-dev, используя класс `FluxDev`.
2. **Проверка модели:** Если модель не `flux` или `flux-dev`, то перенаправляет запрос к модели `Janus-Pro-7B`, используя класс `DeepseekAI_JanusPro7b`.
3. **Подготовка входных данных:** Форматирует подсказку для генерации изображения, устанавливает ширину, высоту и зерно (seed) для изображения, создает  JSON-запрос.
4. **Получение токена:** Если  API-ключ не предоставлен, то  получает токен GPU-ускорения  с платформы Hugging Face Spaces.
5. **Отправка запроса:** Отправляет JSON-запрос на URL-адрес модели с помощью aiohttp.
6. **Получение результата:** Обрабатывает полученный ответ, извлекает URL изображения и возвращает его как объект `ImageResponse`.

Пример использования
-------------------------

```python
from hypotez.src.endpoints.gpt4free.g4f.Provider.hf_space.G4F import G4F
from hypotez.src.endpoints.gpt4free.g4f.typing import Messages

async def main():
    messages = Messages(
        "Создай изображение кошки, играющей на пианино"
    )
    async for chunk in G4F.create_async_generator(
        model="flux", messages=messages, width=512, height=512
    ):
        if isinstance(chunk, ImageResponse):
            print(f"Image URL: {chunk.image_url}")
        else:
            print(f"Status: {chunk.status}")

asyncio.run(main())
```

**Дополнительные замечания:**

* Данный код использует асинхронные операции с помощью библиотеки `asyncio` для оптимизации производительности.
* В качестве URL-адреса модели используется `https://roxky-flux-1-dev.hf.space`, а для API-ключа  `https://roxky-janus-pro-7b.hf.space` используется токен GPU-ускорения.
* Этот код может быть использован для генерации изображений с помощью модели FLUX.1-dev и  `Janus-Pro-7B` на платформе Hugging Face Spaces.

**Важно:**

* Перед использованием этого кода убедитесь, что вы установили необходимые библиотеки: `aiohttp`, `time`, `random`, `asyncio`.
* Для доступа к модели FLUX.1-dev необходим токен GPU-ускорения.
* Ознакомьтесь с документацией по платформе Hugging Face Spaces для получения более подробной информации о работе с API.