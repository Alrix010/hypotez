### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код предоставляет реализацию класса `GeekGpt`, который является провайдером для работы с API GeekGpt. Он позволяет отправлять запросы на генерацию текста на основе предоставленных сообщений, используя модели GPT-3.5 Turbo или GPT-4. Код поддерживает потоковую передачу ответов, что позволяет получать результаты по частям в реальном времени.

Шаги выполнения
-------------------------
1. **Импорт необходимых модулей**:
   - Импортируются модули `requests` и `json` для выполнения HTTP-запросов и работы с JSON-данными.
   - Извлекаются абстрактный класс `AbstractProvider` и типы данных `CreateResult`, `Messages` из соответствующих модулей.

2. **Определение класса `GeekGpt`**:
   - Объявляется класс `GeekGpt`, наследующийся от `AbstractProvider`.
   - Указываются атрибуты класса, такие как `url` (URL API GeekGpt), `working` (статус работоспособности), `supports_message_history` (поддержка истории сообщений), `supports_stream` (поддержка потоковой передачи), `supports_gpt_35_turbo` (поддержка GPT-3.5 Turbo) и `supports_gpt_4` (поддержка GPT-4).

3. **Реализация метода `create_completion`**:
   - Метод `create_completion` принимает параметры: `model` (модель для генерации), `messages` (список сообщений), `stream` (флаг потоковой передачи) и `kwargs` (дополнительные параметры).
   - Если модель не указана, устанавливается значение по умолчанию "gpt-3.5-turbo".
   - Формируется JSON-данные для запроса, включающие сообщения, модель, температуру и другие параметры.
   - Устанавливаются заголовки запроса, включая токен авторизации и тип контента.
   - Выполняется POST-запрос к API `https://ai.fakeopen.com/v1/chat/completions` с использованием библиотеки `requests`.

4. **Обработка потоковых ответов**:
   - Код итерируется по строкам ответа, полученного от API.
   - Проверяется наличие строки `b'content'` в каждой строке ответа.
   - Если строка содержит `b'content'`, извлекается JSON-данные из строки и удаляется префикс "data: ".
   - Если JSON-данные содержат "[DONE]", цикл прерывается.
   - Извлекается содержимое из JSON-данных, используя ключи `["choices"][0]["delta"].get("content")`.
   - В случае ошибки при обработке JSON-данных, выбрасывается исключение `RuntimeError`.
   - Если содержимое успешно извлечено, оно возвращается как часть потока.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.Provider.deprecated.GeekGpt import GeekGpt

messages = [
    {"role": "system", "content": "Ты — полезный помощник."},
    {"role": "user", "content": "Привет! Как дела?"}
]

for chunk in GeekGpt.create_completion(
    model="gpt-3.5-turbo",
    messages=messages,
    stream=True
):
    print(chunk, end="", flush=True)