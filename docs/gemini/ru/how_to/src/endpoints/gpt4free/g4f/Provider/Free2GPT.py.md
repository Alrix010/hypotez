### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код представляет собой асинхронный провайдер `Free2GPT` для взаимодействия с API `chat10.free2gpt.xyz`. Он использует `aiohttp` для выполнения асинхронных HTTP-запросов и предоставляет функциональность для генерации текста на основе предоставленных сообщений.

Шаги выполнения
-------------------------
1. **Инициализация**:
   - Определяется класс `Free2GPT`, который наследуется от `AsyncGeneratorProvider` и `ProviderModelMixin`.
   - Устанавливаются основные атрибуты класса, такие как `url`, `working`, `supports_message_history`, `default_model` и `models`.

2. **Создание асинхронного генератора `create_async_generator`**:
   - Функция `create_async_generator` создает асинхронный генератор, который отправляет запросы к API и возвращает чанки данных.
   - Формируются HTTP-заголовки, включая `User-Agent`, `Accept`, `Content-Type`, `Referer` и `Origin`.
   - Создается объект `ClientSession` из библиотеки `aiohttp` для управления асинхронными HTTP-запросами. Используется `get_connector` для обработки прокси-серверов.

3. **Подготовка данных для запроса**:
   - Вычисляется `timestamp` (текущее время в миллисекундах).
   - Создается словарь `data`, включающий `messages` (список сообщений), `time` (временную метку), `pass` (не используется) и `sign` (подпись, сгенерированная функцией `generate_signature`).

4. **Отправка POST-запроса**:
   - Отправляется асинхронный POST-запрос к API (`f"{cls.url}/api/generate"`) с использованием `session.post`.
   - Обрабатываются возможные ошибки: если статус ответа равен 500 и в тексте ответа содержится "Quota exceeded", вызывается исключение `RateLimitError`.
   - Функция `raise_for_status` проверяет статус ответа и вызывает исключение в случае ошибки.

5. **Генерация и возврат чанков данных**:
   - Асинхронно итерируется по содержимому ответа (`response.content.iter_any()`).
   - Каждый чанк данных декодируется в строку (с игнорированием ошибок) и возвращается через `yield`.

6. **Генерация подписи `generate_signature`**:
   - Функция `generate_signature` генерирует SHA256-хеш из строки, состоящей из временной метки, текста сообщения и секрета (по умолчанию пустая строка).
   - Используется для подписи данных, отправляемых в API.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.Provider.Free2GPT import Free2GPT
import asyncio

async def main():
    messages = [{"role": "user", "content": "Hello, world!"}]
    model = "gemini-1.5-pro"

    async for chunk in Free2GPT.create_async_generator(model=model, messages=messages):
        print(chunk, end="")

if __name__ == "__main__":
    asyncio.run(main())