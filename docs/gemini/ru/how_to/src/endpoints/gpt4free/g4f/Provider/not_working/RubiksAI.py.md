### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код определяет класс `RubiksAI`, который является асинхронным провайдером для взаимодействия с API Rubiks AI. Он поддерживает потоковую передачу данных, системные сообщения и историю сообщений. Класс предоставляет методы для генерации уникального идентификатора (`mid`), создания URL-адреса Referer и асинхронного генератора для отправки запросов к API Rubiks AI.

Шаги выполнения
-------------------------
1. **Определение класса `RubiksAI`**:
   - Класс наследуется от `AsyncGeneratorProvider` и `ProviderModelMixin`.
   - Устанавливаются основные атрибуты, такие как `label`, `url`, `api_endpoint`, `working`, `supports_stream`, `supports_system_message`, `supports_message_history`, `default_model`, `models` и `model_aliases`.

2. **Метод `generate_mid()`**:
   - Функция генерирует строку `mid`, состоящую из пяти частей, разделенных дефисами.
   - Каждая часть состоит из случайных строчных букв и цифр. Длины частей: 6, 4, 4, 4 и 12 символов соответственно.

3. **Метод `create_referer()`**:
   - Функция создает URL-адрес Referer, используя параметры `q` (поисковый запрос), `model` и `mid` (уникальный идентификатор).
   - Параметры URL кодируются с помощью `urlencode` для безопасной передачи.

4. **Метод `create_async_generator()`**:
   - Функция создает асинхронный генератор, который отправляет запросы к API Rubiks AI и возвращает ответ.
   - Принимает параметры: `model` (используемая модель), `messages` (список сообщений для отправки), `proxy` (URL прокси-сервера), `web_search` (флаг для включения веб-поиска) и `temperature` (параметр температуры).
   - Генерирует `mid` и `referer` с использованием вспомогательных методов.
   - Формирует полезную нагрузку `data` для запроса, включающую сообщения, модель, параметры поиска и потоковой передачи.
   - Отправляет POST-запрос к API Rubiks AI с использованием `aiohttp.ClientSession`.
   - Обрабатывает потоковый ответ, извлекая данные из каждой строки.
   - Если `web_search` включен, извлекает источники данных из ответа и возвращает их.
   - Извлекает контент из ответов и возвращает его через генератор.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.Provider.not_working import RubiksAI
from src.endpoints.gpt4free.g4f import Messages
import asyncio

async def main():
    model = "gpt-4o-mini"
    messages: Messages = [{"role": "user", "content": "Привет, как дела?"}]
    
    async for response in RubiksAI.create_async_generator(model=model, messages=messages, web_search=False):
        print(response, end="")

if __name__ == "__main__":
    asyncio.run(main())