## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот блок кода предоставляет набор функций для работы с медиа-контентом в контексте чат-ботов. Он позволяет отображать медиа-файлы, как изображения и аудио, в чате, а также объединять медиа-файлы с сообщениями.

Шаги выполнения
-------------------------
1. **Обработка медиа-файлов:**
    - Функция `render_media` обрабатывает медиа-файлы из хранилища. Она принимает идентификатор хранилища, имя файла, URL файла и дополнительные параметры, такие как `as_path` (возвращает путь к файлу) и `as_base64` (возвращает файл в формате base64).
2. **Преобразование частей сообщения:**
    - Функция `render_part` преобразует части сообщения, которые могут содержать медиа-файлы. Она определяет тип контента (текст, изображение, аудио) и возвращает объект с соответствующими данными.
3. **Объединение медиа-файлов с сообщениями:**
    - Функция `merge_media` объединяет медиа-файлы с сообщениями, сохраняя порядок.
4. **Отрисовка сообщений с медиа:**
    - Функция `render_messages` преобразует список сообщений с медиа-файлами в формат, который может быть использован для отрисовки чата. Она преобразует медиа-файлы в соответствующий формат (base64, data URI) и добавляет их в сообщения.

Пример использования
-------------------------

```python
from hypotez.src.endpoints.gpt4free.g4f.tools.media import render_messages, merge_media

# Список сообщений
messages = [
    {"role": "user", "content": "Привет!"},
    {"role": "assistant", "content": "Привет! Вот тебе картинка: "},
    {"role": "assistant", "content": [
        {"type": "image_url", "image_url": {"url": "https://example.com/image.jpg"}}
    ]},
    {"role": "user", "content": "А вот тебе аудио!"},
    {"role": "assistant", "content": "Спасибо! "},
    {"role": "assistant", "content": [
        {"type": "input_audio", "input_audio": {"data": "base64-encoded-audio", "format": "mp3"}}
    ]}
]

# Список медиа-файлов
media = [
    ("base64-encoded-image", "image.jpg"),
    ("base64-encoded-audio", "audio.mp3")
]

# Объединяем медиа-файлы с сообщениями
merged_messages = merge_media(media, messages)

# Отрисовываем сообщения с медиа
rendered_messages = render_messages(merged_messages)

# Выводим отрендеренные сообщения
for message in rendered_messages:
    print(message)
```

Этот пример демонстрирует, как использовать функции `render_messages` и `merge_media` для отрисовки чата с медиа-файлами. Сначала мы создаем список сообщений и список медиа-файлов. Затем мы объединяем медиа-файлы с сообщениями с помощью `merge_media`. Наконец, мы используем `render_messages` для преобразования сообщений в формат, подходящий для отрисовки чата.