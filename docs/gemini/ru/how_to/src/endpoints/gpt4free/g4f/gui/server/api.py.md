## Как использовать `Api` в проекте
=========================================================================================

Описание
-------------------------
Класс `Api` предоставляет набор статических методов для получения информации о моделях, провайдерах, версии и для обработки запросов к API. Он также содержит метод `serve_images`, который используется для обслуживания изображений.

Шаги выполнения
-------------------------
1. **Инициализация класса `Api`**: Класс `Api` не нуждается в инициализации, его методы доступны статически.
2. **Получение информации о моделях**: Метод `get_models` возвращает список доступных моделей, включая их имена, типы (текстовые,  изображений, видео) и список поддерживаемых провайдеров.
3. **Получение моделей для конкретного провайдера**: Метод `get_provider_models` возвращает список доступных моделей для конкретного провайдера, включая их имена, типы (текстовые,  изображений, видео), поддерживаемые задачи и информацию о том, является ли модель моделью по умолчанию для провайдера.
4. **Получение списка провайдеров**: Метод `get_providers` возвращает список всех доступных провайдеров с информацией об их именах, метках, типах (текстовые,  изображений, видео), потребности в аутентификации и URL-адресах для входа.
5. **Получение информации о версии**: Метод `get_version` возвращает информацию о текущей и последней версии проекта.
6. **Обслуживание изображений**: Метод `serve_images` используется для обслуживания изображений, хранящихся в каталоге `images_dir`.
7. **Обработка запросов к API**: Методы `_prepare_conversation_kwargs`, `_create_response_stream`, `handle_provider` и `_format_json` используются для подготовки запросов к API, обработки ответов и преобразования их в нужный формат.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.gui.server.api import Api

# Получение списка моделей
models = Api.get_models()
print(models)

# Получение моделей для провайдера "OpenAI"
openai_models = Api.get_provider_models(provider="OpenAI", api_key="your_api_key")
print(openai_models)

# Получение списка провайдеров
providers = Api.get_providers()
print(providers)

# Получение информации о версии
version_info = Api.get_version()
print(version_info)

# Обслуживание изображения
image_name = "example.png"
image_data = Api.serve_images(image_name)
print(image_data)

# Обработка запроса к API (Пример)
request_data = {
    "model": "gpt-3.5-turbo",
    "provider": "OpenAI",
    "messages": [
        {"role": "user", "content": "Hello, world!"}
    ]
}
response_stream = Api._create_response_stream(request_data, conversation_id="123", provider="OpenAI")
for chunk in response_stream:
    print(chunk)
```