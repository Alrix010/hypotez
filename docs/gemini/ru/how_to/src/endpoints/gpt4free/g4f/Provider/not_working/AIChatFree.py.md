### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код реализует асинхронный генератор для взаимодействия с API AIChatFree. Он отправляет сообщения пользователя в API и получает ответы в виде чанков, используя асинхронные запросы.

Шаги выполнения
-------------------------
1. **Импорт необходимых модулей**:
   - Импортируются модули `time` и `hashlib` для работы с временными метками и хешированием.
   - Импортируются классы и функции из библиотеки `aiohttp` для выполнения асинхронных HTTP-запросов.
   - Импортируются пользовательские классы ошибок, функции для обработки запросов и типы данных из других модулей проекта.

2. **Определение класса `AIChatFree`**:
   - Класс `AIChatFree` наследуется от `AsyncGeneratorProvider` и `ProviderModelMixin`.
   - Устанавливаются параметры класса: `url` (URL API), `working` (статус работоспособности), `supports_stream` (поддержка потоковой передачи), `supports_message_history` (поддержка истории сообщений) и `default_model` (используемая по умолчанию модель).

3. **Реализация метода `create_async_generator`**:
   - Метод `create_async_generator` является асинхронным генератором, который отправляет сообщения в API AIChatFree и возвращает ответы.
   - Формируются заголовки HTTP-запроса, включая `User-Agent`, `Accept`, `Content-Type` и другие.
   - Создается сессия `aiohttp.ClientSession` для выполнения запросов.
   - Формируется тело запроса `data`, которое включает сообщения пользователя, временную метку и цифровую подпись.
   - Выполняется POST-запрос к API (`f"{cls.url}/api/generate"`) с использованием сессии.
   - Обрабатывается возможная ошибка `RateLimitError`, если достигнут лимит запросов.
   - Итерируется по чанкам ответа и декодируется каждый чанк.
   - Каждый декодированный чанк передается в генератор с помощью `yield`.

4. **Реализация функции `generate_signature`**:
   - Функция `generate_signature` генерирует цифровую подпись для запроса, используя временную метку, текст сообщения и секретный ключ (по умолчанию пустой).
   - Подпись создается путем хеширования SHA256 строки, сформированной из временной метки, текста сообщения и секретного ключа.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.Provider.not_working.AIChatFree import AIChatFree
from src.typing import Message
import asyncio

async def main():
    messages: list[Message] = [
        {"role": "user", "content": "Hello, how are you?"}
    ]
    
    async for chunk in AIChatFree.create_async_generator(model="gemini-1.5-pro", messages=messages):
        print(chunk, end="")

if __name__ == "__main__":
    asyncio.run(main())