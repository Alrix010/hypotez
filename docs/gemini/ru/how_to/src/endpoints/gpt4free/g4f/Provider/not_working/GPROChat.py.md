## Как использовать GPROChat
=========================================================================================

Описание
-------------------------
Этот блок кода представляет собой класс `GPROChat`, который реализует асинхронный генератор для работы с API-интерфейсом GPROChat,  предоставляя возможность получать ответы от модели  Gemini Pro. 

Шаги выполнения
-------------------------
1. **Инициализация класса:**  Создается экземпляр класса `GPROChat` с использованием атрибутов:
    - `url`: Базовый URL API-интерфейса.
    - `api_endpoint`: URL конечной точки для запросов.
    - `working`: Флаг, указывающий на доступность API (по умолчанию `False`).
    - `supports_stream`: Флаг, указывающий на поддержку потокового ответа (по умолчанию `True`).
    - `supports_message_history`: Флаг, указывающий на поддержку истории сообщений (по умолчанию `True`).
    - `default_model`: Имя модели по умолчанию ('gemini-1.5-pro').

2. **Генерация подписи**:  Статический метод `generate_signature` вычисляет подпись для запроса, используя секретный ключ,  timestamp  и текст запроса.
    - Метод вычисляет SHA256 хэш-сумму  конкатенации таймстемпа, текста запроса и секретного ключа. 
    - Возвращает шестнадцатеричное представление хэш-суммы, которая используется для аутентификации запроса.

3. **Создание асинхронного генератора:** Классовый метод `create_async_generator` создает асинхронный генератор для получения ответа от API GPROChat.
    - Получает  `model`,  `messages`,  `proxy`  и другие дополнительные параметры.
    - Выполняет форматирование текста запроса с помощью `format_prompt`, вычисляет timestamp  и подпись.
    - Устанавливает заголовки HTTP-запроса, включая  `Content-Type`,  `User-Agent`,  `Referer`,  `Origin`  и  `Accept`.
    - Формирует JSON-данные для отправки на API.
    - Инициализирует асинхронную сессию HTTP-клиента с использованием `aiohttp.ClientSession`.
    - Выполняет POST-запрос к API, используя  `session.post`.
    - Обрабатывает  `response.content.iter_any()`,  декодируя и возвращая куски текста ответа. 
    - Возвращает асинхронный генератор, который выдает куски ответа в потоковом режиме.


Пример использования
-------------------------

```python
from hypotez.src.endpoints.gpt4free.g4f.Provider.not_working.GPROChat import GPROChat
from hypotez.src.endpoints.gpt4free.g4f.typing import Messages

messages: Messages = [
    {"role": "user", "content": "Привет, как дела?"},
]

async def main():
    provider = GPROChat()
    async for chunk in provider.create_async_generator(model='gemini-1.5-pro', messages=messages):
        print(chunk, end='')

if __name__ == '__main__':
    import asyncio
    asyncio.run(main())

```