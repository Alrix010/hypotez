Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Данный код предоставляет класс `GPROChat`, который является асинхронным генератором для взаимодействия с API GPROChat. Он позволяет отправлять сообщения и получать ответы в асинхронном режиме, поддерживая стриминг ответов и историю сообщений. Также, в классе реализована функция для генерации цифровой подписи, необходимой для аутентификации запросов к API.

Шаги выполнения
-------------------------
1. **Импорт необходимых модулей**: Импортируются модули `time`, `hashlib`, `ClientSession` из `aiohttp` и другие необходимые классы и типы.
2. **Определение класса `GPROChat`**: Создается класс `GPROChat`, наследующийся от `AsyncGeneratorProvider` и `ProviderModelMixin`.
3. **Установка атрибутов класса**:
   - `url`: Устанавливается URL сайта GPROChat.
   - `api_endpoint`: Устанавливается URL API для генерации ответов.
   - `working`: Устанавливается в `False`, указывая, что провайдер в данный момент не работает.
   - `supports_stream`: Устанавливается в `True`, указывая на поддержку стриминга ответов.
   - `supports_message_history`: Устанавливается в `True`, указывая на поддержку истории сообщений.
   - `default_model`: Устанавливается модель по умолчанию (`gemini-1.5-pro`).
4. **Определение метода `generate_signature`**:
   - Функция `generate_signature` генерирует цифровую подпись для запроса.
   - Принимает `timestamp` (временную метку) и `message` (сообщение) в качестве аргументов.
   - Использует секретный ключ `secret_key` для создания подписи.
   - Возвращает SHA256 хеш входной строки.
5. **Определение асинхронного генератора `create_async_generator`**:
   - Метод `create_async_generator` создает асинхронный генератор для получения ответов от API GPROChat.
   - Принимает `model` (модель), `messages` (сообщения), `proxy` (прокси) и другие аргументы.
   - Форматирует промпт из списка сообщений.
   - Генерирует цифровую подпись, используя `generate_signature`.
   - Создает заголовки запроса, включая `origin`, `referer` и `user-agent`.
   - Формирует данные запроса в формате JSON, включая сообщения, временную метку и подпись.
   - Отправляет POST-запрос к API с использованием `ClientSession`.
   - Получает и декодирует чанки ответа, передавая их через `yield`.

Пример использования
-------------------------

```python
from src.endpoints.gpt4free.g4f.Provider.not_working import GPROChat
from src.endpoints.gpt4free.g4f.typing import Messages
import asyncio

async def main():
    messages: Messages = [{"role": "user", "content": "Привет, как дела?"}]
    model = "gemini-1.5-pro"

    async for response in GPROChat.create_async_generator(model=model, messages=messages):
        print(response, end="")

if __name__ == "__main__":
    asyncio.run(main())
```
```
Данный пример демонстрирует использование класса `GPROChat` для отправки сообщения и получения ответа от API. Функция `main` создает список сообщений, устанавливает модель и затем использует асинхронный генератор `create_async_generator` для получения ответа. Ответы выводятся в консоль по мере их поступления.