## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Блок кода представляет собой миграцию базы данных, создающую начальную структуру таблиц для телеграм-бота.

Шаги выполнения
-------------------------
1. **Создание таблицы `categories`**: создается таблица для хранения категорий товаров с полями:
    - `category_name`: Текстовое поле для названия категории.
    - `id`: Целочисленный первичный ключ, автоматически увеличивается.
    - `created_at`: Дата и время создания записи.
    - `updated_at`: Дата и время последнего обновления записи.
2. **Создание таблицы `users`**: создается таблица для хранения информации о пользователях с полями:
    - `telegram_id`: Целочисленный идентификатор пользователя в Telegram.
    - `username`: Текстовое поле для имени пользователя.
    - `first_name`: Текстовое поле для имени пользователя.
    - `last_name`: Текстовое поле для фамилии пользователя.
    - `id`: Целочисленный первичный ключ, автоматически увеличивается.
    - `created_at`: Дата и время создания записи.
    - `updated_at`: Дата и время последнего обновления записи.
3. **Создание таблицы `products`**: создается таблица для хранения информации о товарах с полями:
    - `name`: Текстовое поле для названия товара.
    - `description`: Текстовое поле для описания товара.
    - `price`: Целочисленный столбец для цены товара.
    - `file_id`: Текстовое поле для идентификатора файла товара в Telegram.
    - `category_id`: Целочисленный столбец, ссылающийся на категорию товара из таблицы `categories`.
    - `id`: Целочисленный первичный ключ, автоматически увеличивается.
    - `created_at`: Дата и время создания записи.
    - `updated_at`: Дата и время последнего обновления записи.
4. **Создание таблицы `purchases`**: создается таблица для хранения информации о покупках пользователей с полями:
    - `user_id`: Целочисленный столбец, ссылающийся на пользователя из таблицы `users`.
    - `product_id`: Целочисленный столбец, ссылающийся на товар из таблицы `products`.
    - `price`: Целочисленный столбец для цены товара.
    - `id`: Целочисленный первичный ключ, автоматически увеличивается.
    - `created_at`: Дата и время создания записи.
    - `updated_at`: Дата и время последнего обновления записи.

Пример использования
-------------------------

```python
from alembic import op
import sqlalchemy as sa

# Выполнение миграции для создания таблиц
def upgrade() -> None:
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('categories',
    sa.Column('category_name', sa.Text(), nullable=False),
    sa.Column('id', sa.Integer(), autoincrement=True, nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('(CURRENT_TIMESTAMP)'), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    # ... (аналогично для остальных таблиц)
    # ### end Alembic commands ###
```

В коде `upgrade` реализована функция, которая выполняет миграцию базы данных. Она использует `op.create_table` для создания таблиц, а `sa.Column` для задания полей и их типов.