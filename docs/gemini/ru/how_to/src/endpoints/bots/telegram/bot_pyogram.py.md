### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код представляет собой простого Telegram-бота, созданного с использованием библиотеки Pyrogram. Бот отвечает на команду `/start` приветственным сообщением и эхом повторяет все остальные текстовые сообщения, отправленные ему.

Шаги выполнения
-------------------------
1. **Импорт необходимых модулей**: Из библиотеки `pyrogram` импортируются классы `Client` и `filters`, а также модуль `os` для работы с переменными окружения.
2. **Получение учетных данных из переменных окружения**:
   - Значения `API_ID`, `API_HASH` и `BOT_TOKEN` извлекаются из переменных окружения, используя `os.environ.get()`. Если переменные окружения не заданы, используются значения по умолчанию (`''`).
3. **Создание экземпляра клиента Pyrogram**:
   - Создается экземпляр класса `Client` с именем `"my_simple_bot"` и переданными учетными данными (`api_id`, `api_hash`, `bot_token`).
4. **Регистрация обработчика команды `/start`**:
   - Декоратор `@app.on_message(filters.command("start"))` регистрирует функцию `start_command` как обработчик для команды `/start`.
   - Функция `start_command` принимает аргументы `client` (экземпляр `Client`) и `message` (объект `Message`, представляющий входящее сообщение).
   - Внутри функции вызывается метод `message.reply_text()` для отправки ответа с приветственным текстом.
5. **Регистрация обработчика всех текстовых сообщений (кроме команд)**:
   - Декоратор `@app.on_message(filters.text & ~filters.command)` регистрирует функцию `echo_message` как обработчик для всех текстовых сообщений, которые не являются командами.
   - Функция `echo_message` принимает аргументы `client` и `message`.
   - Внутри функции вызывается метод `message.reply_text()` для отправки эхо-ответа с текстом входящего сообщения.
6. **Запуск бота**:
   - Блок `if __name__ == "__main__":` гарантирует, что код внутри него будет выполнен только при запуске скрипта напрямую (а не при импорте его как модуля).
   - Выводится сообщение "Бот запущен..." в консоль.
   - Вызывается метод `app.run()` для запуска бота и начала прослушивания входящих сообщений.

Пример использования
-------------------------

```python
from pyrogram import Client, filters
import os

# Извлекаем значения из переменных окружения
API_ID = int(os.environ.get("TELEGRAM_API_ID"))
API_HASH = os.environ.get("TELEGRAM_API_HASH")
BOT_TOKEN = os.environ.get("TELEGRAM_TOKEN")

# Создаем экземпляр клиента Pyrogram
app = Client(
    "my_simple_bot",
    api_id=API_ID,
    api_hash=API_HASH,
    bot_token=BOT_TOKEN
)

# Обработчик команды /start
@app.on_message(filters.command("start"))
def start_command(client, message):
    message.reply_text("Привет! Я простой бот на Pyrogram.")

# Обработчик всех текстовых сообщений (кроме команд)
@app.on_message(filters.text & ~filters.command)
def echo_message(client, message):
    message.reply_text(message.text)

# Запуск бота
if __name__ == "__main__":
    print("Бот запущен...")
    app.run()