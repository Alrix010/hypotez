### **Инструкции по использованию кода**

=========================================================================================

#### Как использовать этот блок кода

Описание
-------------------------
Этот класс `ToolBox` представляет собой набор функций для Telegram-бота, который обрабатывает различные типы запросов: генерацию текстов и изображений, управление тарифами, а также взаимодействие с нейронными сетями. Он использует библиотеку `telebot` для работы с Telegram API и включает в себя методы для обработки текстовых и графических запросов, а также для управления тарифами и счетами пользователей.

Шаги выполнения
-------------------------
1. **Инициализация класса `ToolBox`**:
   - При создании экземпляра класса `ToolBox` инициализируются основные параметры и функции, такие как кнопки старта, тексты подсказок, Telegram бот, клавиатуры и задержки запросов.
   - Подгружаются тексты подсказок из файла `ToolBox/BaseSettings/prompts.json`.
   - Инициализируется Telegram бот с использованием токена из переменной окружения `TOKEN`.
   - Определяются различные лямбда-функции для отправки сообщений, редактирования текста и отображения клавиатур.

2.  **Обработка текстовых запросов**:
    - Функция `Text_types` отображает клавиатуру с различными типами текстов для генерации (коммерческий, SMM, брейншторм и т.д.).
    - Функция `TextCommands` обрабатывает текстовые команды, запрашивает у пользователя необходимые параметры и генерирует текст с помощью модели `gpt-4o-mini`.

3.  **Обработка запросов на генерацию нескольких текстов**:
    - Функция `SomeTextsCommand` обрабатывает запросы на генерацию нескольких текстов одновременно, запрашивая у пользователя необходимые параметры для каждого текста.

4. **Обработка графических запросов**:
   - Функция `ImageSize` отображает клавиатуру с выбором разрешения изображения.
   - Функция `ImageArea` запрашивает у пользователя текстовое описание изображения.
   - Функция `ImageCommand` генерирует изображение на основе запроса пользователя с использованием модели `FLUX_schnell`.
   - Функции `ImageChange` и `Image_Regen_And_Upscale` позволяют пользователю улучшить или перегенерировать изображение.

5. **Обработка запросов свободного режима**:
   - Функция `FreeArea` позволяет пользователю отправлять произвольные запросы для генерации текста.
   - Функция `FreeCommand` обрабатывает запрос свободного режима и возвращает ответ от модели `gpt-4o-mini`.

6. **Управление тарифами**:
   - Функции `Basic_tariff` и `Pro_tariff` предлагают пользователю подключить базовый или профессиональный тариф с использованием Telegram Payments API.
   - Функции `TariffArea`, `TariffExit`, `TarrifEnd` и `FreeTariffEnd` управляют отображением информации о тарифах и сообщениями об окончании тарифных лимитов.

7. **Приватные методы**:
    - `__gpt_4o_mini` - обрабатывает запросы к модели `gpt-4o-mini` и возвращает сгенерированный текст.
    - `__FLUX_schnell` - обрабатывает запросы к модели `FLUX_schnell` и отправляет сгенерированное изображение пользователю.

Пример использования
-------------------------

```python
    from ToolBox_requests import ToolBox
    from telebot import TeleBot

    # Инициализация класса ToolBox
    toolbox = ToolBox()

    # Пример обработки команды /start
    @toolbox.bot.message_handler(commands=['start'])
    def start(message):
        toolbox.start_request(message)

    # Пример обработки текстового сообщения в свободном режиме
    @toolbox.bot.message_handler(func=lambda message: True)
    def free_mode(message):
        # Здесь должна быть логика обработки сообщения в свободном режиме
        pass

    # Запуск бота
    if __name__ == '__main__':
        toolbox.bot.polling(none_stop=True)