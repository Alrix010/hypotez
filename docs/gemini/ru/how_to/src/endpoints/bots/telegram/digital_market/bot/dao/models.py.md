## Как использовать этот блок кода
=========================================================================================

### Описание
-------------------------
Этот код определяет модели данных для бота телеграмм, который продает товары. Он использует SQLAlchemy для взаимодействия с базой данных. 

### Шаги выполнения
-------------------------
1. **Определение моделей:**  
    - Модель `User` хранит информацию о пользователе телеграмма.
    - Модель `Category` хранит информацию о категории товара.
    - Модель `Product` хранит информацию о товаре, включая категорию, цену, описание, файл с описанием и скрытый контент.
    - Модель `Purchase` хранит информацию о покупке, включая пользователя, товар, цену, тип оплаты и ID платежа.
2. **Создание отношений:**
    - Модель `User` имеет отношение "один ко многим" с моделью `Purchase` (один пользователь может сделать несколько покупок).
    - Модель `Category` имеет отношение "один ко многим" с моделью `Product` (одна категория может содержать несколько товаров).
    - Модель `Product` имеет отношение "один ко многим" с моделью `Purchase` (один товар может быть куплен несколько раз).
    - Модель `Purchase` имеет отношение "многие к одному" с моделью `User` и "многие к одному" с моделью `Product` (одна покупка связана с одним пользователем и одним товаром).
3. **Использование модели:** 
    - Используйте эти модели для хранения и извлечения данных из базы данных.
    - Например, вы можете создать нового пользователя:
        ```python
        user = User(telegram_id=123456789, username='username')
        session.add(user)
        session.commit()
        ```

### Пример использования
-------------------------

```python
from sqlalchemy.orm import sessionmaker

# Подключение к базе данных
engine = create_engine('your_database_url') 
Session = sessionmaker(bind=engine)
session = Session()

# Создание нового товара
product = Product(name='Товар 1', description='Описание товара 1', price=100, category_id=1)
session.add(product)
session.commit()

# Получение информации о товаре
products = session.query(Product).filter(Product.name == 'Товар 1').all()
print(products)

# Закрытие сессии
session.close()
```

### Дополнительная информация
-------------------------
- Этот код использует SQLAlchemy, поэтому вам необходимо установить библиотеку SQLAlchemy. 
- Документация SQLAlchemy: https://docs.sqlalchemy.org/en/20/
- Чтобы использовать этот код, вам необходимо настроить подключение к базе данных.

**Важно:** Всегда закрывайте сессию базы данных после завершения операций с ней, чтобы освободить ресурсы.