## Как использовать TelegramBot
=========================================================================================

Описание
-------------------------
Класс `TelegramBot` обеспечивает взаимодействие с Telegram ботом через сервер FastAPI. Он инициализирует бота, устанавливает вебхук и обрабатывает входящие сообщения.

Шаги выполнения
-------------------------
1. **Инициализация:**
   - Создается экземпляр класса `TelegramBot` с передачей токена бота и опционального маршрута для вебхука.
   - Загружается конфигурационный файл `telegram.json`.
   - Инициализируются бот `Bot` и диспетчер `Dispatcher`.
   - Создается экземпляр класса `BotHandler` для обработки сообщений.
   - Регистрируются стандартные обработчики (`start`, `help`, `sendpdf`).
2. **Запуск бота:**
   - Вызывается метод `run()` для запуска бота.
   - Инициализируется клиент RPC для взаимодействия с сервером FastAPI.
   - Запускается сервер FastAPI через RPC.
   - Устанавливается вебхук для бота.
   - Если вебхук успешно установлен, то запускается приложение FastAPI для обработки вебхуков.
   - В противном случае используется `start_polling` для обработки сообщений напрямую.
3. **Обработка сообщений:**
   - Для каждого входящего сообщения вызывается соответствующий обработчик из `BotHandler`.
   - Для текстовых сообщений вызывается `handle_message`.
   - Для голосовых сообщений - `handle_voice`.
   - Для документов - `handle_document`.
   - Для остальных сообщений - `handle_log`.
4. **Остановка бота:**
   - Вызывается метод `stop` для остановки бота и удаления вебхука.

Пример использования
-------------------------

```python
from dotenv import load_dotenv
from src.endpoints.bots.telegram.bot_aiogram import TelegramBot

if __name__ == "__main__":
    load_dotenv()  # Загрузить переменные окружения
    bot = TelegramBot(os.getenv('TELEGRAM_TOKEN'))  # Создать экземпляр бота
    bot.run()  # Запустить бота
```