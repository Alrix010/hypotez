## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Данный блок кода реализует функцию `upload`, которая позволяет загрузить файл на Google Drive. Функция использует библиотеку `pydrive` для взаимодействия с API Google Drive и предоставляет возможность выбора родительской папки для загружаемого файла.

Шаги выполнения
-------------------------
1. **Инициализация**:
   - Функция получает на вход следующие параметры:
     - `filename`: путь к файлу для загрузки.
     - `update`: объект Telegram Update, содержащий информацию о пользователе.
     - `context`: объект Telegram Context, предоставляющий доступ к боту.
     - `parent_folder`: имя папки, в которую нужно загрузить файл.
   - Инициализируется объект `GoogleAuth` для авторизации.
   - Загружаются учетные данные пользователя из файла, имя которого соответствует ID пользователя.
   - Проверяется, не истек ли срок действия токена доступа. В случае необходимости токен обновляется.
   - Инициализируется объект `GoogleDrive` для взаимодействия с API Google Drive.

2. **Проверка существования файла**:
   - Проверяется, существует ли файл по указанному пути. В случае отсутствия файла выводится сообщение об ошибке и функция завершает работу.

3. **Проверка наличия родительской папки**:
   - Если задано имя родительской папки:
     - Проверяется наличие папки с таким именем в корневой папке Google Drive.
     - Если папка найдена, извлекается ее ID.
     - В случае отсутствия папки создается новая папка с указанным именем, а ее ID сохраняется.

4. **Подготовка метаданных для загрузки**:
   - Создается словарь `file_params` с информацией о загружаемом файле:
     - `title`: имя файла (извлекается из пути к файлу).
     - `parents`: список объектов, содержащих ID родительской папки. В случае использования Team Drive, ID Team Drive и ID папки в нем.

5. **Загрузка файла**:
   - Создается объект `file_to_upload` для загрузки файла на Google Drive.
   - Задаются метаданные для загрузки.
   - Файл загружается на Google Drive.
   - В случае ошибки выводится сообщение об ошибке.

6. **Предоставление доступа к файлу**:
   - Если файл не загружен на Team Drive, предоставляется доступ к файлу для всех пользователей с правами на чтение.
   - Возвращается ссылка на загруженный файл.

Пример использования
-------------------------

```python
from hypotez.src.endpoints.bots.google_drive.upload import upload

# Загрузка файла "example.pdf" в папку "Documents"
filename = "example.pdf"
parent_folder = "Documents"
upload(filename, update, context, parent_folder)
```