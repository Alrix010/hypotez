## Как использовать этот блок кода
=========================================================================================

### Описание
-------------------------
Модуль `webdriver` предоставляет унифицированный и расширенный интерфейс для работы с веб-драйверами Selenium (в данном примере, с фокусом на Firefox), упрощая автоматизацию взаимодействия с веб-страницами.

### Шаги выполнения
-------------------------
1. **Инициализация и конфигурация драйвера:** 
    - Настройка параметров запуска браузера (Firefox), включая пути к исполняемым файлам, использование профилей, опции запуска (например, kiosk, headless), настройку User-Agent и работу с прокси.
2. **Взаимодействие с элементами:**
    - Поиск элементов на странице по различным стратегиям (CSS-селекторы, XPath, ID и т.д.).
    - Выполнение действий над элементами (клик, ввод текста, получение атрибутов, создание скриншотов элемента).
    - Обработка сложных сценариев с ожиданием элементов и обработкой списков.
3. **Выполнение JavaScript:**
    - Выполнение типовых JS-скриптов на странице (например, проверка `readyState`, получение языка страницы, изменение видимости DOM-элементов, установка фокуса на окно).
4. **Управление прокси:**
    - Загрузка списков прокси с удаленного источника.
    - Парсинг и проверка работоспособности прокси.
    - Интеграция с настройкой драйвера Firefox.
5. **Вспомогательные методы:**
    - Методы для общих задач, таких как навигация (`get_url`), прокрутка страницы (`scroll`), ожидание (`wait`), получение HTML-кода (`fetch_html`).

### Пример использования
-------------------------
```python
import asyncio
from pathlib import Path
from types import SimpleNamespace

# Предполагается, что структура проекта настроена и gs/header доступны
# import header
# from src import gs
from src.webdriver.firefox import Firefox
from src.logger.logger import logger # Используется для логирования

# Инициализация драйвера с использованием настроек из firefox.json
# Можно переопределить некоторые параметры при инициализации:
try:
    # Пример с указанием режима киоска
    driver = Firefox(window_mode="kiosk", profile_name="my_custom_profile")
    # Или просто использовать настройки по умолчанию из JSON
    # driver = Firefox()
    logger.info("Драйвер Firefox успешно запущен.")
except Exception as e:
    logger.critical(f"Не удалось инициализировать драйвер Firefox: {e}")
    # Выход или дальнейшая обработка ошибки
    exit()

# Теперь экземпляр 'driver' содержит как стандартные методы Selenium,
# так и добавленные методы из JavaScript и ExecuteLocator.
```

### Пошаговое объяснение:

**1. Импорт необходимых модулей:** 
    - `asyncio`: для асинхронных операций.
    - `pathlib`: для работы с файлами и путями.
    - `types`: для создания объекта `SimpleNamespace`.
    - `Firefox`: для работы с драйвером Firefox.
    - `logger`: для вывода информации в лог.

**2. Инициализация драйвера Firefox:**
    - Вызывается класс `Firefox()`.
    - Можно задать параметры (например, `window_mode="kiosk"`) или использовать настройки по умолчанию из файла `firefox.json`.
    - В случае ошибки выводится сообщение в лог и завершается работа.

**3. После успешной инициализации:**
    - `driver` содержит методы из `selenium.webdriver.Firefox` и дополнительные методы для работы с элементами (`ExecuteLocator`), JavaScript (`JavaScript`) и прокси (`proxy.py`).