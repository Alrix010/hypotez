### **Инструкции по использованию блока кода**

=========================================================================================

Описание
-------------------------
Этот код определяет класс `Edge`, который представляет собой кастомизированный WebDriver для браузера Edge. Он позволяет упростить настройку и запуск Edge с использованием `fake_useragent` для подмены User-Agent, а также предоставляет дополнительные методы для взаимодействия с веб-страницами.

Шаги выполнения
-------------------------
1. **Инициализация класса `Edge`**:
   - Класс `Edge` наследуется от `selenium.webdriver.Edge`.
   - При инициализации класса происходит следующее:
     - Определяется `user_agent`: если передан, используется переданный, иначе генерируется случайный с помощью `fake_useragent`.
     - Загружаются настройки из файла `edge.json`.
     - Создается объект `EdgeOptions` для настройки параметров запуска Edge.
     - Добавляются основные параметры, такие как `user-agent`.
     - Устанавливается режим окна браузера (`windowless`, `kiosk`, `full_window`) из параметров или конфигурационного файла.
     - Добавляются дополнительные опции из переданного списка `options` и из конфигурационного файла.
     - Добавляются заголовки из конфигурационного файла.
     - Настраивается директория профиля пользователя.
     - Инициализируется WebDriver с настроенными опциями.
     - Вызывается метод `_payload` для загрузки исполнителей локаторов и JavaScript-сценариев.
   - Обрабатываются исключения, которые могут возникнуть при запуске WebDriver.

2. **Метод `_payload`**:
   - Создает экземпляр класса `JavaScript`, передавая ему текущий экземпляр `Edge`.
   - Инициализирует методы для выполнения JavaScript-кода на странице (например, `get_page_lang`, `ready_state`, `unhide_DOM_element`, `window_focus`).
   - Создает экземпляр класса `ExecuteLocator`, также передавая ему текущий экземпляр `Edge`.
   - Инициализирует методы для выполнения поиска элементов на странице по локаторам и выполнения с ними различных действий (например, `execute_locator`, `get_webelement_as_screenshot`, `send_message`).

3. **Метод `set_options`**:
   - Создает и настраивает параметры запуска для Edge WebDriver.
   - Принимает список опций `opts` для добавления в WebDriver.
   - Возвращает сконфигурированный объект `EdgeOptions`.

Пример использования
-------------------------

```python
from src.webdriver.edge.edge import Edge

# Инициализация Edge WebDriver с режимом полного окна
driver = Edge(window_mode='full_window')

# Открытие веб-страницы
driver.get("https://www.example.com")

# Получение языка страницы
page_lang = driver.get_page_lang()
print(f"Язык страницы: {page_lang}")

# Закрытие браузера
driver.quit()