### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код предоставляет класс `Firefox`, который расширяет стандартный `selenium.webdriver.Firefox` для управления браузером Firefox с дополнительными функциями, такими как управление профилем, режимы отображения окна (например, kiosk) и настройка прокси.

Шаги выполнения
-------------------------
1. **Инициализация класса `Config`**:
   - Класс `Config` отвечает за загрузку конфигурационных параметров из JSON-файла (`firefox.json`).
   - При инициализации указывается путь к файлу конфигурации.
   - Функция извлекает пути к исполняемым файлам `geckodriver` и `firefox_binary`, а также директории профиля и различные опции, такие как заголовки и настройки прокси.
2. **Инициализация класса `Firefox`**:
   - При создании экземпляра класса `Firefox` происходит инициализация драйвера Firefox с заданными параметрами, такими как профиль, версия GeckoDriver, версия Firefox, user-agent, путь к файлу прокси, дополнительные опции и режим отображения окна.
   - Функция создает объект `Service` с путем к исполняемому файлу GeckoDriver.
   - Создается объект `Options`, в который добавляются различные настройки, такие как режим окна, опции из конфигурационного файла и дополнительные опции, переданные при создании экземпляра класса.
   - Устанавливается user-agent, либо случайный, либо указанный пользователем.
   - Если включена опция прокси, вызывается метод `set_proxy` для настройки прокси.
   - Определяется директория профиля Firefox.
   - Вызывается метод `super().__init__` для инициализации базового класса `WebDriver` с настроенными опциями и сервисом.
   - Вызывается метод `_payload` для загрузки исполнителей локаторов и JavaScript-скриптов.
3. **Настройка прокси через метод `set_proxy`**:
   - Метод `set_proxy` настраивает прокси на основе данных из файла прокси.
   - Функция `get_proxies_dict()` извлекает список прокси из файла.
   - Происходит случайный выбор рабочего прокси из списка и его проверка.
   - В зависимости от протокола прокси (HTTP, SOCKS4, SOCKS5) устанавливаются соответствующие настройки в опциях Firefox.
4. **Загрузка исполнителей через метод `_payload`**:
   - Метод `_payload` загружает исполнители локаторов и JavaScript-скриптов.
   - Создается экземпляр класса `JavaScript`, которому передается текущий экземпляр `Firefox`.
   - Устанавливаются методы для выполнения JavaScript-скриптов, такие как получение языка страницы, проверка готовности страницы, получение реферера и т.д.
   - Создается экземпляр класса `ExecuteLocator`, которому передается текущий экземпляр `Firefox`.
   - Устанавливаются методы для выполнения поиска элементов на странице по локаторам, получения скриншотов элементов, отправки сообщений и т.д.
5. **Обработка исключений**:
   - При возникновении исключений `WebDriverException` (например, если не удалось запустить WebDriver) или других исключений, функция логирует ошибку и завершает работу.

Пример использования
-------------------------

```python
from pathlib import Path
from src import gs
from src.webdriver.firefox.firefox import Firefox

if __name__ == "__main__":
    # Инициализация Firefox с профилем и режимом kiosk
    browser = Firefox(
        profile_name="custom_profile",
        window_mode="kiosk"
    )
    # Открытие веб-страницы
    browser.get("https://www.example.com")
    # Закрытие браузера
    browser.quit()