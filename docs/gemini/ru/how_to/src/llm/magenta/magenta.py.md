## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Блок кода представляет собой класс `MagentaMusic`, который позволяет генерировать музыку с помощью библиотеки Magenta от Google. 
Он предоставляет функции для загрузки MIDI-файлов затравки, генерации мелодий, добавления аккордов и барабанов, 
установки темпа и сохранения готовой композиции в MIDI-файл.

Шаги выполнения
-------------------------
1. **Инициализация класса:** Создайте экземпляр класса `MagentaMusic` с заданными параметрами:
    - `output_dir`: Директория для сохранения сгенерированной музыки.
    - `model_name`: Имя модели (например, `attention_rnn` или `basic_rnn`).
    - `temperature`: Температура генерации.
    - `num_steps`: Количество тактов в композиции.
    - `primer_midi_file`: Имя MIDI-файла затравки (необязательно).
    - `tempo`: Темп композиции.

2. **Загрузка MIDI-файла затравки:** Метод `_load_primer_sequence` загружает MIDI-файл затравки, если он существует, или создаёт пустую NoteSequence, если файл не найден.

3. **Генерация мелодии:** Метод `generate_melody` генерирует мелодию с заданными параметрами:
    - `temperature`: Температура генерации.
    - `steps`: Количество тактов в мелодии.
    - `primer_sequence`: Загруженная MIDI-затравка.

4. **Добавление аккордов:** Метод `add_chords` добавляет аккорды к сгенерированной мелодии. 
   В данном коде используется предопределенный набор аккордов, который повторяется циклически.

5. **Добавление барабанов:** Метод `add_drums` добавляет барабанную партию к композиции. 
   В данном коде используется предопределенный барабанный рисунок.

6. **Установка темпа:** Метод `set_tempo` устанавливает темп для сгенерированной композиции.

7. **Сохранение MIDI-файла:** Метод `save_midi` сохраняет готовую композицию в MIDI-файл.

8. **Генерация полной композиции:** Метод `generate_full_music` объединяет все шаги в один вызов для удобства. 
   Он последовательно вызываеет методы `generate_melody`, `add_chords`, `add_drums`, `set_tempo` и `save_midi` для создания полной композиции.

Пример использования
-------------------------

```python
    # Пример использования класса
    music_generator = MagentaMusic(output_dir='my_music', model_name='attention_rnn',
                                    temperature=1.1, num_steps=200, primer_midi_file='primer.mid', tempo=110)
    music_generator.generate_full_music()

    # Другой пример с другими параметрами
    music_generator2 = MagentaMusic(output_dir='my_music2', model_name='basic_rnn',
                                    temperature=0.9, num_steps=150, primer_midi_file='primer2.mid', tempo=120)
    music_generator2.generate_full_music()
```