## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот модуль кода реализует класс `Logger`, который позволяет записывать сообщения о событиях в консоль, файл и JSON. Класс реализован с использованием паттерна "одиночка" (Singleton), поэтому в любой момент времени существует только один экземпляр `Logger`.

Шаги выполнения
-------------------------
1. **Инициализация логгера:** При первом использовании класса `Logger` он автоматически инициализируется и создает необходимые файлы.
2. **Запись сообщений:** Для записи сообщений используются методы `info`, `debug`, `warning`, `error`, `critical`, `success` и `exception`, соответствующие уровням логирования в `logging`. Каждый метод позволяет задать цвет текста, цвет фона и дополнительную информацию об ошибке.
3. **Форматирование сообщений:** Каждый метод использует метод `_format_message`, который добавляет к сообщению символ уровня логирования, а также цвет текста и фона, если они заданы. 
4. **Запись в консоль:** В консоль записываются все сообщения, которые переданы в метод `log`.
5. **Запись в файл:** Сообщения записываются в отдельные файлы: `info.log` (для `info`), `debug.log` (для `debug`), `errors.log` (для `error` и `critical`), а также `log.json` (в формате JSON для всех уровней).
6. **Дополнительная информация об ошибке:** В случае ошибки можно передать ее экземпляр в аргумент `ex` метода `log`. Метод `_ex_full_info` формирует строку с информацией о файле, функции и строке, где произошла ошибка, а также сам текст ошибки.

Пример использования
-------------------------

```python
from src.logger.logger import logger

# Запись сообщения уровня INFO
logger.info("Успешная обработка данных", text_color="green")

# Запись сообщения уровня DEBUG
logger.debug("Отладка: Проверка параметра", text_color="cyan", bg_color="light_gray")

# Запись сообщения уровня WARNING
logger.warning("Некорректные данные", text_color="light_red")

# Запись сообщения уровня ERROR
try:
    1 / 0  # Вызов ошибки деления на ноль
except ZeroDivisionError as ex:
    logger.error("Ошибка деления на ноль", ex, exc_info=True, text_color="red")

# Запись сообщения уровня CRITICAL
logger.critical("Критическая ошибка: Системный сбой", text_color="red", bg_color="white")

# Запись сообщения уровня SUCCESS
logger.success("Завершение процесса", text_color="yellow")

# Запись сообщения уровня EXCEPTION
try:
    raise Exception("Тестовое исключение")
except Exception as ex:
    logger.exception("Произошло исключение", ex, exc_info=True, text_color="cyan", bg_color="light_gray")
```

## Дополнительные сведения
-------------------------

* Класс `Logger` использует функцию `inspect.stack()` для определения файла, функции и строки, где произошла ошибка.
* В методе `_format_message` используется словарь `LOG_SYMBOLS` для добавления символа уровня логирования к сообщению.
* Сообщения записываются в файлы с использованием классов `logging.FileHandler` и `logging.StreamHandler`.
* Для записи сообщений в формате JSON используется кастомный форматтер `JsonFormatter`, который конвертирует объект `logging.LogRecord` в JSON-строку. 
*  Класс `Logger` обеспечивает гибкий и удобный механизм записи сообщений с различными уровнями логирования, возможностью настройки цвета и добавления дополнительной информации об ошибке.