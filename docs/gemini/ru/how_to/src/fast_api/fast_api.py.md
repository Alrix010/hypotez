## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот блок кода реализует FastAPI сервер с возможностью добавления новых маршрутов (endpoints) и управления запуском и остановкой сервера. 

Шаги выполнения
-------------------------
1. **Инициализация сервера**:
    - Создается экземпляр класса `FastApiServer`, который является синглтоном.
    - В конструктор передаются необходимые параметры, такие как `host` (хост-адрес) и `title` (название сервера).
    - Добавляются базовые маршруты `"/hello"` и `"/post"` с соответствующими функциями-обработчиками.

2. **Добавление маршрутов**:
    - Для добавления нового маршрута используется метод `add_route`.
    - В метод передаются:
        - `path` (путь маршрута);
        - `func` (функция-обработчик);
        - `methods` (список разрешенных HTTP-методов, по умолчанию ["GET"]).

3. **Запуск сервера**:
    - Метод `start` запускает сервер на указанном порту.
    - Запуск происходит в отдельном потоке, чтобы не блокировать главный поток.

4. **Остановка сервера**:
    - Метод `stop` останавливает сервер на указанном порту.
    - При необходимости можно остановить все сервера, используя метод `stop_all`.

5. **Получение статуса серверов**:
    - Метод `get_servers_status` возвращает словарь, где ключи - порты, а значения - статус сервера ("Running" или "Stopped").

6. **Получение списка маршрутов**:
    - Метод `get_routes` возвращает список всех зарегистрированных маршрутов.

7. **Добавление нового маршрута к работающему приложению**:
    - Метод `add_new_route` добавляет новый маршрут к уже работающему приложению. 
    - В метод передаются:
        - `path` (путь маршрута);
        - `module_name` (имя модуля, где находится функция-обработчик);
        - `func_name` (имя функции-обработчика);
        - `methods` (список разрешенных HTTP-методов, по умолчанию ["GET"]).

Пример использования
-------------------------

```python
from src.fast_api.fast_api import FastApiServer, start_server, stop_server, status_servers, get_routes, add_new_route

# Создание экземпляра сервера
api_server = FastApiServer(host="0.0.0.0", title="My FastAPI Server")

# Запуск сервера на порту 8000
api_server.start(port=8000)

# Добавление нового маршрута
api_server.add_new_route(path="/new_route", module_name="my_module", func_name="my_function", methods=["POST"])

# Остановка сервера на порту 8000
api_server.stop(port=8000)

# Вывод статуса серверов
print(api_server.get_servers_status())

# Вывод списка маршрутов
print(api_server.get_routes())
```