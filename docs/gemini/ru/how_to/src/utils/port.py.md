## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Функция `get_free_port` ищет и возвращает свободный порт на указанном хосте. Она может работать как с заданным диапазоном портов, так и без него, в этом случае будет возвращен первый доступный порт.

Шаги выполнения
-------------------------
1. **Проверка типа `port_range`**: Функция проверяет тип `port_range`:
    - Если `port_range` не задан (None), то функция переходит к пошаговой проверке портов, начиная с 1024.
    - Если `port_range` - строка, то функция парсит ее в диапазон портов.
    - Если `port_range` - список, то функция проверяет каждый элемент списка, пытаясь найти свободный порт в указанном диапазоне.
2. **Парсинг диапазона портов**: Если `port_range` - строка, то функция  `_parse_port_range` парсит ее в кортеж `(min_port, max_port)`.
3. **Проверка доступности порта**:  Функция  `_is_port_in_use` проверяет, занят ли порт на указанном хосте.
4. **Поиск свободного порта**:  
    - Если `port_range` не задан, то функция перебирает порты, начиная с 1024, и возвращает первый свободный.
    - Если `port_range` - строка, то функция перебирает порты в заданном диапазоне и возвращает первый свободный.
    - Если `port_range` - список, то функция перебирает порты в каждом диапазоне из списка и возвращает первый свободный.

Пример использования
-------------------------

```python
    # Найти свободный порт в диапазоне от 3000 до 3005
    port = get_free_port('localhost', '3000-3005')
    print(f"Свободный порт: {port}")

    # Найти свободный порт в диапазонах 4000-4005 и 5000-5010
    port = get_free_port('localhost', ['4000-4005', [5000, 5010]])
    print(f"Свободный порт: {port}")

    # Найти первый свободный порт, начиная с 1024
    port = get_free_port('localhost')
    print(f"Свободный порт: {port}")
```