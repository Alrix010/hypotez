### **Как использовать этот блок кода**
=========================================================================================

Описание
-------------------------
Этот код предоставляет утилиту для отображения вращающегося курсора в консоли, чтобы имитировать процесс загрузки или ожидания.

Шаги выполнения
-------------------------
1. **Определение генератора `spinning_cursor`**:
   - Функция `spinning_cursor` является генератором, который циклически перебирает символы `|`, `/`, `-`, `\\` для создания анимации вращающегося курсора.
   - При каждом вызове `next(cursor)` возвращается следующий символ из последовательности.

2. **Определение функции `show_spinner`**:
   - Функция `show_spinner` отображает вращающийся курсор в консоли в течение заданного времени.
   - Принимает аргументы:
     - `duration` (float): Продолжительность работы курсора в секундах (по умолчанию 5.0).
     - `delay` (float): Задержка между каждой сменой символа курсора в секундах (по умолчанию 0.1).
   - Внутри функции:
     - Создается экземпляр генератора `spinning_cursor`.
     - Вычисляется время окончания анимации (`end_time`).
     - В цикле, пока текущее время меньше `end_time`:
       - Выводится следующий символ курсора с помощью `sys.stdout.write()`.
       - Вызывается `sys.stdout.flush()` для немедленного отображения символа в консоли.
       - Происходит задержка на время `delay` с помощью `time.sleep()`.
       - Символ курсора стирается с помощью `sys.stdout.write('\\b')`.

3. **Пример использования в `if __name__ == "__main__":`**:
   - Если скрипт запускается как основной, выполняется следующий код:
     - Выводится сообщение "Spinner for 5 seconds:".
     - Вызывается функция `show_spinner` с параметрами `duration=5.0` и `delay=0.1`, чтобы отобразить вращающийся курсор в течение 5 секунд.
     - Выводится сообщение "Done!".

Пример использования
-------------------------

```python
import time
import sys

def spinning_cursor():
    """ Генератор для вращающегося курсора, который циклически перебирает символы |, /, -, \\.
    
    Yields:
        str: Следующий символ в последовательности курсора.
    
    Example:
        >>> cursor = spinning_cursor()
        >>> next(cursor)  # '|'
        >>> next(cursor)  # '/'
        >>> next(cursor)  # '-'
        >>> next(cursor)  # '\\'
    """
    while True:
        for cursor in '|/-\\':
            yield cursor

def show_spinner(duration: float = 5.0, delay: float = 0.1):
    """ Отображает вращающийся курсор в консоли в течение заданного времени.
    
    Args:
        duration (float): Продолжительность работы курсора в секундах. По умолчанию 5.0.
        delay (float): Задержка между каждой сменой символа курсора в секундах. По умолчанию 0.1.
    
    Example:
        >>> show_spinner(duration=3.0, delay=0.2)  # Отображает курсор в течение 3 секунд
    """
    spinner = spinning_cursor()
    end_time = time.time() + duration

    while time.time() < end_time:
        sys.stdout.write(next(spinner))   # Вывод следующего символа курсора
        sys.stdout.flush()                # Немедленный вывод в консоль
        time.sleep(delay)                 # Пауза на время задержки
        sys.stdout.write('\b')            # Стирание символа курсора

if __name__ == "__main__":
    # Пример использования курсора в скрипте
    print("Spinner for 5 seconds:")
    show_spinner(duration=5.0, delay=0.1)
    print("\nDone!")