## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Блок кода предоставляет функции для работы с CSV-файлами. Он включает функции для:

- **Сохранения** списка словарей в CSV-файл.
- **Чтения** CSV-файла и преобразования его в список словарей.
- **Преобразования** CSV-файла в JSON-формат.
- **Чтения** CSV-файла в виде словаря.
- **Чтения** CSV-файла с использованием Pandas и преобразования его в список словарей.

Шаги выполнения
-------------------------
1. **Импорт необходимых модулей:** 
    - `csv`: для работы с CSV-файлами.
    - `json`: для работы с JSON-файлами.
    - `pathlib`: для работы с путями к файлам.
    - `pandas`: для работы с таблицами данных.
    - `logger`: для ведения журнала.

2. **Функция `save_csv_file`:** 
    - Принимает список словарей, путь к CSV-файлу, режим записи (`'a'` для добавления, `'w'` для перезаписи) и флаг `exc_info` для включения трассировки исключений в лог.
    - Создает директорию для файла, если она не существует.
    - Открывает файл в заданном режиме.
    - Использует `csv.DictWriter` для записи данных в файл.
    - Возвращает `True`, если запись прошла успешно, иначе `False`.

3. **Функция `read_csv_file`:** 
    - Принимает путь к CSV-файлу и флаг `exc_info` для включения трассировки исключений в лог.
    - Открывает файл для чтения.
    - Использует `csv.DictReader` для чтения данных из файла.
    - Возвращает список словарей, если чтение прошло успешно, иначе `None`.

4. **Функция `read_csv_as_json`:** 
    - Принимает путь к CSV-файлу, путь к JSON-файлу и флаг `exc_info` для включения трассировки исключений в лог.
    - Считывает CSV-файл в список словарей с помощью `read_csv_file`.
    - Записывает список словарей в JSON-файл.
    - Возвращает `True`, если преобразование прошло успешно, иначе `False`.

5. **Функция `read_csv_as_dict`:** 
    - Принимает путь к CSV-файлу.
    - Открывает файл для чтения.
    - Использует `csv.DictReader` для чтения данных из файла.
    - Возвращает словарь, где ключ - это имя колонки, а значение - список значений этой колонки.

6. **Функция `read_csv_as_ns`:**
    - Принимает путь к CSV-файлу.
    - Использует `pd.read_csv` для чтения CSV-файла с помощью Pandas.
    - Преобразует данные в список словарей с помощью `to_dict(orient='records')`.
    - Возвращает список словарей.


Пример использования
-------------------------

```python
from src.utils.csv import save_csv_file, read_csv_file, read_csv_as_json, read_csv_as_dict, read_csv_as_ns

# Данные для сохранения в CSV-файл
data = [
    {'name': 'Alice', 'age': 30},
    {'name': 'Bob', 'age': 25},
    {'name': 'Charlie', 'age': 35},
]

# Сохранение данных в CSV-файл
save_csv_file(data, 'data.csv', mode='w')

# Чтение данных из CSV-файла
csv_data = read_csv_file('data.csv')
print(csv_data)  # Вывод: [{'name': 'Alice', 'age': 30}, {'name': 'Bob', 'age': 25}, {'name': 'Charlie', 'age': 35}]

# Преобразование CSV-файла в JSON-формат
read_csv_as_json('data.csv', 'data.json')

# Чтение CSV-файла в виде словаря
csv_dict = read_csv_as_dict('data.csv')
print(csv_dict)  # Вывод: {'data': [{'name': 'Alice', 'age': 30}, {'name': 'Bob', 'age': 25}, {'name': 'Charlie', 'age': 35}]}

# Чтение CSV-файла с использованием Pandas
ns_data = read_csv_as_ns('data.csv')
print(ns_data)  # Вывод: [{'name': 'Alice', 'age': 30}, {'name': 'Bob', 'age': 25}, {'name': 'Charlie', 'age': 35}]

```