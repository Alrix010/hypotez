### **Как использовать этот блок кода**
=========================================================================================

Описание
-------------------------
Этот блок кода предоставляет класс `TimeoutCheck` с функциями для проверки, находится ли текущее время в заданном интервале, с возможностью указания таймаута. Он также включает функциональность для ожидания ввода от пользователя с использованием таймаута.

Шаги выполнения
-------------------------
1. **Инициализация класса `TimeoutCheck`**:
   - Создается экземпляр класса `TimeoutCheck`. Этот класс содержит методы для проверки временных интервалов и ожидания ввода с таймаутом.

2. **Проверка временного интервала с таймаутом**:
   - Функция `interval_with_timeout` проверяет, находится ли текущее время в указанном интервале `start` и `end`.
   - Создается поток для выполнения проверки интервала.
   - Поток запускается и ожидается его завершение в течение заданного времени `timeout`.
   - Если поток завершается до истечения таймаута, возвращается результат проверки.
   - Если таймаут истекает, поток завершается, и функция возвращает `False`.

3. **Проверка нахождения в интервале**:
   - Функция `interval` определяет, находится ли текущее время между `start` и `end`.
   - Если `start` меньше `end`, проверяется, находится ли текущее время между ними.
   - Если `start` больше `end`, проверяется, находится ли текущее время за пределами интервала (например, интервал с 23:00 до 06:00).

4. **Ожидание ввода от пользователя с таймаутом**:
   - Функция `input_with_timeout` ожидает ввод от пользователя в течение заданного времени `timeout`.
   - Запускается поток для получения ввода от пользователя.
   - Поток ожидает завершения или истечения таймаута.
   - Если пользователь вводит данные до истечения таймаута, данные возвращаются.
   - Если таймаут истекает, возвращается `None`.

Пример использования
-------------------------

```python
from datetime import time
import threading

class TimeoutCheck:
    def __init__(self):
        self.result = None

    def interval(self, start: time = time(23, 0), end: time = time(6, 0)) -> bool:
        """
        Проверяет, находится ли текущее время в указанном интервале.

        Args:
            start (time): Начало интервала (по умолчанию 23:00).
            end (time): Конец интервала (по умолчанию 06:00).

        Returns:
            bool: True, если текущее время находится в интервале, False в противном случае.
        """
        current_time = datetime.now().time()

        if start < end:
            # Интервал в пределах одного дня (например, с 08:00 до 17:00)
            self.result = start <= current_time <= end
        else:
            # Интервал, охватывающий полночь (например, с 23:00 до 06:00)
            self.result = current_time >= start or current_time <= end

    def interval_with_timeout(self, timeout: int = 5, start: time = time(23, 0), end: time = time(6, 0)) -> bool:
        """
        Проверяет, находится ли текущее время в указанном интервале с таймаутом.

        Args:
            timeout (int): Время в секундах для ожидания проверки интервала.
            start (time): Начало интервала (по умолчанию 23:00).
            end (time): Конец интервала (по умолчанию 06:00).

        Returns:
            bool: True, если текущее время находится в интервале и получен ответ в течение таймаута, False, если нет или произошел таймаут.
        """
        thread = threading.Thread(target=self.interval, args=(start, end))
        thread.start()
        thread.join(timeout)

        if thread.is_alive():
            print(f"Таймаут произошел после {timeout} секунд, продолжение выполнения.")
            thread.join()  # Убеждается, что поток останавливается после таймаута
            return False  # Произошел таймаут, возвращается False
        return self.result

    def get_input(self):
        """Запрашивает ввод от пользователя."""
        self.user_input = input("U:> ")

    def input_with_timeout(self, timeout: int = 5) -> str | None:
        """
        Ожидает ввод с таймаутом.

        Args:
            timeout (int): Время ожидания ввода в секундах.

        Returns:
            str | None: Введенные данные или None, если произошел таймаут.
        """
        # Запускает поток для получения ввода от пользователя
        thread = threading.Thread(target=self.get_input)
        thread.start()

        # Ожидает завершения потока или таймаут
        thread.join(timeout)

        if thread.is_alive():
            print(f"Таймаут произошел после {timeout} секунд.")
            return  # Возвращает None, если таймаут произошел

        return self.user_input


if __name__ == '__main__':
    # Пример использования
    timeout_check = TimeoutCheck()
    
    # Проверка интервала с таймаутом в 5 секунд
    if timeout_check.interval_with_timeout(timeout=5):
        print("Текущее время находится в интервале.")
    else:
        print("Текущее время вне интервала или произошел таймаут.")