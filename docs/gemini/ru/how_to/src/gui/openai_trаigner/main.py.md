## Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот блок кода реализует основное окно приложения, которое позволяет пользователю открывать веб-страницы и управлять ими. Приложение включает в себя:
- **Браузер:** Встроенный браузер на базе `QWebEngineView` для отображения веб-страниц.
- **Панель инструментов:** Верхняя панель с полями ввода URL, кнопками "Загрузить", "Свернуть в трей", "Открыть на весь экран", "Закрыть", кнопками-меню "Сервисы Google" и "Выбор модели".
- **Трей-иконка:** Иконка приложения в системном трее для быстрого доступа.
- **Меню:** Контекстное меню для трей-иконки, позволяющее восстановить окно или выйти из приложения.
- **Меню для выбора URL:**  Меню для быстрого перехода к популярным сервисам Google (вход в Google, Gmail, Google Docs, Google Sheets, Google Drive, Google Photos).
- **Меню для выбора моделей:** Меню для быстрого перехода к популярным моделям ИИ (ChatGPT, Gemini, Claude).

Шаги выполнения
-------------------------
1. **Создание главного окна:**  
   - `AssistantMainWindow()` - инициализирует класс, наследуемый от `QMainWindow`.
   - `setWindowFlags()` - убирает возможность максимизации окна.
   - `setGeometry()` - задает начальные размеры и позицию окна на 3/4 экрана.

2. **Выбор браузера:**
   - `ask_for_browser()` -  выводит диалоговое окно с выбором браузера (Chrome, Firefox, Edge).
   - Собирает данные о профиле браузера на основе выбранного варианта.

3. **Инициализация профиля и браузера:**
   - `QWebEngineProfile(profile_path)` - создает профиль браузера с использованием полученного пути.
   - `QWebEngineView(self)` - создает виджет браузера.
   - `setPage()` - устанавливает страницу по умолчанию для браузера.

4. **Создание верхней панели инструментов:**
   - `QWidget(self)` - создает контейнер для панели инструментов.
   - `setStyleSheet()` - задает стиль для панели.

5. **Добавление элементов на панель:**
   - `QLineEdit(self.title_bar)` - создает поле ввода URL.
   - `QPushButton("Загрузить", self.title_bar)` - создает кнопку "Загрузить".
   - `QPushButton(self.title_bar)` - создает кнопки "Свернуть в трей", "Открыть на весь экран", "Закрыть" с иконками.
   - `setFixedSize(30, 30)` - устанавливает размер кнопок.
   - `QHBoxLayout(self.title_bar)` - создает горизонтальный layout для панели.
   - `addWidget()` - добавляет элементы на панель.

6. **Создание основного layout:**
   - `QVBoxLayout()` - создает вертикальный layout для окна.
   - `addWidget()` - добавляет панель инструментов и браузер в layout.
   - `setContentsMargins(0, 0, 0, 0)` - убирает отступы layout'a.

7. **Установка layout'a:**
   - `QWidget()` - создает центральный виджет окна.
   - `setLayout()` - устанавливает layout для виджета.
   - `setCentralWidget()` - устанавливает виджет в качестве центрального.

8. **Инициализация трей-иконки:**
   - `QSystemTrayIcon(self)` - создает трей-иконку.
   - `setIcon(QIcon.fromTheme("application-exit"))` - устанавливает иконку.

9. **Создание контекстного меню для трей-иконки:**
   - `QMenu()` - создает контекстное меню.
   - `QAction("Восстановить", self)` - создает действие "Восстановить".
   - `QAction("Выход", self)` - создает действие "Выход".
   - `addAction()` - добавляет действия в меню.

10. **Установка меню для трей-иконки:**
   - `setContextMenu(tray_menu)` - устанавливает меню для трей-иконки.
   - `show()` - показывает трей-иконку.

11. **Создание меню для выбора URL:**
   - `QMenu("Сервисы Google", self)` - создает меню "Сервисы Google".
   - `QAction("Google Login", self)` - создает действие "Google Login".
   - `QAction("Gmail", self)` - создает действие "Gmail" и т.д.
   - `addAction()` - добавляет действия в меню.

12. **Создание меню для выбора моделей:**
   - `QMenu("Выбор модели", self)` - создает меню "Выбор модели".
   - `QAction("ChatGPT", self)` - создает действие "ChatGPT".
   - `QAction("Gemini", self)` - создает действие "Gemini" и т.д.
   - `addAction()` - добавляет действия в меню.

13. **Добавление кнопок-меню на панель:**
   - `QPushButton("Сервисы Google", self.title_bar)` - создает кнопку для меню "Сервисы Google".
   - `QPushButton("Выбор модели", self.title_bar)` - создает кнопку для меню "Выбор модели".
   - `setMenu()` - устанавливает меню для кнопок.
   - `addWidget()` - добавляет кнопки на панель.

14. **Функция `ask_for_browser()`:**
   - `QMessageBox.getItem()` - выводит диалоговое окно для выбора браузера.
   - Возвращает выбранный браузер.

15. **Функция `load_url()`:**
   - Извлекает URL из поля ввода или принимает его как аргумент.
   - Проверяет наличие префикса "http" и добавляет его, если нужно.
   - Загружает URL в браузер.

16. **Функция `hide_to_tray()`:**
   - Скрывает окно приложения.

17. **Функция `quit_app()`:**
   - Скрывает трей-иконку.
   - Завершает приложение.

18. **`closeEvent()`:**
   - Переопределяет событие закрытия окна для скрытия его в трей при закрытии через кнопку "X".
   - `event.ignore()` - игнорирует закрытие окна.

19. **Запуск приложения:**
   - `QApplication(sys.argv)` - создает приложение.
   - `setQuitOnLastWindowClosed(False)` - приложение будет оставаться в трее, даже если закрыть все окна.
   - `window.show()` - показывает окно приложения.
   - `sys.exit(app.exec())` - запускает цикл событий приложения.

Пример использования
-------------------------

```python
# Импорт модуля
from src.gui.openai_trаigner.main import AssistantMainWindow

# Создание объекта главного окна
window = AssistantMainWindow()

# Отображение окна
window.show()
```