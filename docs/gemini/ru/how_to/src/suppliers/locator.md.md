## Как использовать локаторы веб-элементов
=========================================================================================

Описание
-------------------------
Локаторы веб-элементов представляют собой набор правил, определяющих, как найти конкретный элемент на HTML-странице.  
Они используются для взаимодействия с веб-элементами, такими как получение значения атрибута, выполнение действий (например, клик) и т.д.

Шаги выполнения
-------------------------
1. **Определение локатора**: Создайте словарь, содержащий информацию о локаторе, как показано в примере.
2. **Использование локатора**:  
   - Передайте локатор в метод `execute_locator` класса `Driver`.
   - Получите результат.
   - Используйте полученный результат для дальнейшей работы.

Пример использования
-------------------------

```python
from src.suppliers import locator
from src.webdirver import Driver, Chrome

# Загрузка локатора
locator = locator.j_loads('path/to/locators.json')  # Загрузите локаторы из файла

# Создание драйвера
d = Driver(Chrome)
d.open_url('https://www.example.com')  # Откройте страницу

# Получение значения локатора
value = d.execute_locator(locator['name'])  # Получите значение локатора 'name'
```

### Детали:

#### Формат локатора:

```json
"locator_name": {
  "attribute": null,  # Атрибут, который нужно получить от веб-элемента
  "by": "XPATH",      # Стратегия поиска элемента (ID, NAME, CLASS_NAME, TAG_NAME, LINK_TEXT, PARTIAL_LINK_TEXT, CSS_SELECTOR, XPATH)
  "selector": "//button[@id = 'closeXButton']",   # Селектор для поиска элемента
  "if_list": "first", # Правило обработки списка элементов (first, all, last, even, odd, [1,2,3])
  "use_mouse": false,  # Использовать мышь для взаимодействия с элементом
  "mandatory": false, # Обязательный ли локатор
  "timeout": 0,       # Время ожидания поиска элемента
  "timeout_for_event": "presence_of_element_located",  # Время ожидания для события
  "event": "click()",  # Событие, которое будет выполнено с элементом
  "locator_description": "Описание локатора"  # Описание цели локатора
}
```

#### Описание ключей локатора:

1. **`attribute`**:  
   Этот ключ указывает на атрибут, который будет использован для поиска элемента. В данном случае значение `null`, что означает, что атрибут не используется для поиска.
2. **`by`**:  
   Указывает на метод поиска элемента на странице. В данном случае это `\'XPATH\'`, что означает использование XPath для нахождения элемента.
3. **`selector`**:  
   Это строка, представляющая локатор, который будет использоваться для нахождения элемента. В данном случае это XPath выражение `"//button[@id = 'closeXButton']"`, что означает поиск кнопки с `id='closeXButton'`.
4. **`if_list`**:  
   Указывает правило обработки списка элементов. В данном случае указано `\'first\'`, что означает, что если элементов несколько, то будет возвращен первый элемент из найденного списка.
5. **`use_mouse`**:  
   Булевое значение, которое указывает, нужно ли использовать мышь для взаимодействия с элементом. В данном случае установлено `false`, что значит, что мышь не используется.
6. **`timeout`**:  
   Время ожидания (в секундах) для нахождения элемента. В данном случае установлено значение `0`, что означает, что поиск элемента будет выполнен немедленно без ожид\
\nания.
7. **`timeout_for_event`**:  
   Время ожидания (в секундах) для события. В данном случае указано `"presence_of_element_located"`, что означает, что WebDriver будет ожидать появления элемента перед выполнением события.
8. **`event`**:  
   Указывает, какое событие должно быть выполнено с найденным элементом. Например, это может быть `click()`, чтобы кликнуть на элемент, или `screenshot()`, чтобы сделать скриншот элемента.
9. **`mandatory`**:  
   Указывает, является ли локатор обязательным. Если установлено значение `true`, то если элемент не будет найден или не удастся с ним взаимодействовать, будет вызвана ошибка.
10. **`locator_description`**:  
   Описание того, что делает локатор, чтобы помочь в понимании его цели.

#### Пример использования локаторов в коде:

```python
from src.suppliers import locator
from src.webdirver import Driver, Chrome

# Загрузка локатора
locator = locator.j_loads('path/to/locators.json')  # Загрузите локаторы из файла

# Создание драйвера
d = Driver(Chrome)
d.open_url('https://www.example.com')  # Откройте страницу

# Получение значения локатора
name = d.execute_locator(locator['name'])  # Получите значение локатора 'name'
price = d.execute_locator(locator['price'])  # Получите значение локатора 'price'
```

### Дополнительная информация:

- **`locator_description`**:  
  Это ключевой аспект, который делает локаторы более понятными и упрощает их использование. Используйте `locator_description` для предоставления четкой информации о том, что делает каждый локатор.
- **Сложные локаторы**:  
  В ключи локатора можно передавать списки, кортежи или словари. Это позволяет создавать более сложные локаторы для выполнения последовательности действий.

### Где расположены локаторы:
```text
src/
├── suppliers/
│   ├── suppliers_list/
│   │   ├── supplier_a/
│   │   │   ├── __init__.py
│   │   │   ├── graber.py  # <--- Модуль для supplier_a
│   │   │   └── locators/
│   │   │       └── category.json # <--- Локаторы для supplier_a
│   │   ├── supplier_b/
│   │   │   ├── __init__.py
│   │   │   ├── graber.py  # <--- Модуль для supplier_b
│   │   │   └── locators/
│   │   │       └── category.json
│   │   └── ...
│   └── ...
└── ...
```

### Важно:

- Локаторы могут быть специфичны для определенной версии сайта (десктопная/мобильная). Храните локаторы для каждой версии сайта в отдельном файле.
- Имя файла локатора должно соответствовать названию поставщика.

Дополнительную информацию о локаторах можно найти в `locator.ru.md` в модуле `webdrivaer`.