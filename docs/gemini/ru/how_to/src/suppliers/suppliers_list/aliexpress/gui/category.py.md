## Как использовать класс `CategoryEditor`
=========================================================================================

Описание
-------------------------
Класс `CategoryEditor` представляет собой графический интерфейс (GUI) для подготовки рекламных кампаний на AliExpress. Он позволяет открывать файл JSON с данными кампании, отображать информацию о кампании и категориях, а также запускать асинхронную подготовку категорий.

Шаги выполнения
-------------------------
1. **Инициализация объекта `CategoryEditor`**: Создается объект `CategoryEditor`, передавая в конструктор опционально родительский виджет и экземпляр `MainApp`.
2. **Настройка интерфейса (UI)**: Вызывается метод `setup_ui()`, который настраивает виджеты интерфейса:
    - Кнопка **"Open JSON File"**: Открывает диалоговое окно выбора файла и загружает выбранный JSON-файл.
    - Кнопка **"Prepare All Categories"**: Запускает асинхронную подготовку всех категорий в кампании.
    - Кнопка **"Prepare Category"**: Запускает асинхронную подготовку выбранной категории.
3. **Настройка соединений (Connections)**: Вызывается метод `setup_connections()`, который устанавливает связи между сигналами и слотами виджетов.
4. **Загрузка файла**: При нажатии на кнопку "Open JSON File" вызывается метод `open_file()`, который открывает диалоговое окно выбора файла и вызывает метод `load_file()`, чтобы загрузить выбранный JSON-файл.
5. **Обработка данных**: Метод `load_file()` загружает JSON-файл, используя `j_loads_ns()`, парсит данные, сохраняет значения в атрибуты класса и создает виджеты для отображения данных с помощью метода `create_widgets()`.
6. **Создание виджетов**: Метод `create_widgets()` динамически создает виджеты, такие как `QLabel`, для отображения информации о кампании и категориях.
7. **Подготовка категорий**: Методы `prepare_all_categories_async()` и `prepare_category_async()` запускают асинхронные операции для подготовки всех категорий или конкретной категории.
    - Они используют метод `prepare_all_categories()` или `prepare_category()` класса `AliCampaignEditor`, который, в свою очередь, выполняет конкретные действия по подготовке категорий.


Пример использования
-------------------------

```python
from src.suppliers.suppliers_list.aliexpress.gui.category import CategoryEditor
from src.suppliers.suppliers_list.aliexpress.campaign import AliCampaignEditor

# Создаем объект AliCampaignEditor
editor = AliCampaignEditor(campaign_file='path/to/campaign.json')

# Создаем объект CategoryEditor и передаем ему экземпляр AliCampaignEditor
category_editor = CategoryEditor(main_app=None, editor=editor)

# Запускаем GUI
category_editor.show()
```

В этом примере сначала создается объект `AliCampaignEditor`, передавая путь к файлу JSON с данными кампании. Затем создается объект `CategoryEditor` и передается ему экземпляр `AliCampaignEditor`.  После этого запускается GUI с помощью метода `show()`.

## Дополнительные замечания
- Класс `CategoryEditor` использует модуль `asyncio` для выполнения асинхронных операций.
- Он использует библиотеку `PyQt6` для создания графического интерфейса.
- Методы `prepare_all_categories_async()` и `prepare_category_async()` используют декоратор `@asyncSlot()`, чтобы сделать их доступными для вызова из потока GUI.
- `j_loads_ns` - это функция из модуля `src.utils.jjson`, которая загружает JSON-файл и возвращает объект `SimpleNamespace` с атрибутами, соответствующими ключам JSON.