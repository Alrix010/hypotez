### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Этот код представляет собой виджет `CampaignEditor` для редактирования кампаний, загруженных из JSON файлов. Он позволяет открывать файлы кампаний, отображать и редактировать основные параметры кампании, такие как заголовок, описание и название промоакции, а также подготавливать кампанию к дальнейшей обработке.

Шаги выполнения
-------------------------
1. **Инициализация виджета `CampaignEditor`**:
   - При создании экземпляра `CampaignEditor` инициализируется пользовательский интерфейс (UI) и настраиваются связи между элементами UI и функциями.
2. **Настройка UI (`setup_ui`)**:
   - Создается главное окно с заголовком "Campaign Editor".
   - Создается `QScrollArea` для обеспечения прокрутки содержимого, если оно не помещается в окне.
   - Внутри `QScrollArea` размещается `QWidget`, на котором располагаются все элементы управления.
   - Создаются кнопки "Open JSON File" (для открытия файла кампании) и "Prepare Campaign" (для подготовки кампании).
   - Создается метка `QLabel` для отображения имени выбранного файла.
   - Элементы управления добавляются в `QGridLayout`.
3. **Открытие файла (`open_file`)**:
   - При нажатии на кнопку "Open JSON File" открывается диалоговое окно выбора файла.
   - Диалоговое окно фильтрует файлы, отображая только файлы с расширением `.json`.
   - Если файл выбран, вызывается метод `load_file` для загрузки содержимого файла.
4. **Загрузка файла (`load_file`)**:
   - Функция извлекает данные из JSON-файла, используя `j_loads_ns`.
   - Функция сохраняет путь к текущему файлу кампании в `self.current_campaign_file`.
   - Функция устанавливает текст `file_name_label` с именем загруженного файла.
   - Функция вызывает `self.create_widgets` для создания виджетов на основе загруженных данных.
   - Функция создает экземпляр класса `AliCampaignEditor`.
   - При возникновении ошибки отображает сообщение об ошибке с помощью `QMessageBox.critical`.
5. **Создание виджетов (`create_widgets`)**:
   - Функция удаляет все предыдущие виджеты, кроме кнопок "Open JSON File" и метки имени файла.
   - Функция создает поля ввода `QLineEdit` для заголовка, описания и названия промоакции кампании, заполняя их данными из JSON.
   - Функция добавляет метки `QLabel` и поля ввода в `QGridLayout` для отображения и редактирования этих параметров.
6. **Подготовка кампании (`prepare_campaign`)**:
   - При нажатии на кнопку "Prepare Campaign" вызывается асинхронный метод `prepare_campaign`.
   - Функция вызывает метод `prepare` объекта `AliCampaignEditor` для подготовки кампании.
   - При успешной подготовке отображает сообщение об успехе с помощью `QMessageBox.information`.
   - При возникновении ошибки отображает сообщение об ошибке с помощью `QMessageBox.critical`.

Пример использования
-------------------------

```python
from PyQt6 import QtWidgets
from src.suppliers.suppliers_list.aliexpress.gui.campaign import CampaignEditor
import sys

app = QtWidgets.QApplication(sys.argv)
campaign_editor = CampaignEditor()
campaign_editor.show()
sys.exit(app.exec())