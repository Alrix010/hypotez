### Как использовать этот блок кода
=========================================================================================

Описание
-------------------------
Данный код предназначен для генерации сокращенных партнерских ссылок AliExpress с использованием веб-драйвера. Он автоматизирует процесс получения короткой ссылки через веб-интерфейс, вставляя полную ссылку в соответствующее поле, нажимая кнопку для генерации, и извлекая полученную короткую ссылку. Также код выполняет проверку короткой ссылки, открывая ее в новой вкладке и проверяя, не ведет ли она на страницу ошибки.

Шаги выполнения
-------------------------
1. **Ввод URL**: Функция `get_short_affiliate_link` принимает полную ссылку (`url`) в качестве аргумента.
2. **Ввод URL в поле**: Код вставляет переданный URL в текстовое поле на веб-странице, используя локатор `locator.textarea_target_url`.
3. **Нажатие кнопки**: Код нажимает на кнопку для генерации короткой партнерской ссылки, используя локатор `locator.button_get_tracking_link`.
4. **Ожидание**: Код ожидает 1 секунду, чтобы страница обновилась и короткая ссылка была сгенерирована.
5. **Извлечение короткой ссылки**: Код извлекает короткую ссылку из соответствующего элемента на странице, используя локатор `locator.textarea_short_link`.
6. **Проверка на наличие ошибки**: Если короткая ссылка не получена, в лог записывается сообщение об ошибке.
7. **Открытие короткой ссылки в новой вкладке**: Код открывает короткую ссылку в новой вкладке браузера.
8. **Переключение на новую вкладку**: Код переключается на новую вкладку, чтобы проверить корректность короткой ссылки.
9. **Проверка URL**: Код проверяет, что текущий URL не начинается с `https://error.taobao.com`, что указывает на ошибку.
10. **Обработка ошибки**: Если URL ведет на страницу ошибки, в лог записывается сообщение об ошибке, вкладка закрывается, и происходит переключение обратно на основную вкладку.
11. **Закрытие вкладки и возврат на основную**: Код закрывает новую вкладку и переключается обратно на основную вкладку.
12. **Возврат короткой ссылки**: Код возвращает полученную короткую ссылку.

Пример использования
-------------------------

```python
from src.suppliers.suppliers_list.aliexpress.scenarios.affiliate_links_shortener_scenario import get_short_affiliate_link
from src.webdriver.driver import Driver
from src.webdriver.driver import Chrome

# Пример использования функции get_short_affiliate_link
def example_usage(url: str):
    """
    Пример использования функции для получения короткой ссылки.
    """
    driver = Driver(Chrome)  # Инициализация драйвера
    driver.get("https://example.com/aliexpress_affiliate_tool")  # Открываем страницу с инструментом для сокращения ссылок
    short_link = get_short_affiliate_link(driver, url)
    if short_link:
        print(f"Короткая ссылка: {short_link}")
    else:
        print("Не удалось получить короткую ссылку.")
    driver.quit()  # Закрываем драйвер

# URL для которого необходимо получить короткую ссылку
url = "https://aliexpress.com/item/1234567890.html"

# Вызов функции для получения короткой ссылки
example_usage(url)