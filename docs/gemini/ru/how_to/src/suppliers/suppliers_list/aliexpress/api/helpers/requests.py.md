## Как использовать блок кода `api_request`
=========================================================================================

Описание
-------------------------
Блок кода `api_request` реализует функцию для отправки запросов к API и обработки ответов. 

Шаги выполнения
-------------------------
1. **Инициализация**: Функция принимает два обязательных аргумента: `request` - объект запроса к API, `response_name` - название поля в ответе API, которое содержит результат.
2. **Отправка запроса**: Функция пытается получить ответ от API.
3. **Обработка ошибок**: В случае возникновения ошибки при отправке запроса, записывается сообщение об ошибке в лог.
4. **Парсинг ответа**:  Ответ API парсится в структурированный формат (dict). 
5. **Проверка кода ответа**: Проверяется код ответа API (поле `resp_code`).
6. **Возвращение результата**: Если код ответа равен 200, функция возвращает результат (`result`) из ответа. В противном случае, в лог записывается предупреждение о нестандартном коде ответа.


Пример использования
-------------------------

```python
from src.suppliers.aliexpress.api.helpers.requests import api_request

# Создать объект запроса к API
request = ... # Инициализация объекта запроса

# Отправить запрос и получить результат
response = api_request(request, response_name='aliexpress_product_detail')

# Обработка результата
if response is not None:
    pprint(response)
```

**Важно**:
- При возникновении ошибок в процессе отправки запроса, в лог записывается критическая ошибка.
- При получении ответа API с нестандартным кодом ответа, в лог записывается предупреждение.
- Функция `api_request` не предназначена для обработки ошибок. 
- Она только отправляет запрос и пытается получить структурированный результат. 
-  Ошибки обрабатываются в других частях кода.