### **Как использовать этот блок кода**

=========================================================================================

Описание
-------------------------
Этот раздел содержит информацию о структуре локаторов, используемых для поиска элементов на HTML-страницах поставщиков. Локаторы определяют, как код взаимодействует с веб-страницей, чтобы извлечь или обработать нужную информацию.

Шаги выполнения
-------------------------
1.  **Определение локатора**:
    -   Локатор представляет собой JSON-словарь, содержащий параметры для поиска элемента на странице.
    -   Имя словаря должно соответствовать имени поля в классе `ProductFields`, чтобы извлеченные данные правильно сопоставлялись с полями товара.
2.  **Использование локатора**:
    -   В коде используется метод `d.execute_locator(locator_name)` для выполнения поиска элемента на странице с использованием параметров, определенных в локаторе.
    -   Результат выполнения локатора присваивается соответствующему полю в объекте `ProductFields`.
3.  **Структура локатора**:
    -   `attribute`: Атрибут веб-элемента, который необходимо получить (`innerText`, `src`, `href` и т.д.). Если `null`, возвращается весь `WebElement`.
    -   `by`: Метод поиска элемента (`XPATH`, `CSS_SELECTOR`, `ID` и т.д.).
    -   `selector`: XPath или CSS-селектор для поиска элемента.
    -   `if_list`: Обработка списка найденных элементов (`first`, `all`, `last`, `even`, `odd`, конкретные номера).
    -   `use_mouse`: Указывает, нужно ли использовать мышь для взаимодействия с элементом (`true` или `false`).
    -   `event`: Действие, которое нужно выполнить с элементом (`click()`, `screenshot()`, `scroll()`, `send_message()`). Выполняется **до** получения значения атрибута.
    -   `mandatory`: Определяет, является ли локатор обязательным. Если `true`, ошибка при неудачном взаимодействии приведет к остановке выполнения кода.
    -   `locator_description`: Описание локатора.
4.  **Сложные локаторы**:
    -   Вместо простых значений можно использовать списки, кортежи или словари для ключей локатора, чтобы выполнять несколько действий или искать элементы разными способами.

Пример использования
-------------------------

```python
# Пример использования локатора для получения имени и цены товара
from src.product.product_fields import ProductFields
from src.webdirver import Driver, Chrome, Firefox, Playwright

locator = {
    "name": {
        "attribute": "innerText",
        "by": "XPATH",
        "selector": "//h1[@class='product-name']",
        "if_list": "first",
        "use_mouse": False,
        "mandatory": True,
        "timeout": 10,
        "timeout_for_event": "presence_of_element_located",
        "locator_description": "Извлекает название товара.",
    },
    "price": {
        "attribute": "innerText",
        "by": "XPATH",
        "selector": "//span[@class='price']",
        "if_list": "first",
        "use_mouse": False,
        "mandatory": True,
        "timeout": 10,
        "timeout_for_event": "presence_of_element_located",
        "locator_description": "Извлекает цену товара.",
    },
}

# Пример использования с webdriver
d = Driver(Firefox)
d.get("https://example.com/product-page") # замените на реальный URL

name = d.execute_locator(locator['name'])
price = d.execute_locator(locator['price'])

# Сохраняем данные в структуру ProductFields
product = ProductFields(name=name, price=price)

print(product)
```